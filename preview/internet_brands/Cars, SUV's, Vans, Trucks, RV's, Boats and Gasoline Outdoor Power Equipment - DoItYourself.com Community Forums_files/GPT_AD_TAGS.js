var useSSL='https:'==document.location.protocol;var timerStart=Date.now();var pageLoaded=false;var arrAdslots=[];arrAdslots.push({"id":1,"name":"728x90_top","type":"","sizes":[[728,90],[970,66],[970,250]],"targets":{"kw":["top"]},"options":{"loggedin":true,"loggedout":true,"refresh":false},"set_options":null});arrAdslots.push({"id":2,"name":"300x250_top","type":"","sizes":[[300,250],[300,251],[300,600],[300,601],[300,1050],[600,250]],"targets":{"kw":["top"]},"options":{"loggedin":true,"loggedout":true,"refresh":false},"set_options":null});arrAdslots.push({"id":7,"name":"1x1_wallpaper","type":"","sizes":[[1,1]],"targets":{"kw":["wallpaper"]},"options":{"loggedin":true,"loggedout":true,"refresh":false},"set_options":null});arrAdslots.push({"id":8,"name":"550x480_interstital","type":"","sizes":[[550,480]],"targets":{"kw":["interstitial"]},"options":{"loggedin":true,"loggedout":true,"refresh":false},"set_options":null});arrAdslots.push({"id":9,"name":"160x60_logo","type":"","sizes":[[160,60]],"targets":{"kw":["logo"]},"options":{"loggedin":true,"loggedout":true,"refresh":false},"set_options":null});arrAdslots.push({"id":10,"name":"300X250_bottom","type":"","sizes":[[300,250],[300,600],[300,252],[300,601]],"targets":{"kw":["bottom"]},"options":{"loggedin":true,"loggedout":true,"refresh":false},"set_options":null});arrAdslots.push({"id":18,"name":"160x600_right","type":"","sizes":[[160,600]],"targets":{"kw":["right"]},"options":{"loggedin":true,"loggedout":true,"refresh":false},"set_options":null});window.DFPviewer='';window.headertag=window.headertag||{};window.headertag.pagetype='forum';var gptadslots=[],arrAdVisibility=[],arrAdsTimesTable=[],arrRefreshSlots=[],arrLazyLoadAds=[],arrUnloadedAds=[];var googletag=googletag||{};googletag.cmd=googletag.cmd||[];(function(){var gads=document.createElement('script');gads.async=true;gads.type='text/javascript';gads.src=(useSSL?'https:':'http:')+'//www.googletagservices.com/tag/js/gpt.js';var node=document.getElementsByTagName('script')[0];node.parentNode.insertBefore(gads,node);})();(function(){var gads=document.createElement('script');gads.async=true;gads.type='text/javascript';gads.src=(useSSL?'https:':'http:')+'//js-sec.indexww.com/ht/p/184397-225784379931886.js';var node=document.getElementsByTagName('script')[0];node.parentNode.insertBefore(gads,node);})();var ybotq=ybotq||[];(function(){var js=document.createElement('script');js.src=(useSSL?'https:':'http:')+'//cdn.yldbt.com/js/yieldbot.intent.js';js.async=true;js.type='text/javascript';var node=document.getElementsByTagName('script')[0];node.parentNode.insertBefore(js,node);})();ybotq.push(function(){yieldbot.pub('9f3f');yieldbot.defineSlot('728x90');yieldbot.defineSlot('side-unit-top',{sizes:[[300,250],[300,600]]});yieldbot.enableAsync();yieldbot.go();});ybotq.push(function(){googletag.cmd.push(function(){var oAdSlot='';oAdSlot=googletag.defineSlot('/2922/DIY/forum/728x90_top',[[728,90],[970,66],[970,250]],'div-gpt-ad-644391659162965002-1-desktop').setTargeting('kw',["top"]).addService(googletag.pubads());gptadslots.push(oAdSlot);yieldbot.setSlotTargeting('728x90',oAdSlot);oAdSlot=googletag.defineSlot('/2922/DIY/forum/300x250_top',[[300,250],[300,251],[300,600],[300,601],[300,1050],[600,250]],'div-gpt-ad-644391659162965002-2-desktop').setTargeting('kw',["top"]).addService(googletag.pubads());gptadslots.push(oAdSlot);yieldbot.setSlotTargeting('side-unit-top',oAdSlot);oAdSlot=googletag.defineSlot('/2922/DIY/forum/1x1_wallpaper',[[1,1]],'div-gpt-ad-644391659162965002-7-desktop').setTargeting('kw',["wallpaper"]).addService(googletag.pubads());gptadslots.push(oAdSlot);oAdSlot=googletag.defineSlot('/2922/DIY/forum/550x480_interstital',[[550,480]],'div-gpt-ad-644391659162965002-8-desktop').setTargeting('kw',["interstitial"]).addService(googletag.pubads());gptadslots.push(oAdSlot);oAdSlot=googletag.defineSlot('/2922/DIY/forum/160x60_logo',[[160,60]],'div-gpt-ad-644391659162965002-9-desktop').setTargeting('kw',["logo"]).addService(googletag.pubads());gptadslots.push(oAdSlot);oAdSlot=googletag.defineSlot('/2922/DIY/forum/300X250_bottom',[[300,250],[300,600],[300,252],[300,601]],'div-gpt-ad-644391659162965002-10-desktop').setTargeting('kw',["bottom"]).addService(googletag.pubads());gptadslots.push(oAdSlot);oAdSlot=googletag.defineSlot('/2922/DIY/forum/160x600_right',[[160,600]],'div-gpt-ad-644391659162965002-18-desktop').setTargeting('kw',["right"]).addService(googletag.pubads());gptadslots.push(oAdSlot);googletag.pubads().setTargeting('viewer',[window.DFPviewer]);googletag.pubads().setTargeting('page_url',[window.location.href]);googletag.pubads().setTargeting('category',["Cars_SUVs_Vans_Trucks_RVs_Boats_and_Gasoline_Outdoor_Power_Equipment"]);googletag.pubads().setTargeting('sub-category',["sub-forum"]);googletag.pubads().setTargeting('device',["desktop"]);googletag.pubads().setTargeting('user',["loggedout"]);googletag.pubads().setTargeting('variation',["control"]);googletag.pubads().enableSingleRequest();googletag.pubads().collapseEmptyDivs();googletag.pubads().enableAsyncRendering();googletag.enableServices();googletag.pubads().addEventListener('impressionViewable',function(event){setAdViewable(event.slot.getSlotElementId());});googletag.pubads().addEventListener('slotVisibilityChanged',function(event){setVisibility(event);});googletag.pubads().addEventListener('slotRenderEnded',function(event){var seconds=new Date().getTime()/1000;arrAdsTimesTable[event.slot.getSlotElementId()]=seconds;});});});$(function(){var device='desktop',idPattern='div-gpt-ad-644391659162965002',tagPattern='diygptAdSlot';for(var i=0;i<arrAdslots.length;i++){var oSlot=arrAdslots[i];var adElements=$('div[id*="'+tagPattern+'-'+oSlot.id+'-'+'"]');adElements.each(function(){var id=this.id.replace('all',device);if(id.indexOf(device)!==-1){var id=id.replace(tagPattern,idPattern);this.id=id;arrAdslots[i].tagId=id;$(this).removeClass('hidden');ybotq.push(function(){googletag.cmd.push(function(){googletag.display(id);});});}});}});function setAdViewable(slotTagId){arrAdVisibility[slotTagId]=true;}
function setAdNotViewable(slotTagId){arrAdVisibility[slotTagId]=false;}
function setVisibility(event){var slotTagId=event.slot.getSlotElementId();var i=0;var inViewPercentage=90;for(length=arrRefreshSlots.length;i<length;i++){var oSlot=arrRefreshSlots[i];if(oSlot.tagId==slotTagId){var inViewPercentage=oSlot.args.inViewPercentage;}}
if(event.inViewPercentage<inViewPercentage){setAdNotViewable(slotTagId);}else{setAdViewable(slotTagId);}}
function isAdVisible(slotTagId){if(typeof arrAdVisibility[slotTagId]==="undefined"){var windowTop=$(window).scrollTop();var windowBottom=windowTop+$(window).height();var slotDiv=$('#'+slotTagId);if(typeof slotDiv!=='undefined'&&isDivVisible(slotDiv)){var divTop=slotDiv.parent().offset().top;var visible=true;if(divTop<windowTop){visible=false;}
if(divTop>windowBottom){visible=false;}
return visible;}else{return false;}}else{return arrAdVisibility[slotTagId];}}
function isTimeForRefresh(slotTagId,interval){var current=((new Date().getTime())/1000);var timeLapse=current-arrAdsTimesTable[slotTagId];if(timeLapse>=interval){return true;}
return false;}
function refreshSlot(slotTagId,interval){var oSlot=getAdUnit(slotTagId);if(oSlot!=false&&isTimeForRefresh(slotTagId,interval)&&isAdVisible(slotTagId)){displayAds([oSlot]);return true;}
return false;}
function refreshAds(arrSlots){var arrRrefreshAds=new Array();if(arrSlots.length>0){var i=0;for(len=arrSlots.length;i<len;i++){var oSlotProp=arrSlots[i];refreshSlot(oSlotProp.tagId,oSlotProp.args.time);}}}
function processRefreshAds(){if(typeof intRefreshAds==='undefined'){window.intRefreshAds=window.setInterval(function(){if(document.hasFocus()){arrRefreshSlots=new Array();for(var i in arrAdslots){var oSlot=arrAdslots[i];if(typeof oSlot.options.refresh.enabled!=='undefined'&&oSlot.options.refresh.enabled){arrRefreshSlots.push(oSlot.options.refresh);}}
refreshAds(arrRefreshSlots);}},5000);}}
function removeSlash(thestring){return thestring.replace(/\/+$/,"");}
var ibinjectGroup=0;jQuery.fn.ibinject=function(options){var defaults={charactersOffset:null,numberOfAds:1,maxNumberOfAds:null,endOfContentAd:false,applicableTags:"p,ul,ol,br",tagCode:null,adUnits:null,containerClass:null,adWidth:null,adHeight:null,adSingleTargets:null,adMultipleTargets:null,viewport:null};var settings=$.extend({},defaults,options);var items=[];var newcount=0;var container=$(this);container.find(settings.applicableTags).each(function(i,e){items.push($(e).text());newcount=newcount+$(e).text().length;});if(settings.charactersOffset){var offset=settings.charactersOffset;}else{if(settings.numberOfAds==1){var offset=newcount/2;}else{var offset=newcount/(settings.numberOfAds+1);}}
var itemlength=items.length;var totalads=Math.floor(newcount/offset);var stop=offset;if(settings.maxNumberOfAds){if(settings.maxNumberOfAds<totalads){totalads=settings.maxNumberOfAds;stop=newcount/(settings.maxNumberOfAds+1);}}
if(settings.endOfContentAd){var countamount=totalads+1;}else{var countamount=totalads+0;}
googletag.cmd.push(function(){for(counter=0;counter!=countamount;counter++){var slotname="content_300x250_"+counter;var targetname="dyn-300-"+counter;var adsizes=[];adsizes.push([settings.adWidth,settings.adHeight]);if(counter===0&&settings.viewport=="desktop"){adsizes.push([640,360]);}
gptadslots.push(googletag.defineSlot('/'+removeSlash(settings.adUnits)+'/'+slotname,adsizes,'div-gpt-ad-'+settings.tagCode+'-'+counter).setTargeting('pos',[targetname]).addService(googletag.pubads()));}
googletag.pubads().enableSingleRequest();googletag.pubads().enableAsyncRendering();if(settings.adSingleTargets){var response=settings.adSingleTargets.split("|");for(c=0;c!=response.length;c++){var ready=response[c].split("=");googletag.pubads().setTargeting(ready[0],ready[1]);}}
if(settings.adMultipleTargets){var multiples=settings.adMultipleTargets.split("|");for(n=0;n!=multiples.length;n++){var mready=multiples[n].split("=");googletag.pubads().setTargeting(mready[0],[mready[1]]);}}});var adblock=[];for(a=0;a!=countamount;a++){adblock[a]="<div class='ibinject-container'><div id='div-gpt-ad-"+settings.tagCode+"-"+a+"'><script type='text/javascript'>googletag.cmd.push(function() { googletag.display('div-gpt-ad-"+settings.tagCode+"-"+a+"'); });</script></div></div>";}
var bottomadblock="<div class='ibinject-container'><div id='div-gpt-ad-"+settings.tagCode+"-16'><script type='text/javascript'>googletag.cmd.push(function() { googletag.display('div-gpt-ad-"+settings.tagCode+"-16'); });</script></div></div>";container.html(function(i,text){for(z=1;z!=countamount+1;z++){characterloop(items,stop*(z),z-1,adblock[z-1]);}});function characterloop(block,stopamount,extra,insert){var c=0;$.each(block,function(key,elem){c=c+elem.length;if(c>=stopamount){container.find(settings.applicableTags).eq(key).after(insert);return false;};});}
if(settings.endOfContentAd){$(container).children().last().after(adblock[countamount-1]);}};var injectAdsInt=[];function injectAds(element){var oIbinject={"viewport":"desktop"};var tagCode=(new Date()).getTime();oIbinject['tagCode']=tagCode;$(element).ibinject(oIbinject);ibinjectGroup++;}
function lazyloadInjectedAds(intervalId,tagId,lazyload,loadAfterPageLoad){window.injectAdsInt[intervalId]=window.setInterval(function(){var arrAds=[];var arrAdsToLoadAfter=[];var stop=false;if(gptadslots.length>0){$('div[id*="'+tagId+'"]').each(function(){var elementId=this.id;oSlot=getAdUnit(elementId);if(oSlot!=false){if(lazyload){registerLazyloadingAds([oSlot]);}else if(loadAfterPageLoad){arrAdsToLoadAfter.push(oSlot);}else{arrAds.push(oSlot);}}
stop=true;});if(arrAds.length>0){displayAds(arrAds);}
if(arrAdsToLoadAfter.length>0){registerAdsToLoadAfter(arrAdsToLoadAfter);}
if(arrLazyLoadAds.length>0){setLazyloadingEvent();}}
if(stop){window.clearInterval(injectAdsInt[intervalId]);}},100);}
function displayAds(arrSlots){googletag.pubads().refresh(arrSlots);}
function isDivVisible(slotDiv){if(typeof slotDiv.html()==='undefined'){return false;}
for(var i=0;i<5;i++){if(slotDiv.css('display').indexOf('none')!==-1||slotDiv.css('visibility').indexOf('hidden')!==-1){return false;}
slotDiv=slotDiv.parent();}
return true;}
function isDivInView(divId){var windowTop=$(window).scrollTop();var windowBottom=windowTop+$(window).height();var slotDiv=$('#'+divId);var visible=false;if(isDivVisible(slotDiv)){var divTop=slotDiv.parent().offset().top;if((divTop>windowTop-300&&divTop<windowBottom+300)){visible=true;}}
return visible;}
function getAdUnit(adTagId,arrAdslots){arrAdSlots=typeof arrAdslots!=='undefined'?arrAdslots:gptadslots;if(typeof arrAdSlots=='undefined'||arrAdSlots.length==0){return false;}
for(var i=0;i<arrAdSlots.length;i++){if(typeof arrAdSlots[i]!='undefined'){var oSlot=arrAdSlots[i];var slotTagId=oSlot.getSlotElementId();if(slotTagId==adTagId){break;}else{oSlot=false;}}}
return oSlot;}
function removeAdUnit(adTagId){if(typeof gptadslots=='undefined'||gptadslots.length==0){return false;}
var oSlot=getAdUnit(adTagId);if(oSlot!=false){arrUnloadedAds.push(oSlot);unloadAds([oSlot]);gptadslots=jQuery.grep(gptadslots,function(value){return value!=oSlot;});arrLazyLoadAds=jQuery.grep(arrLazyLoadAds,function(value){return value!=oSlot;});}
return gptadslots;}
function unloadAds(arrSlots){googletag.destroySlots(arrSlots);}
function registerLazyloadingAds(arrSlots){for(var i=0;i<arrSlots.length;i++){var oLazyAd={"slot":arrSlots[i],"visible":isDivInView(arrSlots[i].getSlotElementId()),"refreshed":false};arrLazyLoadAds.push(oLazyAd);}}
function registerAdsToLoadAfter(arrSlots){if(pageLoaded){displayAds(arrSlots);}else{$(window).load(function(){pageLoaded=true;displayAds(arrSlots);});}}
function reloadSlot(tagId){var oSlot=getAdUnit(tagId,arrUnloadedAds);var slotName=oSlot.getName();var slotSizes=[];for(var i in oSlot.getSizes()){slotSizes.push([oSlot.getSizes()[i].getWidth(),oSlot.getSizes()[i].getHeight()]);}
var slotTargets=oSlot.getTargetingMap();var oAdUnit={};googletag.cmd.push(function(){oAdUnit=googletag.defineSlot(slotName,slotSizes,tagId);for(var key in slotTargets){oAdUnit=oAdUnit.setTargeting(key,slotTargets[key]);}
oAdUnit=oAdUnit.addService(googletag.pubads());gptadslots.push(oAdUnit);});arrUnloadedAds=jQuery.grep(arrUnloadedAds,function(value){return value!=oAdUnit;});return oAdUnit;}
function removeAdsInElement(jquerySelector){var elements=$(jquerySelector);elements.find('div [data-google-query-id]').each(function(){$(this).css('height',$(this).height());removeAdUnit(this.id);});}
function reloadUnloadedAds(jquerySelector){var elements=$(jquerySelector);var arrSlots=[];elements.find('div [data-google-query-id]').each(function(){var adElementId=this.id;var oSlot=reloadSlot(this.id);arrSlots.push(oSlot);});displayAds(arrSlots);}
function setLazyloadingEvent(){if(typeof lazyLoad==='undefined'||typeof lazyLoad!=='function'){window.lazyLoad=function(){for(var i=0;i<arrLazyLoadAds.length;i++){var oSlot=arrLazyLoadAds[i].slot;if(!arrLazyLoadAds[i].refreshed&&isDivInView(oSlot.getSlotElementId())){displayAds([oSlot]);arrLazyLoadAds[i].refreshed=true;}}}
window.addEventListener('scroll',lazyLoad);}
return true;}
function insertAdUnit(adUnit,jQuerySelector){var defaults={name:null,sizes:[],tagId:null,targets:[],options:{}};var settings=$.extend({},defaults,adUnit);var oSlot={};googletag.cmd.push(function(){oSlot=googletag.defineSlot(settings.name,settings.sizes,settings.tagId);for(var target in settings.targets){oSlot=oSlot.setTargeting(target,settings.targets[target]);}
oSlot=oSlot.addService(googletag.pubads());gptadslots.push(oSlot);});adblock="<div class='ibinject-container'><div id='"+settings.tagId+"'></div></div>";$(jQuerySelector).children().last().after(adblock);googletag.cmd.push(function(){googletag.display(settings.tagId);});if(typeof settings.options.lazyloading!=='undefined'&&settings.options.lazyloading){registerLazyloadingAds([oSlot]);}else if(typeof google_DisableInitialLoad!=='undefined'&&google_DisableInitialLoad){displayAds([oSlot]);}
arrAdslots.push(settings);if(typeof settings.options.refresh.enabled!=='undefined'&&settings.options.refresh.enabled){processRefreshAds();}
return oSlot;}
$(window).load(function(){if(arrLazyLoadAds.length>0){setLazyloadingEvent();}});