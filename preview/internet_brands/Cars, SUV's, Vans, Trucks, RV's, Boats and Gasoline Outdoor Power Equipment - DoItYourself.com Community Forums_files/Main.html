<!DOCTYPE html>
<!-- saved from url=(0052)https://cdn.flashtalking.com/68251/1624314/Main.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <style></style>
    <meta http-equiv="X-UA-Compatible" content="IE=7">
    <meta http-equiv="X-UA-Compatible" content="IE=8">
    <meta http-equiv="X-UA-Compatible" content="IE=9">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <style>
        /* http://meyerweb.com/eric/tools/css/reset/
		   v2.0 | 20110126
		   License: none (public domain)
		*/

        html,
        body,
        div,
        span,
        applet,
        object,
        iframe,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        blockquote,
        pre,
        a,
        abbr,
        acronym,
        address,
        big,
        cite,
        code,
        del,
        dfn,
        em,
        img,
        ins,
        kbd,
        q,
        s,
        samp,
        small,
        strike,
        strong,
        sub,
        sup,
        tt,
        var,
        b,
        u,
        i,
        center,
        dl,
        dt,
        dd,
        ol,
        ul,
        li,
        fieldset,
        form,
        label,
        legend,
        table,
        caption,
        tbody,
        tfoot,
        thead,
        tr,
        th,
        td,
        article,
        aside,
        canvas,
        details,
        embed,
        figure,
        figcaption,
        footer,
        header,
        hgroup,
        menu,
        nav,
        output,
        ruby,
        section,
        summary,
        time,
        mark,
        audio,
        video {
            margin: 0;
            padding: 0;
            border: 0;
            font-size: 100%;
            font: inherit;
            vertical-align: baseline;
        }

        /* HTML5 display-role reset for older browsers */

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        hgroup,
        menu,
        nav,
        section {
            display: block;
        }

        body {
            line-height: 1;
        }

        ol,
        ul {
            list-style: none;
        }

        blockquote,
        q {
            quotes: none;
        }

        blockquote:before,
        blockquote:after,
        q:before,
        q:after {
            content: '';
            content: none;
        }

        table {
            border-collapse: collapse;
            border-spacing: 0;
        }

        div {
            -webkit-transform: translate3d(0, 0, 0);
            -webkit-backface-visibility: hidden;
            -webkit-perspective: 1000;
        }
    </style>
    <style>
        /* ------------------------- GENERAL ------------------------- */

        body {
            margin: 0;
            background-color: #FFFFFF;
        }

        #ad {
            position: relative;
            background-color: #FFFFFF;
            width: 300px;
            height: 250px;
            margin: 0px;
            padding: 0px;
            opacity: 0;
            overflow: hidden;
        }

        sup {
            position: relative;
            top: -4px;
            vertical-align: top;
            font-size: 65%;
        }
    </style>
<link rel="stylesheet" type="text/css" href="./fonts.css"></head>

<body>
<script src="./jquery-1.11.3.min.js"></script>
<div id="ad" style="opacity: 1;"><div id="backgroundRectangle" style="position: absolute; overflow: hidden; cursor: pointer; width: 300px; height: 250px; background-color: rgb(255, 255, 255); opacity: 1;"></div><div id="frame4Image" style="position: absolute; overflow: hidden; cursor: pointer; vertical-align: top; opacity: 1; left: 0px; top: 0px; width: 300px; height: 250px; background-image: url(&quot;https://cdn.flashtalking.com/68251/instantAssets/SeussExperience_F4_300x250.jpg&quot;);"></div><div id="frame1Image" style="position: absolute; overflow: hidden; cursor: pointer; vertical-align: top; opacity: 1; left: -19px; top: 0px; width: 100px; height: 231px;"><img src="./SeussExperience_F1_300x250.jpg" style="width: 100%; height: 100%;"></div><div id="frame2Image" style="position: absolute; overflow: hidden; cursor: pointer; vertical-align: top; opacity: 1; left: 0px; top: 0px; width: 100px; height: 250px; background-image: url(&quot;https://cdn.flashtalking.com/68251/instantAssets/SeussExperience_F3_300x250.jpg&quot;);"></div><div id="whiteBlendRectangle" style="position: absolute; overflow: hidden; cursor: pointer; width: 300px; height: 250px; background-color: rgb(255, 255, 255); opacity: 0;"></div><div id="whiteGraphicImage" style="position: absolute; overflow: hidden; cursor: pointer; vertical-align: top; opacity: 1; left: -284px;"><div style="position: absolute; width: 999999px; height: 999999px;"></div><object type="image/svg+xml" data="./whiteGraphic_300x250.svg"></object></div><div id="frame1HeadlineText" style="position: absolute; cursor: pointer; word-wrap: normal; display: table; vertical-align: top; opacity: 1; font-weight: 100; width: 322px; height: 120px; text-align: left; font-family: TempoStdHeavyCondensed; font-size: 24px; letter-spacing: 0px; line-height: 24px; color: rgb(51, 85, 151); left: 150px; top: 80px;"><div style="display: block; text-align: left; position: absolute; top: 0px; left: 40px; width: 164px; height: 24px; opacity: 0;">OH, THE PLACES </div><div style="display: block; text-align: left; position: absolute; top: 24px; left: 40px; width: 164px; height: 24px; opacity: 0;">YOU'LL GO, </div><div style="display: block; text-align: left; position: absolute; top: 48px; left: 40px; width: 164px; height: 24px; opacity: 0;">AND THINGS </div><div style="display: block; text-align: left; position: absolute; top: 72px; left: 40px; width: 164px; height: 24px; opacity: 0;">YOU'LL DO, </div><div style="display: block; text-align: left; position: absolute; top: 114px; left: 40px; width: 164px; height: 0px; opacity: 0;"></div></div><div id="frame2HeadlineText" style="position: absolute; cursor: pointer; word-wrap: normal; display: table; vertical-align: top; opacity: 1; font-weight: 100; width: 348px; height: 96px; text-align: left; font-family: TempoStdHeavyCondensed; font-size: 24px; letter-spacing: 0px; line-height: 24px; color: rgb(51, 85, 151); left: 150px; top: 80px;"><div style="display: block; text-align: left; position: absolute; top: 0px; left: 40px; width: 164px; height: 24px; opacity: 0;">WHEN YOU SAIL </div><div style="display: block; text-align: left; position: absolute; top: 24px; left: 40px; width: 164px; height: 24px; opacity: 0;">WITH DR. SEUSS </div><div style="display: block; text-align: left; position: absolute; top: 48px; left: 40px; width: 164px; height: 24px; opacity: 0;">ON A CARNIVAL </div><div style="display: block; text-align: left; position: absolute; top: 72px; left: 40px; width: 164px; height: 24px; opacity: 0;">CRUISE!</div></div><div id="frame4HeadlineText" style="position: absolute; cursor: pointer; word-wrap: normal; display: table; vertical-align: top; opacity: 1; font-weight: 100; width: 243px; height: 95px; text-align: left; font-family: TempoStdHeavyCondensed; font-size: 19.5px; letter-spacing: 0px; line-height: 19.5px; color: rgb(51, 85, 151); left: 21px; top: 25px;"><div style="display: block; text-align: left; position: absolute; top: 0px; left: 0px; width: 200px; height: 19px; opacity: 1;">EXPLORE AN OCEAN </div><div style="display: block; text-align: left; position: absolute; top: 19px; left: 0px; width: 200px; height: 19px; opacity: 1;">OF FUN WITH </div><div style="display: block; text-align: left; position: absolute; top: 38px; left: 0px; width: 200px; height: 19px; opacity: 1;">SEUSS AT SEA.</div></div><div id="frame4SubheadText" style="position: absolute; cursor: pointer; word-wrap: normal; display: table; vertical-align: top; opacity: 1; width: 150px; height: 14px; text-align: left; font-family: HelveticaNeueLTStdMedium; font-size: 14px; letter-spacing: 0px; line-height: 14px; color: rgb(26, 26, 26); left: 21px; top: 89px;"><div style="display: block; text-align: left; position: absolute; top: 0px; left: 0px; width: 150px; height: 14px; opacity: 1;">Cruises starting at</div></div><div id="frame4PriceText" style="position: absolute; cursor: pointer; word-wrap: normal; display: table; vertical-align: top; opacity: 1; width: 150px; height: auto; text-align: left; font-family: TempoStdHeavyCondensed; font-size: 24px; letter-spacing: 0px; line-height: 24px; color: rgb(26, 26, 26); left: 21px; top: 104px;"><sup>$</sup>269<sup>*</sup><div style="position: absolute; overflow: hidden; cursor: pointer; width: 150px; height: 24px; background-color: rgb(0, 0, 0); opacity: 0;"></div></div><div id="footer" style="position: absolute; cursor: pointer; overflow: hidden; width: 300px; height: 107px; opacity: 1; visibility: hidden; top: 143px;"><div style="position: absolute; overflow: hidden; cursor: pointer; vertical-align: top; opacity: 1; left: 0px; top: 0px; visibility: visible;"><div style="position: absolute; width: 999999px; height: 999999px;"></div><object type="image/svg+xml" data="./blueGraphic_300x250.svg"></object></div><div style="position: absolute; overflow: hidden; cursor: pointer; vertical-align: top; opacity: 1; left: 19px; top: 56px; visibility: visible; width: 147px; height: 36px;"><img src="./logo_300x250.png" style="width: 100%; height: 100%;"></div></div><div id="cta" style="position: absolute; cursor: pointer; overflow: hidden; height: 30px; width: 101px; opacity: 1; border-radius: 4px; box-shadow: rgb(43, 71, 126) 0px 2px 3px 0px; left: 20px; top: 152px; visibility: visible;"><div style="position: absolute; overflow: hidden; cursor: pointer; width: 101px; height: 30px; background-color: rgb(216, 12, 63); opacity: 1; border-radius: 4px;"></div><div style="position: absolute; cursor: pointer; word-wrap: normal; display: table; vertical-align: top; opacity: 1; white-space: nowrap; font-weight: 100; width: 101px; height: auto; text-align: left; font-family: TempoStdHeavyCondensed; font-size: 14px; letter-spacing: 0px; line-height: 0px; color: rgb(255, 255, 255); left: 8px; top: 16.5px;">BOOK NOW<div style="position: absolute; overflow: hidden; cursor: pointer; width: 101px; height: 3px; background-color: rgb(0, 0, 0); opacity: 0;"></div></div><div style="position: absolute; overflow: hidden; cursor: pointer; vertical-align: top; opacity: 1; left: 76px; width: 17px; height: 17px; top: 6.5px;"><div style="position: absolute; width: 999999px; height: 999999px;"></div><object type="image/svg+xml" data="./cta_arrow.svg" style="width: 17px; height: 17px;"></object></div><div style="position: absolute; overflow: hidden; cursor: pointer; width: 101px; height: 30px; background-color: rgb(216, 12, 63); opacity: 0; border-radius: 4px;"></div></div><div id="clickthruRectangle" style="position: absolute; overflow: hidden; cursor: pointer; width: 300px; height: 250px; background-color: rgb(255, 255, 255); opacity: 0;"></div><div id="legalWindow" style="position: absolute; cursor: pointer; overflow: hidden; width: 300px; height: 250px; opacity: 0; visibility: hidden;"><div style="position: absolute; overflow: hidden; cursor: pointer; width: 300px; height: 250px; background-color: rgb(255, 255, 255); opacity: 0.95; left: 0px; top: 0px; visibility: inherit;"></div><div style="position: absolute; cursor: pointer; word-wrap: normal; display: table; vertical-align: top; opacity: 1; white-space: nowrap; font-weight: 100; width: 240px; height: auto; text-align: left; font-family: TempoStdHeavyCondensed; font-size: 16px; letter-spacing: 0px; line-height: 0px; color: rgb(51, 85, 151); left: 30px; top: 40px; visibility: inherit;">LEGAL<div style="position: absolute; overflow: hidden; cursor: pointer; width: 240px; height: 4px; background-color: rgb(0, 0, 0); opacity: 0;"></div></div><div style="position: absolute; cursor: pointer; word-wrap: normal; display: table; vertical-align: top; opacity: 1; width: 240px; height: auto; text-align: left; font-family: HelveticaNeueLTStdMedium; font-size: 11px; letter-spacing: 0px; line-height: 14px; color: rgb(35, 35, 35); left: 30px; top: 52px; visibility: inherit;">Dr. Seuss Properties TM &amp; © 2017 Dr. Seuss Enterprises, L.P. All Rights Reserved. <sup>*</sup>Cruises are in U.S. dollars, per person, double occupancy. Taxes, Fees &amp; Port Expenses add’l. Restrictions apply, full details on carnival.com. ©2017 Carnival Corporation. All rights reserved. Ships’ Registry: The Bahamas, Panama and Malta.<div style="position: absolute; overflow: hidden; cursor: pointer; width: 240px; height: 112px; background-color: rgb(0, 0, 0); opacity: 0;"></div></div><div style="position: absolute; overflow: hidden; cursor: pointer; width: 300px; height: 250px; background-color: rgb(255, 255, 255); opacity: 0; left: 0px; top: 0px; visibility: inherit;"></div></div><div id="legalLinkText" style="position: absolute; cursor: pointer; word-wrap: normal; display: table; vertical-align: top; opacity: 1; white-space: nowrap; width: auto; height: auto; text-align: left; font-family: HelveticaNeueLTStdMedium; font-size: 7px; letter-spacing: 0px; line-height: 0px; color: rgb(135, 162, 215); left: 265px; top: 235px; visibility: visible;">*<u><span style="line-height:8px">Legal</span></u><div style="position: absolute; overflow: hidden; cursor: pointer; width: 21px; height: 8px; background-color: rgb(0, 0, 0); opacity: 0;"></div></div><div id="border" style="position: absolute; width: 298px; height: 248px; border: 1px solid rgb(0, 0, 0); pointer-events: none; opacity: 0.1;"></div></div>
<script type="text/javascript" src="./html5API.js"></script>
<script type="text/javascript" src="./TweenLite.min.js"></script>
<script type="text/javascript" src="./EasePack.min.js"></script>
<script type="text/javascript" src="./CSSPlugin.min.js"></script>
<script type="text/javascript">
    /*!
     * VERSION: beta 0.2.3
     * DATE: 2013-07-10
     * UPDATES AND DOCS AT: http://www.greensock.com
     *
     * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
     * SplitText is a Club GreenSock membership benefit; You must have a valid membership to use
     * this code without violating the terms of use. Visit http://www.greensock.com/club/ to sign up or get more details.
     * This work is subject to the software agreement that was issued with your membership.
     *
     * @author: Jack Doyle, jack@greensock.com
     */
    (function (t) {
        "use strict";
        var e = t.GreenSockGlobals || t,
                i = function (t) {
                    var i, s = t.split("."),
                            r = e;
                    for (i = 0; s.length > i; i++) r[s[i]] = r = r[s[i]] || {};
                    return r
                },
                s = i("com.greensock.utils"),
                r = function (t) {
                    var e = t.nodeType,
                            i = "";
                    if (1 === e || 9 === e || 11 === e) {
                        if ("string" == typeof t.textContent) return t.textContent;
                        for (t = t.firstChild; t; t = t.nextSibling) i += r(t)
                    } else if (3 === e || 4 === e) return t.nodeValue;
                    return i
                },
                n = document,
                a = n.defaultView ? n.defaultView.getComputedStyle : function () {
                },
                o = /([A-Z])/g,
                h = function (t, e, i, s) {
                    var r;
                    return (i = i || a(t, null)) ? (t = i.getPropertyValue(e.replace(o, "-$1").toLowerCase()), r = t || i.length ? t : i[e]) : t.currentStyle && (i = t.currentStyle, r = i[e]), s ? r : parseInt(r, 10) || 0
                },
                l = function (t) {
                    return t.length && t[0] && (t[0].nodeType && t[0].style && !t.nodeType || t[0].length && t[0][0]) ? !0 : !1
                },
                _ = function (t) {
                    var e, i, s, r = [],
                            n = t.length;
                    for (e = 0; n > e; e++)
                        if (i = t[e], l(i))
                            for (s = i.length, s = 0; i.length > s; s++) r.push(i[s]);
                        else r.push(i);
                    return r
                },
                u = ")eefec303079ad17405c",
                p = /(?:<br>|<br\/>|<br \/>)/gi,
                c = n.all && !n.addEventListener,
                f = "<div style='position:relative;display:inline-block;" + (c ? "*display:inline;*zoom:1;'" : "'"),
                m = function (t) {
                    t = t || "";
                    var e = -1 !== t.indexOf("++"),
                            i = 1;
                    return e && (t = t.split("++").join("")),
                            function () {
                                return f + (t ? " class='" + t + (e ? i++ : "") + "'>" : ">")
                            }
                },
                d = s.SplitText = e.SplitText = function (t, e) {
                    if ("string" == typeof t && (t = d.selector(t)), !t) throw "cannot split a null element.";
                    this.elements = l(t) ? _(t) : [t], this.chars = [], this.words = [], this.lines = [], this._originals = [], this.vars = e || {}, this.split(e)
                },
                g = function (t, e, i, s, o) {
                    p.test(t.innerHTML) && (t.innerHTML = t.innerHTML.replace(p, u));
                    var l, _, c, f, d, g, v, y, T, w, b, x, P, S = r(t),
                            C = e.type || e.split || "chars,words,lines",
                            k = -1 !== C.indexOf("lines") ? [] : null,
                            R = -1 !== C.indexOf("words"),
                            A = -1 !== C.indexOf("chars"),
                            D = "absolute" === e.position || e.absolute === !0,
                            O = D ? "&#173; " : " ",
                            M = -999,
                            L = a(t),
                            I = h(t, "paddingLeft", L),
                            E = h(t, "borderBottomWidth", L) + h(t, "borderTopWidth", L),
                            N = h(t, "borderLeftWidth", L) + h(t, "borderRightWidth", L),
                            F = h(t, "paddingTop", L) + h(t, "paddingBottom", L),
                            U = h(t, "paddingLeft", L) + h(t, "paddingRight", L),
                            X = h(t, "textAlign", L, !0),
                            z = t.clientHeight,
                            B = t.clientWidth,
                            Y = S.length,
                            j = "</div>",
                            q = m(e.wordsClass),
                            V = m(e.charsClass),
                            Q = -1 !== (e.linesClass || "").indexOf("++"),
                            G = e.linesClass;
                    for (Q && (G = G.split("++").join("")), c = q(), f = 0; Y > f; f++) g = S.charAt(f), ")" === g && S.substr(f, 20) === u ? (c += j + "<BR/>", f !== Y - 1 && (c += " " + q()), f += 19) : " " === g && " " !== S.charAt(f - 1) && f !== Y - 1 ? (c +=
                            j, f !== Y - 1 && (c += O + q())) : c += A && " " !== g ? V() + g + "</div>" : g;
                    for (t.innerHTML = c + j, d = t.getElementsByTagName("*"), Y = d.length, v = [], f = 0; Y > f; f++) v[f] = d[f];
                    if (k || D)
                        for (f = 0; Y > f; f++) y = v[f], _ = y.parentNode === t, (_ || D || A && !R) && (T = y.offsetTop, k && _ && T !== M && "BR" !== y.nodeName && (l = [], k.push(l), M = T), D && (y._x = y.offsetLeft, y._y = T, y._w = y.offsetWidth, y._h = y.offsetHeight),
                        k && (R !== _ && A || (l.push(y), y._x -= I), _ && f && (v[f - 1]._wordEnd = !0)));
                    for (f = 0; Y > f; f++) y = v[f], _ = y.parentNode === t, "BR" !== y.nodeName ? (D && (b = y.style, R || _ || (y._x += y.parentNode._x, y._y += y.parentNode._y), b.left = y._x + "px", b.top = y._y + "px", b.position = "absolute", b.display =
                            "block", b.width = y._w + 1 + "px", b.height = y._h + "px"), R ? _ ? s.push(y) : A && i.push(y) : _ ? (t.removeChild(y), v.splice(f--, 1), Y--) : !_ && A && (T = !k && !D && y.nextSibling, t.appendChild(y), T || t.appendChild(n.createTextNode(
                            " ")), i.push(y))) : k || D ? (t.removeChild(y), v.splice(f--, 1), Y--) : R || t.appendChild(y);
                    if (k) {
                        for (D && (w = n.createElement("div"), t.appendChild(w), x = w.offsetWidth + "px", T = w.offsetParent === t ? 0 : t.offsetLeft, t.removeChild(w)), b = t.style.cssText, t.style.cssText = "display:none;"; t.firstChild;) t.removeChild(t.firstChild);
                        for (P = !D || !R && !A, f = 0; k.length > f; f++) {
                            for (l = k[f], w = n.createElement("div"), w.style.cssText = "display:block;text-align:" + X + ";position:" + (D ? "absolute;" : "relative;"), G && (w.className = G + (Q ? f + 1 : "")), o.push(w), Y = l.length, d = 0; Y > d; d++) "BR" !== l[
                                    d].nodeName && (y = l[d], w.appendChild(y), P && (y._wordEnd || R) && w.appendChild(n.createTextNode(" ")), D && (0 === d && (w.style.top = y._y + "px", w.style.left = I + T + "px"), y.style.top = "0px", T && (y.style.left = y._x - T +
                                    "px")));
                            R || A || (w.innerHTML = r(w).split(String.fromCharCode(160)).join(" ")), D && (w.style.width = x, w.style.height = y._h + "px"), t.appendChild(w)
                        }
                        t.style.cssText = b
                    }
                    D && (z > t.clientHeight && (t.style.height = z - F + "px", z > t.clientHeight && (t.style.height = z + E + "px")), B > t.clientWidth && (t.style.width = B - U + "px", B > t.clientWidth && (t.style.width = B + N + "px")))
                },
                v = d.prototype;
        v.split = function (t) {
            this.isSplit && this.revert(), this.vars = t || this.vars, this._originals.length = this.chars.length = this.words.length = this.lines.length = 0;
            for (var e = 0; this.elements.length > e; e++) this._originals[e] = this.elements[e].innerHTML, g(this.elements[e], this.vars, this.chars, this.words, this.lines);
            return this.isSplit = !0, this
        }, v.revert = function () {
            if (!this._originals) throw "revert() call wasn't scoped properly.";
            for (var t = this._originals.length; --t > -1;) this.elements[t].innerHTML = this._originals[t];
            return this.chars = [], this.words = [], this.lines = [], this.isSplit = !1, this
        }, d.selector = t.$ || t.jQuery || function (e) {
                    return t.$ ? (d.selector = t.$, t.$(e)) : n ? n.getElementById("#" === e.charAt(0) ? e.substr(1) : e) : e
                }
    })(window || {});

    var AdUtils = {
        // Creates an object from a string.  Each property is delimitted by a '|' and property names and values
        // are separated by a ':' (ie. "isVisible:true|width:300|height:250|thickness:1|color:#C0C0C0")
        createObject: function (s) {
            var obj = {};
            var arr = s.split("|");

            // Loop separates our property names from property values (delimitted by ':'), and creates our objects.
            for (var i = 0; i < arr.length; i++) {
                var name = arr[i].slice(0, arr[i].indexOf(":"));
                var value = arr[i].slice(arr[i].indexOf(":") + 1, arr[i].length);

                // This line determines whether the value is a string or actual numerical
                // value, and changes it accordingly.
                obj[name] = (isNaN(value)) ? String(value) : Number(value);

                // converts our string to booleans if required
                switch (obj[name]) {
                    case "true":
                        obj[name] = true;
                        break;
                    case "false":
                        obj[name] = false;
                        break;
                }
            }
            return obj;
        },

        // Creates an array from a string.  Each array item is delimitted by a '|'
        // (ie. "Jason|Greg|Grace|Dennis|Iris|Kay")
        createArray: function (s) {
            var arr = s.split("|");

            return arr;
        },

        // Converts any string to their appropriate type, whether it be a number, string or boolean.
        convertStringToType: function (s) {
            // This line determines whether the value is a s++ring or actual numerical
            // value, and changes it accordingly.
            var value = (isNaN(s)) ? String(s) : Number(s);

            // converts our string to booleans if required
            switch (value) {
                case "true":
                    value = true;
                    break;
                case "false":
                    value = false;
                    break;
            }

            return (value)
        },

        // Converts our IA variables types to their appropriate type because all IA variables
        // are automatically strings.
        convertIAToTypes: function (o) {
            var tempObj = {};

            for (var name in o) {
                // Changes our objects values to their appropriate type, whether it be a number,
                // string or boolean.
                tempObj[name] = AdUtils.convertStringToType(o[name]);
            }

            return tempObj;
        },

        // Converts Hex values to Decimal
        convertHexToDecimal: function (s) {
            var testValue = s;

            if (testValue.substr(0, 1) == "#") {
                testValue = testValue.slice(1, testValue.length)
            }
            return parseInt(testValue, 16);
        },

        // Converts Decimal valuse to Hex
        convertDecimalToHex: function (n) {
            var result = "00";

            if (n >= 0 && n <= 15) {
                result += "000" + n.toString(16);
            } else if (n >= 16 && n <= 255) {
                result += "00" + n.toString(16);
            } else if (n >= 256 && n <= 4095) {
                result += "0" + n.toString(16);
            } else if (n >= 4096 && n <= 65535) {
                result += n.toString(16);
            }

            return "#" + result.toUpperCase();
        },

        // converts rgb value to hex
        convertRgbToHex: function (r, g, b) {
            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            return ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },

        // converts hex value to rgb
        convertHexToRgb: function (hex) {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        },

        // This give any string a character limit
        characterLimiter: function (obj) {
            var string = obj.string;

            if (string.length > obj.characterLimit) {
                // Limits the characters of our string
                string = string.substring(0, obj.characterLimit);

                // Adds suffix string if necessary
                if (obj.suffix) {
                    string += obj.suffix;
                }
            }

            return string;
        },

        // Converts any string to dollar values.  Will add any '$', '0', or commas whenever necessary
        convertStringToDollarValue: function (s) {
            var returnString = s;

            if (s.indexOf(".") == -1) {
                returnString += ".00";
                return returnString;
            } else {
                var testString = s.substring(s.indexOf("."), s.length);
                if (testString.length == 1) {
                    returnString += "00";
                }
                if (testString.length == 2) {
                    returnString += "0";
                }
                return returnString;
            }
            x
        },

        // removes decimal values from any string
        removeDecimals: function (s) {
            var returnString = s;

            if (s.indexOf(".") == -1) {
                return returnString;
            } else {
                returnString = s.slice(0, s.indexOf("."));
                return returnString;
            }
        },

        // find and replacer
        findAndReplace: function (obj) {
            var returnString = obj.string;
            var listArr = obj.list;

            for (var i = 0; i < listArr.length; i++) {
                returnString = returnString.replace(listArr[i].find, listArr[i].replace);
            }

            return returnString
        },

        // clones an object with the same properties
        cloneObject: function (obj) {
            if (obj === null || typeof obj !== 'object') {
                return obj;
            }

            var temp = obj.constructor(); // give temp the original obj's constructor
            for (var key in obj) {
                temp[key] = obj[key];
            }

            return temp;
        },

        // removes duplicate items from array
        removeDuplicateArrayItems: function (a) {
            var seen = {};
            var out = [];
            var len = a.length;
            var j = 0;
            for (var i = 0; i < a.length; i++) {
                var item = a[i];
                if (seen[item] !== 1) {
                    seen[item] = 1;
                    out[j++] = item;
                }
            }
            return out;
        },

        randomNumber: function (minimum, maximum) {
            return Math.round(Math.random() * (maximum - minimum) + minimum);
        },

        toInitialCaps: function (s) {
            return s.replace(/\w\S*/g, function (txt) {
                return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
            });
        },

        convertToDoubleDigits: function (n) {
            if (String(n).length <= 1) {
                return "0" + String(n);
            } else {
                return String(n);
            }
        }
    }

    var ScriptLoader = {
        loadCSS: function (filename) {
            var fileref = document.createElement("link");
            fileref.setAttribute("rel", "stylesheet");
            fileref.setAttribute("type", "text/css");
            fileref.setAttribute("href", filename);

            if (typeof fileref != "undefined") {
                document.getElementsByTagName("head")[0].appendChild(fileref);
            }
        },
        loadJS: function (filename) {
            var fileref = document.createElement('script');
            fileref.setAttribute("type", "text/javascript");
            fileref.setAttribute("src", filename);

            if (typeof fileref != "undefined") {
                document.getElementsByTagName("head")[0].appendChild(fileref);
            }
        },
        loadJSON: function (file, callback) {
            var xobj = new XMLHttpRequest();
            xobj.overrideMimeType("application/json");
            xobj.open('GET', file, true); // Replace 'my_data' with the path to your file
            //console.log("FILE LOADING: "+file);
            xobj.onreadystatechange = function () {
                if (xobj.readyState == 4 && xobj.status == "200") {
                    // Required use of an anonymous callback as .open will NOT return a value but simply returns undefined in asynchronous mode
                    callback(xobj.responseText);
                }
            };
            xobj.send(null);
        },
        loadJSONP: function (url, callback) {
            // Create script with url and callback (if specified)
            var ref = window.document.getElementsByTagName('script')[0];
            var script = window.document.createElement('script');
            script.src = url + (url.indexOf('?') + 1 ? '&' : '?') + 'callback=' + callback;

            // Insert script tag into the DOM (append to <head>)
            ref.parentNode.insertBefore(script, ref);

            // After the script is loaded (and executed), remove it
            script.onload = function () {
                this.remove();
            };
        }
    }

    var PlatformDetector = {
        // This detects what browser the user is using
        browser: function () {
            var browser_str = "";
            var isOpera = false;

            // detects if browser is opera
            if (!!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0) {
                isOpera = true;
                browser_str = "Opera";
            }

            // detects if browser is firefox
            else if (typeof InstallTrigger !== 'undefined') {
                browser_str = "Firefox";
            }

            // detects if browser is safari
            else if (Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0) {
                return "Safari";
                return browser_str;
            }

            // detects if browser is chrome
            else if (!!window.chrome && !isOpera) {
                browser_str = "Chrome";
            }

            // detects different versions of IE
            /*else if(navigator.appName == 'Microsoft Internet Explorer'){
             // Returns the version of Internet Explorer or a -1
             // (indicating the use of another browser).
             var rv = -1;
             var ua = navigator.userAgent;
             var re  = new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})");
             if (re.exec(ua) != null){
             rv = parseFloat( RegExp.$1 );
             }
             browser_str =  "IE " + Math.floor(Number(rv));
             }*/

            // detects if browser is IE 6 - 11
            else if (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.appVersion.indexOf('Trident/') > 0) {
                // determines versions of IE using feature detection
                if (window.ActiveXObject === undefined) {
                    browser_str = "Unknown IE version";
                } else if (!document.querySelector) {
                    browser_str = "IE 7";
                } else if (!document.addEventListener) {
                    browser_str = "IE 8";
                } else if (!window.atob) {
                    browser_str = "IE 9";
                } else if (!document.__proto__) {
                    browser_str = "IE 10";
                } else {
                    browser_str = "IE 11";
                }
            }

            // detects Microsoft Edge
            else if (navigator.appVersion.indexOf('Edge') > -1) {
                browser_str = "Edge";
            } else {
                browser_str = "Unknown";
            }

            //console.log(browser_str);
            return browser_str
        },
        // This detects what OS the user is on
        os: function () {
            var OSName;
            if (window.navigator.userAgent.indexOf("Windows NT 10.0") != -1) {
                OSName = "Windows 10";
            } else if (window.navigator.userAgent.indexOf("Windows NT 6.3") != -1) {
                OSName = "Windows 8.1";
            } else if (window.navigator.userAgent.indexOf("Windows NT 6.2") != -1) {
                OSName = "Windows 8";
            } else if (window.navigator.userAgent.indexOf("Windows NT 6.1") != -1) {
                OSName = "Windows 7";
            } else if (window.navigator.userAgent.indexOf("Windows NT 6.0") != -1) {
                OSName = "Windows Vista";
            } else if (window.navigator.userAgent.indexOf("Windows NT 5.1") != -1) {
                OSName = "Windows XP";
            } else if (window.navigator.userAgent.indexOf("Windows NT 5.0") != -1) {
                OSName = "Windows 2000";
            } else if (window.navigator.userAgent.indexOf("Mac") != -1) {
                OSName = "Mac/iOS";
            } else if (window.navigator.userAgent.indexOf("X11") != -1) {
                OSName = "UNIX";
            } else if (window.navigator.userAgent.indexOf("Linux") != -1) {
                OSName = "Linux";
            } else {
                OSName = "unknown OS";
            }

            //console.log("USER AGENT: " + window.navigator.userAgent);
            //console.log(OSName);
            return OSName;
        }
    }

    //----------------------------------------------------
    // NOTE: Legend of required object properties
    //----------------------------------------------------
    //
    //----------------------------------------------------
    function Module(obj) {
        this.obj = obj;
        this.parent = obj.parent;
        this.itemsArr = [];
        this.preloadItemsArr = [];
        this.isLoaded = false;

        this.tempFunctionsArr = [];
        this.functionsArr = [];

        this.onclickFunction;
        this.onmouseoverFunction;
        this.onmouseoutFunction;

        // This div will contain all our assets
        this.container = document.createElement("div");
        this.container.style.position = "absolute";
        this.container.style.cursor = "pointer";
        this.container.style.overflow = obj.overflow;
        this.container.style.width = obj.width + "px";
        this.container.style.height = obj.height + "px";
        this.container.style.opacity = 1;
        this.container.style.visibility = "hidden";

        // Append
        this.parent.appendChild(this.container);

        // Sets ID of container div
        if (obj.id) {
            this.id = obj.id;
        }

        // Event Listener dispatcher in case you want to listen if this has loaded
        this.evt = document.createEvent("Event");
        this.evt.initEvent("frameloaded", true, false);

        // This sets up our elements
        for (var i = 0; i < obj.items.length; i++) {
            // Creating temporary object so that we can add
            // one more property called "parent"
            var tempObj = obj.items[i].object;
            tempObj.parent = this.container;

            // Dynamically creates our objects and stores it in an array called "this.itemsArr"
            this.itemsArr.push(new window[obj.items[i].object.objType](tempObj));

            // sets initial properties of objects
            // left property
            if (this.obj.items[i].left != undefined && this.obj.items[i].left != null) {
                this.itemsArr[i].left = this.obj.items[i].left;
            } else if (this.obj.items[i].animation) {
                if (this.obj.items[i].animation[0].begin) {
                    if (this.obj.items[i].animation[0].begin.left != undefined && this.obj.items[i].animation[0].begin.left != null) {
                        this.itemsArr[i].left = this.obj.items[i].animation[0].begin.left;
                    }
                }
            }

            // top property
            if (this.obj.items[i].top != undefined && this.obj.items[i].top != null) {
                this.itemsArr[i].top = this.obj.items[i].top;
            } else if (this.obj.items[i].animation) {
                if (this.obj.items[i].animation[0].begin) {
                    if (this.obj.items[i].animation[0].begin.top != undefined && this.obj.items[i].animation[0].begin.top != null) {
                        this.itemsArr[i].top = this.obj.items[i].animation[0].begin.top;
                    }
                }
            }

            // width property
            if (this.obj.items[i].width != undefined && this.obj.items[i].width != null) {
                this.itemsArr[i].width = this.obj.items[i].width;
            } else if (this.obj.items[i].animation) {
                if (this.obj.items[i].animation[0].begin) {
                    if (this.obj.items[i].animation[0].begin.width != undefined && this.obj.items[i].animation[0].begin.width != null) {
                        this.itemsArr[i].width = this.obj.items[i].animation[0].begin.width;
                    }
                }
            }

            // height property
            if (this.obj.items[i].height != undefined && this.obj.items[i].height != null) {
                this.itemsArr[i].height = this.obj.items[i].height;
            } else if (this.obj.items[i].animation) {
                if (this.obj.items[i].animation[0].begin) {
                    if (this.obj.items[i].animation[0].begin.height != undefined && this.obj.items[i].animation[0].begin.height != null) {
                        this.itemsArr[i].height = this.obj.items[i].animation[0].begin.height;
                    }
                }
            }

            // opacity property
            if (this.obj.items[i].opacity != undefined && this.obj.items[i].opacity != null) {
                this.itemsArr[i].opacity = this.obj.items[i].opacity;
            } else if (this.obj.items[i].animation) {
                if (this.obj.items[i].animation[0].begin) {
                    if (this.obj.items[i].animation[0].begin.opacity != undefined && this.obj.items[i].animation[0].begin.opacity != null) {
                        this.itemsArr[i].opacity = this.obj.items[i].animation[0].begin.opacity;
                    }
                }
            }

            // visibility property
            if (this.obj.items[i].visibility) {
                this.itemsArr[i].visibility = this.obj.items[i].visibility;
            }

            // onclick property
            if (this.obj.items[i].onclick) {
                this.itemsArr[i].onclick = this.obj.items[i].onclick;
            }

            // this loop will be used to determine our dynamically named animation functions
            if (this.obj.items[i].animation) {
                for (var j = 0; j < this.obj.items[i].animation.length; j++) {
                    this.tempFunctionsArr.push(this.obj.items[i].animation[j].functionName);
                }
            }

            // If this item is marked as a preload item, it adds it to the preload
            // array.  This array is used to preload all marked items.
            if (this.obj.items[i].preload) {
                this.preloadItemsArr.push(this.itemsArr[i]);
            }
        }

        // This function will sort out duplicate functions
        this.functionsArr = AdUtils.removeDuplicateArrayItems(this.tempFunctionsArr);

        // Preloads our images
        this.preloadInterval = setInterval(this.preloader, 1, this);
    }

    // Setters and getters
    Module.prototype = {
        get width() {
            return parseInt(this.container.offsetWidth);
        },
        set width(n) {
            var testValue = "0" + n;
            this.container.style.width = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get height() {
            return parseInt(this.container.offsetHeight);
        },
        set height(n) {
            var testValue = "0" + n;
            this.container.style.height = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get left() {
            return parseInt(this.container.offsetLeft);
        },
        set left(n) {
            var testValue = "0" + n;
            this.container.style.left = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get top() {
            return parseInt(this.container.offsetTop);
        },
        set top(n) {
            var testValue = "0" + n;
            this.container.style.top = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get opacity() {
            return this.container.style.opacity;
        },
        set opacity(n) {
            this.container.style.opacity = n;
        },
        get visibility() {
            return this.container.style.visibility;
        },
        set visibility(s) {
            this.container.style.visibility = s;
        },
        get div() {
            return this.container;
        },
        set zIndex(n) {
            this.container.style.zIndex = n;
        },
        set onclick(f) {
            this.onclickFunction = f;
            this.container.onclick = f;
        },
        set onmouseover(f) {
            this.onmouseoverFunction = f;
            this.container.onmouseover = f;
        },
        set onmouseout(f) {
            this.onmouseoutFunction = f;
            this.container.onmouseout = f;
        },
        set id(s) {
            this.container.id = s;
        },
        get id() {
            return this.container.id;
        }
    }

    // This makes sure that all our images are loaded
    Module.prototype.preloader = function (root) {
        if (root.preloadItemsArr.length == 0 || root.preloadItemsArr == undefined) {
            for (var j = 0; j < root.itemsArr.length; j++) {
                root.obj.items[j].width = root.obj.items[j].width;
                root.obj.items[j].height = root.obj.items[j].height;
            }

            root.isLoaded = true;
            root.container.dispatchEvent(root.evt);
            clearInterval(root.preloadInterval);
        } else {
            for (var i = 0; i < root.preloadItemsArr.length; i++) {
                if (!root.preloadItemsArr[i].isLoaded) {
                    break;
                } else {
                    if (i >= root.preloadItemsArr.length - 1) {
                        // Loop handles width and height of ImageHolders once they are loaded
                        for (var j = 0; j < root.itemsArr.length; j++) {
                            if (root.itemsArr[j] instanceof ImageHolder) {
                                // width property
                                if (root.obj.items[j].width != undefined && root.obj.items[j].width != null) {
                                    root.itemsArr[j].width = root.obj.items[j].width;
                                } else if (root.obj.items[j].animation) {
                                    if (root.obj.items[j].animation[0].begin) {
                                        if (root.obj.items[j].animation[0].begin.width != undefined && root.obj.items[j].animation[0].begin.width != null) {
                                            root.itemsArr[j].width = root.obj.items[j].animation[0].begin.width;
                                        }
                                    }
                                }

                                // height property
                                if (root.obj.items[j].height != undefined && root.obj.items[j].height != null) {
                                    root.itemsArr[j].height = root.obj.items[j].height;
                                } else if (root.obj.items[j].animation) {
                                    if (root.obj.items[j].animation[0].begin) {
                                        if (root.obj.items[j].animation[0].begin.height != undefined && root.obj.items[j].animation[0].begin.height != null) {
                                            root.itemsArr[j].height = root.obj.items[j].animation[0].begin.height;
                                        }
                                    }
                                }
                            }
                        }

                        root.isLoaded = true;
                        root.container.dispatchEvent(root.evt);
                        clearInterval(root.preloadInterval);
                    }
                }
            }
        }
    }

    Module.prototype.animateFrame = function (frameName, d) {
        // Animation
        for (var i = 0; i < this.itemsArr.length; i++) {
            if (this.obj.items[i].animation) {
                for (var j = 0; j < this.obj.items[i].animation.length; j++) {
                    if (this.obj.items[i].animation[j].frameName == frameName) {
                        setTimeout((function (objBase, itemslcv, animationlcv) {
                            return function () {
                                var tempTweenObj = {};

                                // Initial position
                                if (objBase.obj.items[itemslcv].animation[animationlcv].begin) {
                                    if (objBase.obj.items[itemslcv].animation[animationlcv].begin.left != undefined && objBase.obj.items[itemslcv].animation[animationlcv].begin.left != null) {
                                        objBase.itemsArr[itemslcv].left = objBase.obj.items[itemslcv].animation[animationlcv].begin.left;
                                    }
                                    if (objBase.obj.items[itemslcv].animation[animationlcv].begin.top != undefined && objBase.obj.items[itemslcv].animation[animationlcv].begin.top != null) {
                                        objBase.itemsArr[itemslcv].top = objBase.obj.items[itemslcv].animation[animationlcv].begin.top;
                                    }
                                    if (objBase.obj.items[itemslcv].animation[animationlcv].begin.width != undefined && objBase.obj.items[itemslcv].animation[animationlcv].begin.width != null) {
                                        objBase.itemsArr[itemslcv].width = objBase.obj.items[itemslcv].animation[animationlcv].begin.width;
                                    }
                                    if (objBase.obj.items[itemslcv].animation[animationlcv].begin.height != undefined && objBase.obj.items[itemslcv].animation[animationlcv].begin.height != null) {
                                        objBase.itemsArr[itemslcv].height = objBase.obj.items[itemslcv].animation[animationlcv].begin.height;
                                    }
                                    if (objBase.obj.items[itemslcv].animation[animationlcv].begin.opacity != undefined && objBase.obj.items[itemslcv].animation[animationlcv].begin.opacity != null) {
                                        objBase.itemsArr[itemslcv].opacity = objBase.obj.items[itemslcv].animation[animationlcv].begin.opacity;
                                    }
                                }

                                // Animation
                                if (objBase.obj.items[itemslcv].animation[animationlcv].end) {
                                    if (objBase.obj.items[itemslcv].animation[animationlcv].end.left != undefined && objBase.obj.items[itemslcv].animation[animationlcv].end.left != null) {
                                        tempTweenObj.left = objBase.obj.items[itemslcv].animation[animationlcv].end.left;
                                    }
                                    if (objBase.obj.items[itemslcv].animation[animationlcv].end.top != undefined && objBase.obj.items[itemslcv].animation[animationlcv].end.top != null) {
                                        tempTweenObj.top = objBase.obj.items[itemslcv].animation[animationlcv].end.top;
                                    }
                                    if (objBase.obj.items[itemslcv].animation[animationlcv].end.width != undefined && objBase.obj.items[itemslcv].animation[animationlcv].end.width != null) {
                                        tempTweenObj.width = objBase.obj.items[itemslcv].animation[animationlcv].end.width;
                                    }
                                    if (objBase.obj.items[itemslcv].animation[animationlcv].end.height != undefined && objBase.obj.items[itemslcv].animation[animationlcv].end.height != null) {
                                        tempTweenObj.height = objBase.obj.items[itemslcv].animation[animationlcv].end.height;
                                    }
                                    if (objBase.obj.items[itemslcv].animation[animationlcv].end.opacity != undefined && objBase.obj.items[itemslcv].animation[animationlcv].end.opacity != null) {
                                        tempTweenObj.opacity = objBase.obj.items[itemslcv].animation[animationlcv].end.opacity;
                                    }

                                    tempTweenObj.ease = (objBase.obj.items[itemslcv].animation[animationlcv].ease != undefined && objBase.obj.items[itemslcv].animation[animationlcv].ease != null) ? objBase.obj.items[itemslcv].animation[animationlcv].ease : Linear.easeNone;
                                    tempTweenObj.delay = objBase.obj.items[itemslcv].animation[animationlcv].delay
                                    tempTweenObj.overwrite = "all";
                                    TweenLite.to(objBase.itemsArr[itemslcv], objBase.obj.items[itemslcv].animation[animationlcv].duration, tempTweenObj);
                                    if (objBase.obj.items[itemslcv].animation[animationlcv].functionCall != undefined && objBase.obj.items[itemslcv].animation[animationlcv].functionCall != null) {
                                        TweenLite.delayedCall(objBase.obj.items[itemslcv].animation[animationlcv].functionCall.delay, objBase.itemsArr[itemslcv][objBase.obj.items[itemslcv].animation[animationlcv].functionCall.function]);
                                    }
                                }
                            }
                        })(this, i, j), d * 1000);
                    }
                }
            }
        }
    }

    Module.prototype.animate = function (obj) {
        this.animateFrame(obj.frameName, obj.delay);
        //console.log("FUNCTION "+obj.functionName+"FROM ITEM "+this.id+" CALLED");
    }

    //----------------------------------------------------
    // NOTE: Legend of required object properties
    //----------------------------------------------------
    // text          : (STRING) what we want our text to say
    // fontFamily    : (STRING) the font we want to use in our text field
    // color         : (STRING) the hex color of our font
    // fontSize      : (NUMBER) the size of our font
    // lineHeight    : (NUMBER) the line height of our text in pixels
    // letterSpacing : (NUMBER) the letter spacing of our text in pixels
    // align         : (STRING) the alignment of our text.  Can be set to 'left', 'center', and 'right'
    // "parent"      : (ELEMENT) div/parent of where this text field will reside
    //----------------------------------------------------
    function TextField(obj) {
        this.obj = obj;
        this.parent = obj.parent;
        this.color1 = obj.color1;
        this.color2 = obj.color2;
        this.direction = "vertical";
        this.colorStr;

        this.onclickFunction;
        this.onmouseoverFunction;
        this.onmouseoutFunction;

        // This div will contain all our assets
        this.container = document.createElement("div");
        this.container.style.position = "absolute";
        //this.container.style.overflow        = "hidden";
        this.container.style.cursor = "pointer";
        this.container.style.wordWrap = "normal";
        this.container.style.display = "table";
        this.container.style.verticalAlign = "top";
        this.container.style.opacity = 1;

        // Handles White Space
        if (obj.whiteSpace) {
            this.container.style.whiteSpace = obj.whiteSpace;
        }

        // Handles Font Weight
        if (obj.fontWeight) {
            this.container.style.fontWeight = obj.fontWeight;
        }

        // Cases for width & height
        if (obj.width) {
            this.container.style.width = obj.width + "px"
        } else {
            this.container.style.width = "auto";
        }

        if (obj.height) {
            this.container.style.height = obj.height + "px"
        } else {
            this.container.style.height = "auto";
        }

        // Append
        this.parent.appendChild(this.container);

        // Sets ID of container div
        if (obj.id) {
            this.id = obj.id;
        }

        // Mouse Events (if they exist in the object parameter of the ImageHolder object)
        if (obj.onclick) {
            this.onclick = obj.onclick;
        }

        if (obj.onmouseover) {
            this.onmouseover = obj.onmouseover;
        }

        if (obj.onmouseout) {
            this.onmouseout = obj.onmouseout;
        }

        // Sets our properties
        this.align = obj.align;
        this.fontFamily = obj.fontFamily;
        this.text = obj.text;
        this.fontSize = obj.fontSize;
        this.letterSpacing = obj.letterSpacing;
        this.lineHeight = obj.lineHeight;

        // For single colors
        if (obj.color) {
            this.fontColor = obj.color;
        }

        if (!obj.isMouseChildren) {
            setTimeout((function (root) {
                return function () {
                    root.hitArea = new Rectangle({
                        width: parseInt(root.container.offsetWidth),
                        height: parseInt(root.container.offsetHeight),
                        color: "#000000",
                        parent: root.container
                    });
                    root.hitArea.opacity = 0;
                }
            })(this), 1200);
        }

        // For gradients
        if (obj.color1 && obj.color2) {
            // These vars will get the correct gradient syntax base on the user's browser
            this.gradientPrefix = this.getCssValuePrefix('backgroundImage', 'linear-gradient(left, #fff, #fff)');
            this.gradientOrientation = this.getGradientOrientation(this.gradientPrefix);

            // Creates our gradient
            this.createGradientText();
        }

    }

    // Setters and getters
    TextField.prototype = {
        get text() {
            return this.container.innerHTML;
        },
        set text(s) {
            this.container.innerHTML = s;
        },
        set fontFamily(s) {
            this.container.style.fontFamily = s;
        },
        set fontSize(n) {
            var testValue = "0" + n;
            this.container.style.fontSize = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get fontSize() {
            return parseInt(this.container.style.fontSize);
        },
        get fontColor() {
            return this.colorStr;
        },
        set fontColor(s) {
            this.colorStr = s;
            this.container.style.color = this.colorStr;
        },
        get red() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);
            return parseInt(result[1], 16);
        },
        set red(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = Math.round(value);
            var g = parseInt(hexValue[2], 16);
            var b = parseInt(hexValue[3], 16);

            this.fontColor = this.colorStr = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get green() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);

            return parseInt(result[2], 16);
        },
        set green(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = parseInt(hexValue[1], 16);
            var g = Math.round(parseInt(value));
            var b = parseInt(hexValue[3], 16);

            this.fontColor = this.colorStr = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get blue() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);

            return parseInt(result[3], 16);
        },
        set blue(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = parseInt(hexValue[1], 16);
            var g = parseInt(hexValue[2], 16);
            var b = Math.round(parseInt(value));

            this.fontColor = this.colorStr = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        set align(s) {
            this.container.style.textAlign = s;
        },
        get width() {
            return parseInt(this.container.offsetWidth);
        },
        set width(n) {
            var testValue = "0" + n;
            this.container.style.width = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get height() {
            return parseInt(this.container.offsetHeight);
        },
        set height(n) {
            var testValue = "0" + n;
            this.container.style.height = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get left() {
            return parseInt(this.container.offsetLeft);
        },
        set left(n) {
            var testValue = "0" + n;
            this.container.style.left = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get top() {
            return parseInt(this.container.offsetTop);
        },
        set top(n) {
            var testValue = "0" + n;
            this.container.style.top = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get opacity() {
            return parseInt(this.container.style.opacity);
        },
        set opacity(n) {
            this.container.style.opacity = n;
        },
        set lineHeight(n) {
            var testValue = "0" + n;
            this.container.style.lineHeight = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get lineHeight() {
            return parseInt(this.container.style.lineHeight);
        },
        set letterSpacing(n) {
            var testValue = "0" + n;
            this.container.style.letterSpacing = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get letterSpacing() {
            return parseInt(this.container.style.letterSpacing);
        },
        set rotation(n) {
            this.container.style.transform = this.container.style.webkitTransform = this.container.style.MozTransform = this.container.style.oTransform = this.container.style.msTransform = "rotate(" + n + "deg)";

        },
        get visibility() {
            return this.container.style.visibility;
        },
        set visibility(s) {
            this.container.style.visibility = s;
        },
        get div() {
            return this.container;
        },
        get id() {
            return this.container.id;
        },
        set id(s) {
            this.container.id = s;
        },
        set onclick(f) {
            this.onclickFunction = f;
            this.container.onclick = f;
        },
        set onmouseover(f) {
            this.onmouseoverFunction = f;
            this.container.onmouseover = f;
        },
        set onmouseout(f) {
            this.onmouseoutFunction = f;
            this.container.onmouseout = f;
        },
        set pointerEvents(s) {
            this.container.style.pointerEvents = s;
        }
    }

    TextField.prototype.disableClick = function () {
        this.container.onclick = null;
    }

    TextField.prototype.enableClick = function () {
        this.container.onclick = this.onclickFunction;
    }

    TextField.prototype.disableMouseOver = function () {
        this.container.onmouseover = null;
    }

    TextField.prototype.enableMouseOver = function () {
        this.container.onmouseover = this.onmouseoverFunction;
    }

    // Detect which browser prefix to use for the specified CSS value
    // (e.g., background-image: -moz-linear-gradient(...);
    //        background-image:   -o-linear-gradient(...); etc).
    TextField.prototype.getCssValuePrefix = function (name, value) {
        var prefixes = ['', '-o-', '-ms-', '-moz-', '-webkit-'];

        // Create a temporary DOM object for testing
        var dom = document.createElement('div');

        for (var i = 0; i < prefixes.length; i++) {
            // Attempt to set the style
            dom.style[name] = prefixes[i] + value;

            // Detect if the style was successfully set
            if (dom.style[name]) {
                return prefixes[i];
            }
            dom.style[name] = ''; // Reset the style
        }
    }

    // Based on different browsers, this function will generate the right gradient syntax
    // for horizontal and vertical gradients
    TextField.prototype.getGradientOrientation = function (str) {
        if (this.direction == 'vertical') {
            switch (str) {
                case '':
                    return 'to bottom';
                    break;
                case '-o-':
                    return 'top';
                    break;
                case '-ms-':
                    return 'top';
                    break;
                case '-moz-':
                    return 'top';
                    break;
                case '-webkit-':
                    return 'top';
                    break;
            }
        } else if (this.direction == 'horizontal') {
            switch (str) {
                case '':
                    return 'to right';
                    break;
                case '-o-':
                    return 'left';
                    break;
                case '-ms-':
                    return 'left';
                    break;
                case '-moz-':
                    return 'left';
                    break;
                case '-webkit-':
                    return 'left';
                    break;
            }
        }
    }

    // This function will apply the gradient to our background
    TextField.prototype.createGradientText = function () {
        if (this.gradientPrefix != "-moz-") {
            this.container.style.backgroundImage = this.gradientPrefix + "linear-gradient(" + this.gradientOrientation + ", " + this.color1 + ", " + this.color2 + ")";
            this.container.style[this.gradientPrefix + "background-clip"] = "text";
            this.container.style[this.gradientPrefix + "text-fill-color"] = "transparent";
        } else {
            this.fontColor = this.color1;
        }
        //this.container.style[this.gradientPrefix + "mask-image"] = this.gradientPrefix + "linear-gradient("+ this.gradientOrientation + ", " + this.color1 + ", " + this.color2 + ")";
    }

    //----------------------------------------------------
    // NOTE: Legend of required object properties
    //----------------------------------------------------
    // src      : (STRING) the URL of where our image resides
    // parent     : (ELEMENT) div/parent of where this image holder will reside
    //----------------------------------------------------
    function ImageHolder(obj) {
        this.obj = obj;
        this.parent = obj.parent;
        this.isLoaded = false;
        this.isError = false;

        this.rotationNum = 0;

        this.onclickFunction;
        this.onmouseoverFunction;
        this.onmouseoutFunction;

        this.img;
        this.imageWidth;
        this.imageHeight;
        this.isBackground = (obj.isBackground) ? obj.isBackground : false;

        // This div will contain all our assets
        this.container = document.createElement("div");
        this.container.style.position = "absolute";
        this.container.style.overflow = "hidden";
        this.container.style.cursor = "pointer";
        this.container.style.verticalAlign = "top";
        this.container.style.opacity = 1;

        // If draggable
        if (obj.draggable) {
            this.container.setAttribute("draggable", obj.draggable);
        }

        // Adds rounded edges to our image
        if (obj.borderRadius) {
            this.container.style.borderRadius = obj.borderRadius + "px";
            this.container.style.MozBorderRadius = obj.borderRadius + "px"; // Mozilla
            this.container.style.WebkitBorderRadius = obj.borderRadius + "px"; // WebKit
        }

        // Add glow
        if (obj.glow) {
            this.container.style.boxShadow = obj.glow /*"5px 5px 5px #000000"*/;
            this.container.style.webkitBoxShadow = obj.glow /*"5px 5px 5px #000000"*/;
            this.container.style.mozBoxShadow = obj.glow /*"5px 5px 5px #000000"*/;
            this.container.style.msBoxShadow = obj.glow /*"5px 5px 5px #000000"*/;
        }

        // Adds Border
        if (obj.borderTop) {
            this.container.style.borderTop = obj.borderTop;
        }
        if (obj.borderBottom) {
            this.container.style.borderBottom = obj.borderBottom;
        }
        if (obj.borderLeft) {
            this.container.style.borderLeft = obj.borderLeft;
        }
        if (obj.borderRight) {
            this.container.style.borderRight = obj.borderRight;
        }

        // Adds blend filters if needed
        if (obj.blendMode) {
            this.container.style.mixBlendMode = this.container.style.webkitMixBlendMode = obj.blendMode;
        }
        ;

        // Event Listener dispatcher in case you want to listen if this has loaded
        this.evt = document.createEvent("Event");
        this.evt.initEvent("onimageload", true, false);

        // Event Listener dispatcher in case you want to listen if this has loaded
        this.errorEvt = document.createEvent("Event");
        this.errorEvt.initEvent("onimageerror", true, false);

        // Append
        this.parent.appendChild(this.container);

        // Sets ID of container div
        if (obj.id) {
            this.id = obj.id;
        }

        // Mouse Events (if they exist in the object parameter of the ImageHolder object)
        if (obj.onclick) {
            this.onclick = obj.onclick;
        }

        if (obj.onmouseover) {
            this.onmouseover = obj.onmouseover;
        }

        if (obj.onmouseout) {
            this.onmouseout = obj.onmouseout;
        }

        // if the image is not an SVG
        if (obj.src.slice(obj.src.length - 4, obj.src.length) != ".svg") {
            // Loads in our image
            this.img = new Image();
            this.img.src = obj.src;
        }
        // If image is an SVG
        else if (obj.src.slice(obj.src.length - 4, obj.src.length) == ".svg") {
            // This div appended will fix onclick issues when using SVG object loading
            this.clickfix = document.createElement("div");
            this.clickfix.style.position = "absolute";
            this.clickfix.style.width = 999999 + "px";
            this.clickfix.style.height = 999999 + "px";
            this.container.appendChild(this.clickfix);

            // Our SVG Object
            this.img = document.createElement("object");
            this.img.setAttribute("type", "image/svg+xml");
            this.img.setAttribute("data", obj.src);

            // Append
            this.container.appendChild(this.img);
        }

        // Image Load Event
        this.img.onload = (function (root) {
            return function () {
                root.container.style.width = root.img.width + "px";
                root.container.style.height = root.img.height + "px";

                root.imageWidth = root.img.width;
                root.imageHeight = root.img.height;

                // if image is not a background
                if (!root.isBackground) {
                    // if the image is not an SVG
                    if (root.obj.src.slice(root.obj.src.length - 4, root.obj.src.length) != ".svg") {
                        root.img.style.width = "100%";
                        root.img.style.height = "100%";
                        root.container.appendChild(root.img);
                    }
                } else {
                    root.container.style.backgroundImage = "url('" + root.obj.src + "')";
                    //console.log("THIS IS A BACKGROUND FOR MASKING" + root.obj.src);
                }

                // This property is used if you want to resize the images automatically
                if (root.obj.resizeDimensions) {
                    root.resizeImage(root.obj.resizeDimensions);
                }

                // These lines indicate of the image has loaded or not.  Used for preloading purposes
                root.isLoaded = true;
                root.container.dispatchEvent(root.evt);
            }
        }(this));

        // Image Load Event
        this.img.onerror = (function (root) {
            return function () {
                // This property is used if you want to resize the images automatically
                if (root.obj.resizeDimensions) {
                    root.resizeImage(root.obj.resizeDimensions);
                }

                // These lines indicate if the image 404s.  Used for error handldling
                root.isError = true;
                root.container.dispatchEvent(root.errorEvt);
            }
        }(this));
    }

    // Setters and getters
    ImageHolder.prototype = {
        get width() {
            return parseInt(this.container.offsetWidth);
        },
        set width(n) {
            var testValue = "0" + n;
            this.container.style.width = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;

            if (this.obj.src.slice(this.obj.src.length - 4, this.obj.src.length) == ".svg") {
                this.img.style.width = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
            }
        },
        get height() {
            return parseInt(this.container.offsetHeight);
        },
        set height(n) {
            var testValue = "0" + n;
            this.container.style.height = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;

            if (this.obj.src.slice(this.obj.src.length - 4, this.obj.src.length) == ".svg") {
                this.img.style.height = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
            }
        },
        get left() {
            return parseInt(this.container.offsetLeft);
        },
        set left(n) {
            var testValue = "0" + n;
            this.container.style.left = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get top() {
            return parseInt(this.container.offsetTop);
        },
        set top(n) {
            var testValue = "0" + n;
            this.container.style.top = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get opacity() {
            return this.container.style.opacity;
        },
        set opacity(n) {
            this.container.style.opacity = n;
        },
        get rotation() {
            return this.rotationNum;
        },
        set rotation(n) {
            this.rotationNum = n;
            this.container.style.transform = this.container.style.webkitTransform = this.container.style.MozTransform = this.container.style.oTransform = this.container.style.msTransform = "rotate(" + this.rotationNum + "deg)";
        },
        get visibility() {
            return this.container.style.visibility;
        },
        set visibility(s) {
            this.container.style.visibility = s;
        },
        get div() {
            return this.container;
        },
        set zIndex(n) {
            this.container.style.zIndex = n;
        },
        set selectable(s) {
            this.container.style["-khtml-user-select"] = this.container.style["-webkit-user-select"] = this.container.style["-o-user-select"] = this.container.style["-ms-user-select"] = this.container.style["user-select"] = s;
            this.container.style["-moz-user-select"] = "-moz-" + s;

            this.img.style["-khtml-user-select"] = this.img.style["-webkit-user-select"] = this.img.style["-o-user-select"] = this.img.style["-ms-user-select"] = this.img.style["user-select"] = s;
            this.img.style["-moz-user-select"] = "-moz-" + s;
            this.img.style["user-drag"] = this.img.style["-webkit-user-drag"] = "none";
        },
        set draggable(b) {
            if (b) {
                this.container.setAttribute("draggable", "true");
            } else if (!b) {
                this.container.setAttribute("draggable", "false");
            } else {
                this.container.setAttribute("draggable", "auto");
            }
        },
        set onclick(f) {
            this.onclickFunction = f;
            this.container.onclick = f;
        },
        set onmouseover(f) {
            this.onmouseoverFunction = f;
            this.container.onmouseover = f;
        },
        set onmouseout(f) {
            this.onmouseoutFunction = f;
            this.container.onmouseout = f;
        },
        set id(s) {
            this.container.id = s;
        },
        get id() {
            return this.container.id;
        }
    }

    ImageHolder.prototype.disableClick = function () {
        this.container.onclick = null;
    }

    ImageHolder.prototype.enableClick = function () {
        this.container.onclick = this.onclickFunction;
    }

    ImageHolder.prototype.disableMouseOver = function () {
        this.container.onmouseover = null;
    }

    ImageHolder.prototype.enableMouseOver = function () {
        this.container.onmouseover = this.onmouseoverFunction;
    }

    ImageHolder.prototype.resizeImage = function (obj) {
        var percentage;

        if (obj.width < obj.height) {
            percentage = obj.width / this.imageWidth;
        } else if (obj.height < obj.width) {
            console.log(obj.height)
            percentage = obj.height / this.imageHeight;
        } else if (obj.width == obj.height) {
            percentage = obj.width / this.imageWidth;
        }

        this.width = this.imageWidth * percentage;
        this.height = this.imageHeight * percentage;
    }

    //----------------------------------------------------
    // NOTE: Legend of required object properties
    //----------------------------------------------------
    // width        : (NUMBER) width of rectangle in pixels
    // height       : (NUMBER) height of rectangle in pixels
    // "color"      : (STRING) hex color of our rectangle
    // "parent"     : (ELEMENT) div/parent of where this rectangle will reside
    //----------------------------------------------------
    function Rectangle(obj) {
        this.parent = obj.parent;
        this.colorStr;
        this.onclickFunction;
        this.onmouseoverFunction;
        this.onmouseoutFunction;

        // This div will contain all our assets
        this.container = document.createElement("div");
        this.container.style.position = "absolute";
        this.container.style.overflow = "hidden";
        this.container.style.cursor = "pointer";
        this.width = obj.width;
        this.height = obj.height;
        this.color = obj.color;

        if (obj.opacity) {
            this.container.style.opacity = obj.opacity;
        } else {
            this.container.style.opacity = 1;
        }

        // Adds rounded edges to our rectangle
        if (obj.borderRadius) {
            this.container.style.borderRadius = obj.borderRadius + "px";
            this.container.style.MozBorderRadius = obj.borderRadius + "px"; // Mozilla
            this.container.style.WebkitBorderRadius = obj.borderRadius + "px"; // WebKit
        }

        // Adds blend mode to rectangle
        if (obj.mixBlendMode) {
            this.container.style.mixBlendMode = this.container.style.webkitMixBlendMode = obj.blendMode;
        }
        ;

        // Append
        this.parent.appendChild(this.container);

        // Sets ID of container div
        if (obj.id) {
            this.id = obj.id;
        }

        // Mouse Events (if they exist in the object parameter)
        if (obj.onclick) {
            this.onclick = obj.onclick;
        }

        if (obj.onmouseover) {
            this.onmouseover = obj.onmouseover;
        }

        if (obj.onmouseout) {
            this.onmouseout = obj.onmouseout;
        }
    }

    // Setters and getters
    Rectangle.prototype = {
        get width() {
            return parseInt(this.container.offsetWidth);
        },
        set width(n) {
            var testValue = "0" + n;
            this.container.style.width = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get height() {
            return parseInt(this.container.offsetHeight);
        },
        set height(n) {
            var testValue = "0" + n;
            this.container.style.height = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get color() {
            return this.colorStr;
        },
        set color(s) {
            this.colorStr = s;
            this.container.style.backgroundColor = this.colorStr;
        },
        get red() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);

            return parseInt(result[1], 16)
        },
        set red(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = Math.round(value);
            var g = parseInt(hexValue[2], 16);
            var b = parseInt(hexValue[3], 16);

            this.colorStr = this.color = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get green() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);

            return parseInt(result[2], 16);
        },
        set green(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = parseInt(hexValue[1], 16);
            var g = Math.round(parseInt(value));
            var b = parseInt(hexValue[3], 16);

            this.colorStr = this.color = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get blue() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);

            return parseInt(result[3], 16);
        },
        set blue(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = parseInt(hexValue[1], 16);
            var g = parseInt(hexValue[2], 16);
            var b = Math.round(parseInt(value));

            this.colorStr = this.color = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get left() {
            return parseInt(this.container.offsetLeft);
        },
        set left(n) {
            var testValue = "0" + n;
            this.container.style.left = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get top() {
            return parseInt(this.container.offsetTop);
        },
        set top(n) {
            var testValue = "0" + n;
            this.container.style.top = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get opacity() {
            return parseInt(this.container.style.opacity);
        },
        set opacity(n) {
            this.container.style.opacity = n;
        },
        set rotation(n) {
            this.container.style.transform = this.container.style.webkitTransform = this.container.style.MozTransform = this.container.style.oTransform = this.container.style.msTransform = "rotate(" + n + "deg)";

        },
        set visibility(s) {
            this.container.style.visibility = s;
        },
        get div() {
            return this.container;
        },
        set onclick(f) {
            this.onclickFunction = f;
            this.container.onclick = f;
        },
        set onmouseover(f) {
            this.onmouseoverFunction = f;
            this.container.onmouseover = f;
        },
        set onmouseout(f) {
            this.onmouseoutFunction = f;
            this.container.onmouseout = f;
        },
        set id(s) {
            this.container.id = s;
        },
        get id() {
            return this.container.id;
        }
    }

    Rectangle.prototype.disableClick = function () {
        this.container.onclick = null;
    }

    Rectangle.prototype.enableClick = function () {
        this.container.onclick = this.onclickFunction;
    }

    Rectangle.prototype.disableMouseOver = function () {
        this.container.onmouseover = null;
    }

    Rectangle.prototype.enableMouseOver = function () {
        this.container.onmouseover = this.onmouseoverFunction;
    }

    //----------------------------------------------------
    // NOTE: Legend of required object properties
    //----------------------------------------------------
    // width        : (NUMBER) width of border in pixels
    // height       : (NUMBER) height of border in pixels
    // "color"      : (STRING) hex color of our border
    // "thickness"  : (NUMBER) thickness of border in pixels
    // "parent"     : (ELEMENT) div/parent of where this border will reside
    //----------------------------------------------------
    function Border(obj) {
        this.obj = obj;
        this.parent = obj.parent;

        this.colorStr = obj.color;

        // This div will contain all our assets
        this.container = document.createElement("div");
        this.container.id = "border";
        this.container.style.position = "absolute";
        this.container.style.width = (obj.width - (obj.thickness * 2)) + 'px';
        this.container.style.height = (obj.height - (obj.thickness * 2)) + 'px';
        this.container.style.border = obj.thickness + "px solid " + obj.color;
        this.container.style.pointerEvents = "none";

        if (obj.opacity) {
            this.container.style.opacity = obj.opacity;
        } else {
            this.container.style.opacity = 1;
        }

        // Append
        this.parent.appendChild(this.container);

        // Sets ID of container div
        if (obj.id) {
            this.id = obj.id;
        }
    }

    // Setters and getters
    Border.prototype = {
        get width() {
            return parseInt(this.container.offsetWidth);
        },
        set width(n) {
            var testValue = "0" + n;
            this.container.style.width = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get height() {
            return parseInt(this.container.offsetHeight);
        },
        set height(n) {
            var testValue = "0" + n;
            this.container.style.height = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get color() {
            return this.colorStr;
        },
        set color(s) {
            this.colorStr = s;
            this.container.style.border = this.obj.thickness + "px solid" + this.colorStr;
        },
        get red() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);

            return parseInt(result[1], 16)
        },
        set red(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = Math.round(value);
            var g = parseInt(hexValue[2], 16);
            var b = parseInt(hexValue[3], 16);

            this.colorStr = this.color = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get green() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);

            return parseInt(result[2], 16);
        },
        set green(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = parseInt(hexValue[1], 16);
            var g = Math.round(parseInt(value));
            var b = parseInt(hexValue[3], 16);

            this.colorStr = this.color = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get blue() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);

            return parseInt(result[3], 16);
        },
        set blue(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.colorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = parseInt(hexValue[1], 16);
            var g = parseInt(hexValue[2], 16);
            var b = Math.round(parseInt(value));

            this.colorStr = this.color = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get left() {
            return parseInt(this.container.offsetLeft);
        },
        set left(n) {
            var testValue = "0" + n;
            this.container.style.left = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get top() {
            return parseInt(this.container.offsetTop);
        },
        set top(n) {
            var testValue = "0" + n;
            this.container.style.top = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get opacity() {
            return parseInt(this.container.style.opacity);
        },
        set opacity(n) {
            this.container.style.opacity = n;
        },
        set rotation(n) {
            this.container.style.transform = this.container.style.webkitTransform = this.container.style.MozTransform = this.container.style.oTransform = this.container.style.msTransform = "rotate(" + n + "deg)";

        },
        get visibility() {
            return this.container.style.visibility;
        },
        set visibility(s) {
            this.container.style.visibility = s;
        },
        get div() {
            return this.container;
        },
        set zIndex(n) {
            this.container.style.zIndex = n;
        },
        set onclick(f) {
            this.container.onclick = f;
        },
        set id(s) {
            this.container.id = s;
        },
        get id() {
            return this.container.id;
        }
    }

    //----------------------------------------------------
    // NOTE: Legend of required object properties
    //----------------------------------------------------
    // width         : (NUMBER) the width of our CTA in pixels
    // height        : (NUMBER) the height of our CTA in pixels
    // text          : (STRING) what we want our text to say
    // size          : (NUMBER) the size of our font
    // letterSpacing : (NUMBER) the letter spacing of our text in pixels
    // fontFamily    : (STRING) the font we want to use in our CTA
    // textColor     : (STRING) the hex color of our font
    // "parent"      : (ELEMENT) div/parent of where this animation frame will reside
    //----------------------------------------------------
    function CTA(obj) {
        this.obj = obj;
        this.parent = obj.parent;
        this.isLoaded = false;
        this.preloadItemsArr = [];
        this.bgColorStr;
        this.borderColorStr;
        this.fontColorStr;

        // This div will contain all our assets
        this.container = document.createElement("div");
        this.container.style.position = "absolute";
        this.container.style.cursor = "pointer";
        this.container.style.overflow = "hidden";
        this.container.style.height = obj.height + "px";
        this.container.style.width = obj.width + "px";
        this.container.style.opacity = 1;

        if (obj.background.borderRadius) {
            this.container.style.borderRadius = obj.background.borderRadius + "px";
            this.container.style.MozBorderRadius = obj.background.borderRadius + "px"; // Mozilla
            this.container.style.WebkitBorderRadius = obj.background.borderRadius + "px"; // WebKit
        }

        if (obj.boxShadow) {
            this.container.style.boxShadow = obj.boxShadow.hShadow + "px " + obj.boxShadow.vShadow + "px " + obj.boxShadow.blur + "px " + obj.boxShadow.spread + "px " + obj.boxShadow.color;
            this.container.style.MozBoxShadow = obj.boxShadow.hShadow + "px " + obj.boxShadow.vShadow + "px " + obj.boxShadow.blur + "px " + obj.boxShadow.spread + "px " + obj.boxShadow.color;
            this.container.style.WebkitBoxShadow = obj.boxShadow.hShadow + "px " + obj.boxShadow.vShadow + "px " + obj.boxShadow.blur + "px " + obj.boxShadow.spread + "px " + obj.boxShadow.color;
        }

        // Append
        this.parent.appendChild(this.container);

        // Sets ID of container div
        if (obj.id) {
            this.id = obj.id;
        }

        // Event Listener dispatcher in case you want to listen if this has loaded
        this.evt = document.createEvent("Event");
        this.evt.initEvent("loadComplete", true, false);

        // Background
        if (obj.background.color) {
            this.background = new Rectangle({
                width: obj.width,
                height: obj.height,
                color: obj.background.color,
                borderRadius: obj.background.borderRadius,
                parent: this.container
            });
            this.background.opacity = obj.background.opacity;
            this.bgColorStr = obj.background.color;
        }

        // Text Field
        if (obj.copy) {
            this.textField = new TextField({
                width: obj.width,
                text: obj.copy.text,
                fontFamily: obj.copy.fontFamily,
                fontSize: obj.copy.fontSize,
                fontWeight: 100,
                color: obj.copy.color,
                lineHeight: 0,
                letterSpacing: obj.copy.letterSpacing,
                align: "left",
                whiteSpace: "nowrap",
                parent: this.container
            });
            this.fontColorStr = obj.copy.color;
            this.textField.visiblility = "hidden";
            this.textField.opacity = 0;
            this.textField.left = obj.margin;

            setTimeout((function (root) {
                return function () {
                    if (PlatformDetector.os() == "Mac/iOS") {
                        switch (PlatformDetector.browser()) {
                            case "Chrome":
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2)) + 3;
                                break;
                            case "Firefox":
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2)) + 3;
                                break;
                            case "Safari":
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2)) + 3;
                                break;
                            case "Opera":
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2)) + 3;
                                break;
                            default:
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2)) + 3;
                                break;
                        }
                    } else if (PlatformDetector.os() == "Windows 7") {
                        switch (PlatformDetector.browser()) {
                            case "Chrome":
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2)) + 2;
                                break;
                            case "Firefox":
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2)) + 2;
                                break;
                            case "IE 10":
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2));
                                break;
                            case "IE 11":
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2));
                                break;
                            case "Opera":
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2)) + 2;
                                break;
                            default:
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2)) + 2;
                                break;
                        }
                    } else if (PlatformDetector.os() == "Windows 8" || PlatformDetector.os() == "Windows 8.1") {
                        switch (PlatformDetector.browser()) {
                            case "Chrome":
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2)) + 2;
                                break;
                            case "Firefox":
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2)) + 2;
                                break;
                            case "IE 10":
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2));
                                break;
                            case "IE 11":
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2));
                                break;
                            case "Opera":
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2)) + 2;
                                break;
                            default:
                                root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2)) + 2;
                                break;
                        }
                    } else {
                        root.textField.top = ((parseInt(root.container.offsetHeight) / 2) - (root.textField.height / 2));
                    }
                    root.textField.visiblility = "visible";
                    TweenLite.to(root.textField, 0.25, {
                        opacity: 1
                    });
                }
            })(this), 800);
        }

        // Image
        if (obj.image) {
            this.image = new ImageHolder({
                src: obj.image.src,
                parent: this.container
            });
            this.image.visiblility = "hidden";
            this.image.opacity = 0;
            this.image.left = obj.width - (obj.image.width + obj.margin);

            setTimeout((function (root) {
                return function () {
                    root.image.top = ((parseInt(root.container.offsetHeight) / 2) - (root.image.height / 2));
                    root.image.visiblility = "visible";
                    TweenLite.to(root.image, 0.25, {
                        opacity: 1
                    });
                }
            })(this), 800);

            // Preloads our images
            this.preloadItemsArr.push(this.image);
        }

        // Border
        if (obj.border) {
            this.border = new Border({
                width: obj.width,
                height: obj.height,
                color: obj.border.color,
                thickness: obj.border.thickness,
                parent: this.container
            });
            this.borderColorStr = obj.border.color
            this.border.opacity = obj.border.opacity;
        }

        // mouseover & mouseout events
        if (obj.background.mouseoverColor) {
            this.hitArea = new Rectangle({
                width: obj.width,
                height: obj.height,
                color: obj.background.color,
                borderRadius: obj.background.borderRadius,
                parent: this.container
            });
            this.hitArea.opacity = 0;

            this.div.onmouseover = this.mouseOver;
            this.div.onmouseout = this.mouseOut;
        }

        // Preloads our images
        this.preloadInterval = setInterval(this.preloader, 1, this);
    }

    // Setters and getters
    CTA.prototype = {
        get width() {
            return parseInt(this.container.offsetWidth);
        },
        set width(n) {
            var testValue = "0" + n;
            this.container.style.width = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
            this.background.width = (testValue.substr(testValue.length - 2) != "px") ? n : testValue.slice(0, testValue.indexOf("px"));
        },
        get height() {
            return parseInt(this.container.offsetHeight);
        },
        set height(n) {
            var testValue = "0" + n;
            this.container.style.height = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
            this.background.height = (testValue.substr(testValue.length - 2) != "px") ? n : testValue.slice(0, testValue.indexOf("px"));
        },
        get bgColor() {
            return this.bgColorStr;
        },
        set bgColor(s) {
            this.bgColorStr = s;
            this.background.color = this.bgColorStr;
        },
        get bgRed() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.bgColorStr);

            return parseInt(result[1], 16)
        },
        set bgRed(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.bgColorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = Math.round(value);
            var g = parseInt(hexValue[2], 16);
            var b = parseInt(hexValue[3], 16);

            this.bgColorStr = this.bgColor = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get bgGreen() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.bgColorStr);

            return parseInt(result[2], 16);
        },
        set bgGreen(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.bgColorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = parseInt(hexValue[1], 16);
            var g = Math.round(parseInt(value));
            var b = parseInt(hexValue[3], 16);

            this.bgColorStr = this.bgColor = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get bgBlue() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.bgColorStr);

            return parseInt(result[3], 16);
        },
        set bgBlue(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.bgColorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = parseInt(hexValue[1], 16);
            var g = parseInt(hexValue[2], 16);
            var b = Math.round(parseInt(value));

            this.bgColorStr = this.bgColor = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get bgOpacity() {
            return this.background.opacity;
        },
        set bgOpacity(n) {
            this.background.opacity = n;
        },
        get fontColor() {
            return this.fontColorStr;
        },
        set fontColor(s) {
            this.fontColorStr = s;
            this.textField.fontColor = this.fontColorStr;
        },
        get fontRed() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.fontColorStr);
            return parseInt(result[1], 16);
        },
        set fontRed(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.fontColorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = Math.round(value);
            var g = parseInt(hexValue[2], 16);
            var b = parseInt(hexValue[3], 16);

            this.fontColor = this.fontColorStr = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get fontGreen() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.fontColorStr);

            return parseInt(result[2], 16);
        },
        set fontGreen(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.fontColorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = parseInt(hexValue[1], 16);
            var g = Math.round(parseInt(value));
            var b = parseInt(hexValue[3], 16);

            this.fontColor = this.fontColorStr = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get fontBlue() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.fontColorStr);

            return parseInt(result[3], 16);
        },
        set fontBlue(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.fontColorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = parseInt(hexValue[1], 16);
            var g = parseInt(hexValue[2], 16);
            var b = Math.round(parseInt(value));

            this.fontColor = this.fontColorStr = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get borderColor() {
            return this.borderColorStr;
        },
        set borderColor(s) {
            this.borderColorStr = s;
            this.border.color = this.borderColorStr;
        },
        get borderRed() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.borderColorStr);

            return parseInt(result[1], 16)
        },
        set borderRed(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.borderColorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = Math.round(value);
            var g = parseInt(hexValue[2], 16);
            var b = parseInt(hexValue[3], 16);

            this.borderColorStr = this.borderColor = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get borderGreen() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.borderColorStr);

            return parseInt(result[2], 16);
        },
        set borderGreen(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.borderColorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = parseInt(hexValue[1], 16);
            var g = Math.round(parseInt(value));
            var b = parseInt(hexValue[3], 16);

            this.borderColorStr = this.borderColor = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get borderBlue() {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.borderColorStr);

            return parseInt(result[3], 16);
        },
        set borderBlue(n) {
            var hexValue = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.borderColorStr);
            var value = n;

            hex = function (c) {
                var value = c.toString(16);
                return value.length == 1 ? "0" + value : value;
            }

            if (value <= 0) {
                value = 0;
            } else if (value >= 255) {
                value = 255;
            }

            var r = parseInt(hexValue[1], 16);
            var g = parseInt(hexValue[2], 16);
            var b = Math.round(parseInt(value));

            this.borderColorStr = this.borderColor = ("#" + hex(r) + hex(g) + hex(b)).toUpperCase();
        },
        get borderOpacity() {
            return this.border.opacity;
        },
        set borderOpacity(n) {
            this.border.opacity = n;
            //console.log(this.border.opacity);
        },
        get left() {
            return parseInt(this.container.offsetLeft);
        },
        set left(n) {
            var testValue = "0" + n;
            this.container.style.left = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get top() {
            return parseInt(this.container.offsetTop);
        },
        set top(n) {
            var testValue = "0" + n;
            this.container.style.top = (testValue.substr(testValue.length - 2) != "px") ? n + "px" : n;
        },
        get opacity() {
            return parseInt(this.container.style.opacity);
        },
        set opacity(n) {
            this.container.style.opacity = n;
        },
        set rotation(n) {
            this.container.style.transform = this.container.style.webkitTransform = this.container.style.MozTransform = this.container.style.oTransform = this.container.style.msTransform = "rotate(" + n + "deg)";

        },
        set visibility(s) {
            this.container.style.visibility = s;
        },
        get div() {
            return this.container;
        },
        set onclick(f) {
            this.container.onclick = f;
        },
        set id(s) {
            this.container.id = s;
        },
        get id() {
            return this.container.id;
        }
    }

    // This makes sure that all our images are loaded
    CTA.prototype.preloader = function (root) {
        if (root.preloadItemsArr.length == 0 || root.preloadItemsArr == undefined) {
            for (var j = 0; j < root.itemsArr.length; j++) {
                root.obj.items[j].width = root.obj.items[j].width;
                root.obj.items[j].height = root.obj.items[j].height;
            }

            root.isLoaded = true;
            root.container.dispatchEvent(root.evt);
            clearInterval(root.preloadInterval);
        } else {
            for (var i = 0; i < root.preloadItemsArr.length; i++) {
                if (!root.preloadItemsArr[i].isLoaded) {
                    break;
                } else {
                    if (i >= root.preloadItemsArr.length - 1) {
                        root.isLoaded = true;
                        root.image.width = root.obj.image.width;
                        root.image.height = root.obj.image.height;
                        root.container.dispatchEvent(root.evt);
                        clearInterval(root.preloadInterval);
                    }
                }
            }
        }
    }

    // Mouse Over
    CTA.prototype.mouseOver = function () {
        TweenLite.to(this.background, 0.15, {
            red: AdUtils.convertHexToRgb(this.obj.background.mouseoverColor).r,
            green: AdUtils.convertHexToRgb(this.obj.background.mouseoverColor).g,
            blue: AdUtils.convertHexToRgb(this.obj.background.mouseoverColor).b
        });
    }

    // Mouse Out
    CTA.prototype.mouseOut = function () {
        TweenLite.to(this.background, 0.15, {
            red: AdUtils.convertHexToRgb(this.obj.background.color).r,
            green: AdUtils.convertHexToRgb(this.obj.background.color).g,
            blue: AdUtils.convertHexToRgb(this.obj.background.color).b
        });
    }

    //----------------------------------------------------
    // NOTE: Legend of required object properties
    //----------------------------------------------------
    //
    //----------------------------------------------------
    function Footer(obj) {
        this.obj = obj;
        this.parent = obj.parent;
        this.itemsArr = [];
        this.preloadItemsArr = [];
        this.isLoaded = false;

        this.onclickFunction;
        this.onmouseoverFunction;
        this.onmouseoutFunction;

        this.footerMod = new Module({
            // ID
            id: obj.id,

            // Dimensions
            width: obj.width,
            height: obj.height,

            // Overflow
            overflow: "hidden",

            // JS objects I would like to add into the module and
            // their respective properties
            items: [ // [ ---------- BLUE GRAPHIC IMAGE ---------- ]
                {
                    object: {
                        objType: "ImageHolder",
                        src: obj.bgGraphic.src
                    },
                    left: obj.bgGraphic.left,
                    top: obj.bgGraphic.top,
                    visibility: "visible",
                    preload: true
                },

                // [ ---------- LOGO ---------- ]
                {
                    object: {
                        objType: "ImageHolder",
                        src: obj.logo.src
                    },
                    left: obj.logo.left,
                    top: obj.logo.top,
                    visibility: "visible",
                    preload: true
                },
            ],

            // Animation frame parent
            parent: this.parent
        });
        preload_arr.push(this.footerMod);

        // Preloads our graphics
        this.preloadInterval = setInterval(this.preloader, 1, this);
    }

    // Setters and getters
    Footer.prototype = {
        get width() {
            return parseInt(this.footerMod.width);
        },
        set width(n) {
            this.footerMod.width = n;
        },
        get height() {
            return parseInt(this.footerMod.height);
        },
        set height(n) {
            this.footerMod.height = n;
        },
        get left() {
            return parseInt(this.footerMod.left);
        },
        set left(n) {
            this.footerMod.left = n;
        },
        get top() {
            return parseInt(this.footerMod.top);
        },
        set top(n) {
            this.footerMod.top = n;
        },
        get opacity() {
            return this.footerMod.opacity;
        },
        set opacity(n) {
            this.footerMod.opacity = n;
        },
        get visibility() {
            return this.footerMod.visibility;
        },
        set visibility(s) {
            this.footerMod.visibility = s;
        },
        get div() {
            return this.footerMod.div;
        },
        set zIndex(n) {
            this.footerMod.zIndex = n;
        },
        set onclick(f) {
            this.onclickFunction = f;
            this.footerMod.onclick = f;
        },
        set onmouseover(f) {
            this.onmouseoverFunction = f;
            this.footerMod.onmouseover = f;
        },
        set onmouseout(f) {
            this.onmouseoutFunction = f;
            this.footerMod.onmouseout = f;
        },
        set id(s) {
            this.footerMod.id = s;
        },
        get id() {
            return this.footerMod.id;
        }
    }

    // This makes sure that all our images are loaded
    Footer.prototype.preloader = function (root) {
        if (root.preloadItemsArr.length == 0 || root.preloadItemsArr == undefined) {
            root.isLoaded = true;
            clearInterval(root.preloadInterval);
        } else {
            for (i = 0; i < root.preloadItemsArr.length; i++) {
                if (!root.preloadItemsArr[i].isLoaded) {
                    break;
                } else {
                    if (i >= root.preloadItemsArr.length - 1) {
                        root.isLoaded = true;
                        clearInterval(root.preloadInterval);
                    }
                }
            }
        }
    }

    //----------------------------------------------------
    // NOTE: Legend of required object properties
    //----------------------------------------------------
    //
    //----------------------------------------------------
    function LegalWindow(obj) {
        this.obj = obj;
        this.parent = obj.parent;
        this.itemsArr = [];
        this.preloadItemsArr = [];
        this.isLoaded = false;

        this.onclickFunction;
        this.onmouseoverFunction;
        this.onmouseoutFunction;

        this.legalWindowMod = new Module({
            // ID
            id: obj.id,

            // Dimensions
            width: obj.width,
            height: obj.height,

            // Overflow
            overflow: "hidden",

            // JS objects I would like to add into the module and
            // their respective properties
            items: [ // [ ---------- BACKGROUND RECTANGLE ---------- ]
                {
                    object: {
                        objType: "Rectangle",
                        width: obj.width,
                        height: obj.height,
                        color: "#FFFFFF",
                    },
                    left: 0,
                    top: 0,
                    opacity: 0.95,
                    visibility: "inherit",
                    preload: false
                },

                // [ ---------- HEADLINE TEXT ---------- ]
                {
                    object: {
                        objType: "TextField",
                        width: obj.width - (obj.headline.left * 2),
                        text: obj.headline.text,
                        fontFamily: obj.headline.fontFamily,
                        fontSize: obj.headline.fontSize,
                        fontWeight: 100,
                        color: "#335597",
                        lineHeight: 0,
                        letterSpacing: 0,
                        align: "left",
                        whiteSpace: "nowrap",
                    },
                    left: obj.headline.left,
                    top: obj.headline.top,
                    visibility: "inherit",
                    preload: false
                },

                // [ ---------- BODY TEXT ---------- ]
                {
                    object: {
                        objType: "TextField",
                        width: obj.width - (obj.body.left * 2),
                        text: obj.body.text,
                        fontFamily: obj.body.fontFamily,
                        fontSize: obj.body.fontSize,
                        color: "#232323",
                        lineHeight: obj.body.lineHeight,
                        letterSpacing: 0,
                        align: "left",
                    },
                    left: obj.body.left,
                    top: obj.body.top,
                    visibility: "inherit",
                    preload: false
                },

                // [ ---------- LEGAL WINDOW HIT AREA ---------- ]
                {
                    object: {
                        objType: "Rectangle",
                        width: obj.width,
                        height: obj.height,
                        color: "#FFFFFF",
                    },
                    left: 0,
                    top: 0,
                    opacity: 0,
                    onclick: obj.onclick,
                    visibility: "inherit",
                    preload: false
                }
            ],

            // Animation frame parent
            parent: this.parent
        });
        preload_arr.push(this.legalWindowMod);

        // Preloads our graphics
        this.preloadInterval = setInterval(this.preloader, 1, this);
    }

    // Setters and getters
    LegalWindow.prototype = {
        get width() {
            return parseInt(this.legalWindowMod.width);
        },
        set width(n) {
            this.legalWindowMod.width = n;
        },
        get height() {
            return parseInt(this.legalWindowMod.height);
        },
        set height(n) {
            this.legalWindowMod.height = n;
        },
        get left() {
            return parseInt(this.legalWindowMod.left);
        },
        set left(n) {
            this.legalWindowMod.left = n;
        },
        get top() {
            return parseInt(this.legalWindowMod.top);
        },
        set top(n) {
            this.legalWindowMod.top = n;
        },
        get opacity() {
            return this.legalWindowMod.opacity;
        },
        set opacity(n) {
            this.legalWindowMod.opacity = n;
        },
        get visibility() {
            return this.legalWindowMod.visibility;
        },
        set visibility(s) {
            this.legalWindowMod.visibility = s;
        },
        get div() {
            return this.legalWindowMod.div;
        },
        set zIndex(n) {
            this.legalWindowMod.zIndex = n;
        },
        set onclick(f) {
            this.onclickFunction = f;
            this.legalWindowMod.onclick = f;
        },
        set onmouseover(f) {
            this.onmouseoverFunction = f;
            this.legalWindowMod.onmouseover = f;
        },
        set onmouseout(f) {
            this.onmouseoutFunction = f;
            this.legalWindowMod.onmouseout = f;
        },
        set id(s) {
            this.legalWindowMod.id = s;
        },
        get id() {
            return this.legalWindowMod.id;
        }
    }

    // This makes sure that all our images are loaded
    LegalWindow.prototype.preloader = function (root) {
        if (root.preloadItemsArr.length == 0 || root.preloadItemsArr == undefined) {
            root.isLoaded = true;
            clearInterval(root.preloadInterval);
        } else {
            for (i = 0; i < root.preloadItemsArr.length; i++) {
                if (!root.preloadItemsArr[i].isLoaded) {
                    break;
                } else {
                    if (i >= root.preloadItemsArr.length - 1) {
                        root.isLoaded = true;
                        clearInterval(root.preloadInterval);
                    }
                }
            }
        }
    }

    LegalWindow.prototype.play = function (d) {
        this.legalWindowMod.animate({
            frameName: "play",
            delay: d
        });
    }

    /*========================================================================*/
    // VARS
    /*========================================================================*/
    // NOTE: Legend of data type naming convention suffixes
    //----------------------------------------------------
    // "_num" 		: (NUMBER)
    // "_obj" 		: (OBJECT)
    // "_bool" 		: (BOOLEAN)
    // "_intv" 		: (SET INTERVAL)
    // "_txt" 		: (TEXT FIELD) Div with text
    // "_img" 		: (IMAGEHOLDER) Div with image
    // "_mod" 		: (MODULE) Module
    // "_frm" 		: (FRAME) Sling TV Frame
    // "_rect" 		: (RECTANGLE) Div with background color
    //----------------------------------------------------
    // CONSTANTS
    //------------------------------------------*/
    var ad = document.getElementById("ad");
    var body = document.body;
    var ftIA;

    //------------------------------------------*/
    // IA VARIABLE OBJECTS
    /*------------------------------------------*/
    // Constants
    var ia_logo_obj;
    var ia_leaglLink_obj;
    var ia_legalWindow_obj;
    // Frame 1
    var ia_frame1_obj;
    var ia_frame1_image_obj;
    var ia_frame1_headline_obj;
    var ia_frame1_subhead_obj;
    // Frame 2
    var ia_frame2_obj;
    var ia_frame2_image_obj;
    var ia_frame2_headline_obj;
    var ia_frame2_subhead_obj;
    // Frame 3
    var ia_frame3_obj;
    var ia_frame3_image_obj;
    var ia_frame3_headline_obj;
    var ia_frame3_subhead_obj;
    // Frame 4
    var ia_frame4_obj;
    var ia_frame4_image_obj;
    var ia_frame4_headline_obj;
    var ia_frame4_subhead_obj;
    var ia_frame4_price_obj;
    var ia_frame4_cta_obj;

    //------------------------------------------*/
    // GRAPHIC ASSETS
    /*------------------------------------------*/
    // Contants
    var background_rect;
    var whiteBlend_rect;
    var whiteGraphic_img;
    var my_footer;
    var legalLink_txt;
    var legal_window;
    var my_border;
    var click_rect;
    // Frame 1
    var frame1_image_img;
    var frame1_headline_txt;
    var frame1_subhead_txt;
    // Frame 2
    var frame2_image_img;
    var frame2_headline_txt;
    var frame2_subhead_txt;
    // Frame 3
    var frame3_image_img;
    var frame3_headline_txt;
    var frame3_subhead_txt;
    // Frame 4
    var frame4_image_img;
    var frame4_headline_txt;
    var frame4_subhead_txt;
    var frame4_price_txt;
    var frame4_cta;

    //------------------------------------------*/
    // SPLIT TEXT
    /*------------------------------------------*/
    // Frame 1
    var frame1_headline_split;
    var frame1_subhead_split;
    var frame1_text_arr = [];
    // Frame 2
    var frame2_headline_split;
    var frame2_subhead_split;
    var frame2_text_arr = [];
    // Frame 3
    var frame3_headline_split;
    var frame3_subhead_split;
    var frame3_text_arr = [];
    // Frame 4
    var frame4_headline_split;
    var frame4_subhead_split;
    var frame4_price_split;
    var frame4_text_arr = [];

    //------------------------------------------*/
    // FRAME ARRAY - DETERMINES WHAT FRAMES TO SHOW
    /*------------------------------------------*/
    var frame_arr = [];

    //------------------------------------------*/
    // AD DIMENSIONS
    /*------------------------------------------*/
    var adWidth_num = parseInt(ad.offsetWidth);
    var adHeight_num = parseInt(ad.offsetHeight);

    //------------------------------------------*/
    // PRELOAD BOOLEANS
    /*------------------------------------------*/
    var isWindowLoaded_bool = false;
    var isPoliteLoad_bool = false;
    var isIALoaded_bool = false;

    //------------------------------------------*/
    // PRELOAD SET INTERVALS
    /*------------------------------------------*/
    var politeLoad_intv = setInterval(politeSubloader, 1);

    //------------------------------------------*/
    // PRELOAD ARRAY
    /*------------------------------------------*/
    // Array will contain the objects we want to preload
    var preload_arr = [];

    /*========================================================================*/
    // FUNCTIONS - PRELOADERS & EVENTS
    /*========================================================================*/
    // Checks to see if window is loaded
    window.onload = function () {
        // Here we set this boolean to true so that the preloader knows that the
        // browser window has loaded.
        isWindowLoaded_bool = true;
    }

    /*------------------------------------------*/
    // INSTANT AD EVENT LISTENER
    /*------------------------------------------*/
    // Instant Ad event listener
    myFT.on('instantads', function () {
        // Stores instant ads in global variable "ftIA". All IA variables are
        // converted from string types to their correct type
        ftIA = AdUtils.convertIAToTypes(myFT.instantAds);

        // Here we create our objects.  These objects and their properties will later
        // be used to create and position the graphic assets in the ad.
        ia_logo_obj = AdUtils.createObject(myFT.instantAds.logoImage);
        ia_leaglLink_obj = AdUtils.createObject(myFT.instantAds.legalLinkText);
        ia_legalWindow_obj = AdUtils.createObject(myFT.instantAds.legalWindow);
        // Frame 1
        ia_frame1_obj = AdUtils.createObject(myFT.instantAds.frame1);
        ia_frame1_image_obj = AdUtils.createObject(myFT.instantAds.frame1_image);
        ia_frame1_headline_obj = AdUtils.createObject(myFT.instantAds.frame1_headlineText);
        ia_frame1_subhead_obj = AdUtils.createObject(myFT.instantAds.frame1_subheadText);
        // Frame 2
        ia_frame2_obj = AdUtils.createObject(myFT.instantAds.frame2);
        ia_frame2_image_obj = AdUtils.createObject(myFT.instantAds.frame2_image);
        ia_frame2_headline_obj = AdUtils.createObject(myFT.instantAds.frame2_headlineText);
        ia_frame2_subhead_obj = AdUtils.createObject(myFT.instantAds.frame2_subheadText);
        // Frame 3
        ia_frame3_obj = AdUtils.createObject(myFT.instantAds.frame3);
        ia_frame3_image_obj = AdUtils.createObject(myFT.instantAds.frame3_image);
        ia_frame3_headline_obj = AdUtils.createObject(myFT.instantAds.frame3_headlineText);
        ia_frame3_subhead_obj = AdUtils.createObject(myFT.instantAds.frame3_subheadText);
        // Frame 4
        ia_frame4_obj = AdUtils.createObject(myFT.instantAds.frame4);
        ia_frame4_image_obj = AdUtils.createObject(myFT.instantAds.frame4_image);
        ia_frame4_headline_obj = AdUtils.createObject(myFT.instantAds.frame4_headlineText);
        ia_frame4_subhead_obj = AdUtils.createObject(myFT.instantAds.frame4_subheadText);
        ia_frame4_price_obj = AdUtils.createObject(myFT.instantAds.frame4_priceText);
        ia_frame4_cta_obj = AdUtils.createObject(myFT.instantAds.frame4_cta);

        // Here we set this boolean to true so that the preloader knows that the
        // Instant Ad variables are loaded.
        isIALoaded_bool = true;

    });

    /*------------------------------------------*/
    // POLITE LOAD EVENT LISTENER
    /*------------------------------------------*/
    // This event listener will listen when the polite load event fires
    myFT.on('politeload', function (e) {
        // Sets our suload loading boolean to true once parent page is loaded
        isPoliteLoad_bool = true;
    });

    /*------------------------------------------*/
    // POLITE PRELOADER
    /*------------------------------------------*/
    // Makes sure our parent page and IA vars are loaded before creating our graphic assets
    function politeSubloader() {
        //console.log("POLITE LOADING");
        if (isWindowLoaded_bool && isPoliteLoad_bool && isIALoaded_bool) {
            // clears preloader interval once parent website is loaded
            clearInterval(politeLoad_intv);

            // This function sets up our graphics once instant ads are loaded
            setup();
        }
    }

    /*------------------------------------------*/
    // MAIN PRELOADER
    /*------------------------------------------*/
    // Preloads graphic assets in ad before displaying the ad
    function preloader() {
        if (preload_arr.length > 0) {
            for (var i = 0; i < preload_arr.length; i++) {
                if (!preload_arr[i].isLoaded) {
                    break;
                } else {
                    if (i >= preload_arr.length - 1) {
                        // clears preloader interval once assets are loaded
                        clearInterval(preloader_intv);

                        // animates in our ad. Set Timeout 2 second delay
                        // allows ad to set up the GSAP SplitText correctly
                        setTimeout(adAnimation, 1500);
                    }
                }
            }
        } else {
            // clears preloader interval once assets are loaded
            clearInterval(preloader_intv);

            // animates in our ad. Set Timeout 2 second delay
            // allows ad to set up the GSAP SplitText correctly
            setTimeout(adAnimation, 1500);
        }
    }

    /*========================================================================*/
    // FUNCTIONS - INITIALIZATION
    /*========================================================================*/
    // Instantiates our graphic assets, sets their properties and positions them
    // based on the IA variables/properties inside the manifest.js file.
    function setup() {
        //------------------------------------------
        // FONTS
        //------------------------------------------
        ScriptLoader.loadCSS("fonts.css");

        /*---------------------*/
        // BACKGROUND
        /*---------------------*/
        background_rect = new Rectangle({
            id: "backgroundRectangle",
            width: adWidth_num,
            height: adHeight_num,
            color: "#FFFFFF",
            parent: ad
        });

        /*---------------------*/
        // FRAME IMAGES SETUP
        /*---------------------*/
        // Frame 4 resolve image should be placed in first to fix a display bug for 300x250 only
        if (ia_frame4_obj.isVisible) {
            frame4_image_img = new ImageHolder({
                id: "frame4Image",
                isBackground: true,
                src: myFT.instantAds.frame4_image_src,
                parent: ad
            });

            frame4_image_img.left = ia_frame4_image_obj.x;
            frame4_image_img.top = ia_frame4_image_obj.y;
            //frame4_image_img.visibility = "hidden";

            preload_arr.push(frame4_image_img);
        }

        for (var i = 1; i <= 3; i++) {
            // Frames 1 - 3
            if (window["ia_frame" + i + "_obj"].isVisible) {
                if (i == 1) {
                    window["frame" + i + "_image_img"] = new ImageHolder({
                        id: "frame" + i + "Image",
                        src: myFT.instantAds["frame" + i + "_image_src"],
                        parent: ad
                    });
                } else {
                    window["frame" + i + "_image_img"] = new ImageHolder({
                        id: "frame" + i + "Image",
                        isBackground: true,
                        src: myFT.instantAds["frame" + i + "_image_src"],
                        parent: ad
                    });
                }

                switch (i) {
                    case 1:
                        window["frame" + i + "_image_img"].left = window["ia_frame" + i + "_image_obj"].begin_x;
                        window["frame" + i + "_image_img"].top = window["ia_frame" + i + "_image_obj"].begin_y;
                        break;
                    case 2:
                        window["frame" + i + "_image_img"].left = window["ia_frame" + i + "_image_obj"].x;
                        window["frame" + i + "_image_img"].top = window["ia_frame" + i + "_image_obj"].y;
                        window["frame" + i + "_image_img"].opacity = 0;
                        break;
                    case 3:
                        window["frame" + i + "_image_img"].left = window["ia_frame" + i + "_image_obj"].x;
                        window["frame" + i + "_image_img"].top = window["ia_frame" + i + "_image_obj"].y;
                        window["frame" + i + "_image_img"].opacity = 0;
                        break;
                }

                preload_arr.push(window["frame" + i + "_image_img"]);
            }
        }

        /*---------------------*/
        // WHITE BLEND RECTANGLE
        /*---------------------*/
        whiteBlend_rect = new Rectangle({
            id: "whiteBlendRectangle",
            width: adWidth_num,
            height: adHeight_num,
            color: "#FFFFFF",
            mixBlendMode: "color-dodge",
            parent: ad
        });
        whiteBlend_rect.opacity = 1;

        /*---------------------*/
        // WHITE GRAPHIC IMAGE
        /*---------------------*/
        whiteGraphic_img = new ImageHolder({
            id: "whiteGraphicImage",
            src: "whiteGraphic_300x250.svg",
            parent: ad
        });
        whiteGraphic_img.left = adWidth_num;
        preload_arr.push(whiteGraphic_img);

        /*---------------------*/
        // FRAME TEXT SETUP
        /*---------------------*/
        for (var i = 1; i <= 4; i++) {
            if (window["ia_frame" + i + "_obj"].isVisible) {
                /*---------------------*/
                // HEADLINE TEXT
                /*---------------------*/
                if (window["ia_frame" + i + "_headline_obj"].isVisible) {
                    window["frame" + i + "_headline_txt"] = new TextField({
                        id: "frame" + i + "HeadlineText",
                        width: window["ia_frame" + i + "_headline_obj"].width,
                        text: window["ia_frame" + i + "_headline_obj"].text.toUpperCase(),
                        fontFamily: "TempoStdHeavyCondensed",
                        fontSize: window["ia_frame" + i + "_headline_obj"].fontSize,
                        fontWeight: 100,
                        color: "#335597",
                        align: "left",
                        letterSpacing: 0,
                        lineHeight: window["ia_frame" + i + "_headline_obj"].lineHeight,
                        parent: ad
                    });
                    window["frame" + i + "_headline_txt"].left = window["ia_frame" + i + "_headline_obj"].x;
                    window["frame" + i + "_headline_txt"].top = window["ia_frame" + i + "_headline_obj"].y;
                }

                /*---------------------*/
                // SUBHEAD TEXT
                /*---------------------*/
                if (window["ia_frame" + i + "_subhead_obj"].isVisible) {
                    window["frame" + i + "_subhead_txt"] = new TextField({
                        id: "frame" + i + "SubheadText",
                        width: window["ia_frame" + i + "_subhead_obj"].width,
                        text: window["ia_frame" + i + "_subhead_obj"].text,
                        fontFamily: "HelveticaNeueLTStdMedium",
                        fontSize: window["ia_frame" + i + "_subhead_obj"].fontSize,
                        color: "#1A1A1A",
                        align: "left",
                        letterSpacing: 0,
                        lineHeight: window["ia_frame" + i + "_subhead_obj"].lineHeight,
                        parent: ad
                    });
                    window["frame" + i + "_subhead_txt"].left = window["ia_frame" + i + "_subhead_obj"].x;
                    window["frame" + i + "_subhead_txt"].top = window["ia_frame" + i + "_subhead_obj"].y;
                }

                /*---------------------*/
                // FRAME 4 - TYPE: RESOLVE - PRICE TEXT
                /*---------------------*/
                if (i == 4) {
                    if (window["ia_frame" + i + "_price_obj"].isVisible) {
                        window["frame" + i + "_price_txt"] = new TextField({
                            id: "frame" + i + "PriceText",
                            width: window["ia_frame" + i + "_price_obj"].width,
                            text: window["ia_frame" + i + "_price_obj"].text,
                            fontFamily: "TempoStdHeavyCondensed",
                            fontSize: window["ia_frame" + i + "_price_obj"].fontSize,
                            color: "#1A1A1A",
                            align: "left",
                            letterSpacing: 0,
                            lineHeight: window["ia_frame" + i + "_price_obj"].lineHeight,
                            parent: ad
                        });
                        window["frame" + i + "_price_txt"].left = window["ia_frame" + i + "_price_obj"].x;

                        // Fixes all alignment issues of this text field on all browsers
                        if (PlatformDetector.os() == "Mac/iOS") {
                            switch (PlatformDetector.browser()) {
                                case "Chrome":
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y;
                                    break;
                                case "Firefox":
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y;
                                    break;
                                case "Safari":
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y;
                                    break;
                                case "Opera":
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y;
                                    break;
                                default:
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y;
                                    break;
                            }
                        } else if (PlatformDetector.os() == "Windows 7") {
                            switch (PlatformDetector.browser()) {
                                case "Chrome":
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y - 3;
                                    break;
                                case "Firefox":
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y - 2;
                                    break;
                                case "IE 10":
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y - 3;
                                    break;
                                case "IE 11":
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y - 3;
                                    break;
                                case "Opera":
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y - 3;
                                    break;
                                default:
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y - 3;
                                    break;
                            }
                        } else if (PlatformDetector.os() == "Windows 8" || PlatformDetector.os() == "Windows 8.1") {
                            switch (PlatformDetector.browser()) {
                                case "Chrome":
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y - 3;
                                    break;
                                case "Firefox":
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y - 2;
                                    break;
                                case "IE 10":
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y - 3;
                                    break;
                                case "IE 11":
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y - 3;
                                    break;
                                case "Opera":
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y - 3;
                                    break;
                                default:
                                    window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y - 3;
                                    break;
                            }
                        } else {
                            window["frame" + i + "_price_txt"].top = window["ia_frame" + i + "_price_obj"].y;
                        }
                    }
                }
            }
        }

        /*---------------------*/
        // FOOTER
        /*---------------------*/
        my_footer = new Footer({
            id: "footer",
            width: adWidth_num,
            height: 107,
            bgGraphic: {
                src: "blueGraphic_300x250.svg",
                left: 0,
                top: 0
            },
            logo: {
                src: myFT.instantAds.logoImage_src,
                left: ia_logo_obj.x,
                top: ia_logo_obj.y - 143
            },
            parent: ad
        });
        my_footer.top = 143;
        preload_arr.push(my_footer);

        /*---------------------*/
        // FRAME 4 - TYPE: RESOLVE - CTA
        /*---------------------*/
        if (ia_frame4_obj.isVisible) {
            frame4_cta = new CTA({
                id: "cta",
                width: ia_frame4_cta_obj.width,
                height: ia_frame4_cta_obj.height,
                margin: 8,
                background: {
                    color: ia_frame4_cta_obj.color,
                    mouseoverColor: ia_frame4_cta_obj.rcolor,
                    borderRadius: 4,
                    opacity: 1
                },
                copy: {
                    text: ia_frame4_cta_obj.text,
                    fontFamily: "TempoStdHeavyCondensed",
                    fontSize: ia_frame4_cta_obj.fontSize,
                    color: "#FFFFFF",
                    letterSpacing: 0
                },
                image: {
                    src: "cta_arrow.svg",
                    width: 17,
                    height: 17
                },
                boxShadow: {
                    hShadow: 0,
                    vShadow: 2,
                    blur: 3,
                    spread: 0,
                    color: "#2B477E"
                },
                parent: ad
            });
            frame4_cta.left = ia_frame4_cta_obj.x;
            frame4_cta.top = ia_frame4_cta_obj.y + 20;
            frame4_cta.opacity = 0;
            frame4_cta.visibility = "hidden";
        }

        /*---------------------*/
        // CLICK RECTANGLE
        /*---------------------*/
        click_rect = new Rectangle({
            id: "clickthruRectangle",
            width: adWidth_num,
            height: adHeight_num,
            color: "#FFFFFF",
            parent: ad
        });
        click_rect.opacity = 0;
        click_rect.onmouseover = function () {
            frame4_cta.mouseOver()
        };
        click_rect.onmouseout = function () {
            frame4_cta.mouseOut()
        };
        click_rect.onclick = clickThru;

        /*---------------------*/
        // LEGAL WINDOW TEXT
        /*---------------------*/
        legal_window = new LegalWindow({
            id: "legalWindow",
            width: adWidth_num,
            height: adHeight_num,
            headline: {
                text: ia_legalWindow_obj.headline_text,
                fontFamily: "TempoStdHeavyCondensed",
                fontSize: ia_legalWindow_obj.headline_fontSize,
                left: ia_legalWindow_obj.headline_x,
                top: ia_legalWindow_obj.headline_y,
            },
            body: {
                text: ia_legalWindow_obj.body_text,
                fontFamily: "HelveticaNeueLTStdMedium",
                fontSize: ia_legalWindow_obj.body_fontSize,
                lineHeight: ia_legalWindow_obj.body_lineHeight,
                left: ia_legalWindow_obj.body_x,
                top: ia_legalWindow_obj.body_y,
            },
            onclick: clickThru,
            parent: ad
        });
        legal_window.opacity = 0;
        legal_window.visibility = "hidden";

        /*---------------------*/
        // LEGAL LINK TEXT
        /*---------------------*/
        legalLink_txt = new TextField({
            id: "legalLinkText",
            text: ia_leaglLink_obj.text,
            fontFamily: "HelveticaNeueLTStdMedium",
            fontSize: ia_leaglLink_obj.fontSize,
            color: "#87A2D7",
            lineHeight: 0,
            letterSpacing: 0,
            align: "left",
            whiteSpace: "nowrap",
            parent: ad
        });
        legalLink_txt.left = ia_leaglLink_obj.x;
        legalLink_txt.top = ia_leaglLink_obj.y + (adHeight_num - ia_leaglLink_obj.y) + 10;
        legalLink_txt.opacity = 0;
        legalLink_txt.visibility = "hidden";
        legalLink_txt.onmouseover = function (e) {
            TweenLite.to(legal_window, 0.35, {
                onStart: function () {
                    legal_window.visibility = "visible";
                },
                opacity: 1,
                overwrite: 0
            });
        }
        legalLink_txt.onmouseout = function (e) {
            // check and loop relatedTarget.parentNode
            // ignores event triggered mouse overing any child element or leaving itself
            var obj = e.relatedTarget;
            while (obj != null) {
                if (obj == this) {
                    return;
                }
                obj = obj.parentNode;
            }

            TweenLite.to(legal_window, 0.35, {
                onComplete: function () {
                    legal_window.visibility = "hidden";
                },
                opacity: 0,
                overwrite: 0
            });
        }

        /*---------------------*/
        // BORDER
        /*---------------------*/
        my_border = new Border({
            id: "border",
            width: adWidth_num,
            height: adHeight_num,
            color: "#000000",
            thickness: 1,
            parent: ad
        });
        my_border.opacity = 0.1;

        /*---------------------*/
        // FRAME ARRAY DETERMINES WHAT FRAMES TO SHOW
        /*---------------------*/
        var frameDelay_num = 0;
        for (var i = 1; i <= 4; i++) {
            if (window["ia_frame" + i + "_obj"].isVisible) {
                frame_arr.push({
                    frame: "frame" + i,
                    isLegalVisible: ftIA["frame" + i + "_legal_isVisible"],
                    delay: frameDelay_num
                });
                if (i == 1) {
                    frameDelay_num += (window["ia_frame" + i + "_obj"].partA_displayTime + window["ia_frame" + i + "_obj"].partB_displayTime);
                } else {
                    frameDelay_num += window["ia_frame" + i + "_obj"].displayTime;
                }
            }
        }

        /*---------------------*/
        // PRELOADER
        /*---------------------*/
        preloader_intv = setInterval(preloader, 1);
    }

    function clickThru() {
        myFT.clickTag(1, myFT.instantAds.Dynamic_clicktag);
    }

    /*========================================================================*/
    // SPLIT TEXT INITIALIZATION
    /*========================================================================*/
    // Sets up GSAP SplitText Objects and text arrays
    function initSplitText() {
        for (var i = 1; i <= 4; i++) {
            if (window["ia_frame" + i + "_obj"].isVisible) {
                // Headline Split
                if (window["ia_frame" + i + "_headline_obj"].isVisible) {
                    window["frame" + i + "_headline_split"] = new SplitText("#frame" + i + "HeadlineText", {
                        type: "lines",
                        position: "absolute"
                    });
                    for (var j = 0; j < window["frame" + i + "_headline_split"].lines.length; j++) {
                        window["frame" + i + "_headline_split"].lines[j].style.opacity = 0;
                        window["frame" + i + "_headline_split"].lines[j].style.left = "40px";
                        window["frame" + i + "_text_arr"].push(window["frame" + i + "_headline_split"].lines[j]);
                    }
                }

                // Subhead Split
                if (window["ia_frame" + i + "_subhead_obj"].isVisible) {
                    window["frame" + i + "_subhead_split"] = new SplitText("#frame" + i + "SubheadText", {
                        type: "lines",
                        position: "absolute"
                    });
                    for (var j = 0; j < window["frame" + i + "_subhead_split"].lines.length; j++) {
                        window["frame" + i + "_subhead_split"].lines[j].style.opacity = 0;
                        window["frame" + i + "_subhead_split"].lines[j].style.left = "40px";
                        window["frame" + i + "_text_arr"].push(window["frame" + i + "_subhead_split"].lines[j]);
                    }
                }

                // Frame 4 - Price Split
                if (i == 4) {
                    if (window["ia_frame" + i + "_price_obj"].isVisible) {
                        /*window["frame"+i+"_price_split"] = new SplitText("#frame"+i+"PriceText", {type:"lines", position:"absolute"});
                         for (var j=0; j<window["frame"+i+"_price_split"].lines.length; j++){
                         // This allows our price to use superscript
                         TweenLite.set(window["frame"+i+"_price_split"].lines[j], {clearProps:"all"});
                         window["frame"+i+"_price_split"].lines[j].innerHTML = window["ia_frame"+i+"_price_obj"].text;
                         window["frame"+i+"_price_split"].lines[j].style.opacity = 0;

                         setTimeout((function(element){element.style.left = "40px";})(window["frame"+i+"_price_split"].lines[j]), 1000);
                         console.log(window["frame"+i+"_price_split"].lines[j]);
                         window["frame"+i+"_text_arr"].push(window["frame"+i+"_price_split"].lines[j]);
                         }*/
                        window["frame" + i + "_price_txt"].left = ia_frame4_price_obj.x + 40;
                        window["frame" + i + "_price_txt"].opacity = 0;
                        window["frame" + i + "_text_arr"].push(window["frame" + i + "_price_txt"]);
                    }
                }
            }
        }
        // code bellow will add a superscript tag to the all the  ® in the unit
        $('body :not(script)').contents().filter(function () {
            return this.nodeType === 3;
        }).replaceWith(function () {
            return this.nodeValue.replace(/[®]/g, '<sup>$&</sup>');
            // write all the symbols inside the [ ] of all the things you want to replace
            // return this.nodeValue.replace(/[™®©%]/g, '<sup>$&</sup>');
        });
    }

    /*========================================================================*/
    // FUNCTIONS - ANIMATION
    /*========================================================================*/
    function initiateFrameAnimation() {
        for (var i = 0; i < frame_arr.length; i++) {
            // Handles frame animations
            switch (i) {
                case 0: //[ CASE IN WICH CURRENT FRAME 1 EXISTS ]
                    // Animate in current frame
                    switch (frame_arr[i].frame) {
                        case "frame1":
                            //Animates Frame
                            frame1AnimateIn(frame_arr[i].delay);
                            break;
                        case "frame2":
                            frame2aAnimateIn(frame_arr[i].delay);
                            break;
                        case "frame3":
                            frame3aAnimateIn(frame_arr[i].delay);
                            break;
                        case "frame4":
                            frame4aAnimateIn(frame_arr[i].delay);
                            break;
                    }
                    break;
                case 1: //[ CASE IN WICH CURRENT FRAME 1 DOES NOT EXIST ]
                    // Animates out previous frame
                    window[frame_arr[i - 1].frame + "AnimateOut"](frame_arr[i].delay);

                    // Animate in current frame
                    switch (frame_arr[i].frame) {
                        case "frame2":
                            frame2bAnimateIn(frame_arr[i].delay);
                            break;
                        case "frame3":
                            frame3bAnimateIn(frame_arr[i].delay);
                            break;
                        case "frame4":
                            frame4bAnimateIn(frame_arr[i].delay);
                            break;
                    }
                    break;
                case 2:	//[ CASE IN WICH CURRENT FRAME 2 DOES NOT EXIST ]
                    // Animates out previous frame
                    window[frame_arr[i - 1].frame + "AnimateOut"](frame_arr[i].delay);

                    // Animate in current frame
                    switch (frame_arr[i].frame) {
                        case "frame3":
                            frame3bAnimateIn(frame_arr[i].delay);
                            break;
                        case "frame4":
                            frame4bAnimateIn(frame_arr[i].delay);
                            break;
                    }
                    break;
                case 3: //[ FRAME 4 ANIMATION ]
                    // Animates out previous frame
                    window[frame_arr[i - 1].frame + "AnimateOut"](frame_arr[i].delay);

                    // Animate in current frame
                    frame4bAnimateIn(frame_arr[i].delay);
                    break;
            }
            // Handles Legal text animation
            if (frame_arr[i].isLegalVisible) {
                showLegal(frame_arr[i].delay);
            } else {
                hideLegal(frame_arr[i].delay);
            }
        }
    }

    /*------------------------------------------*/
    // IMAGE MASKING
    /*------------------------------------------*/
    // This is a solution to solve the "image sticking" issues
    // pointed out by the client.  I'm hoping that this will solve
    // these kinds of issues throughout different kinds of browsers.
    function frameImageMaskingAnimation(d) {
        for (var i = 1; i <= 3; i++) {
            if (window["ia_frame" + i + "_obj"].isVisible) {
                TweenLite.to(window["frame" + i + "_image_img"], 0.7, {
                    width: (window["frame" + i + "_image_img"].width - (window["frame" + i + "_image_img"].width - 100)) + window["frame" + i + "_image_img"].left,
                    delay: d,
                    ease: Quad.easeInOut,
                    overwrite: 0
                });
                //console.log((window["frame" + i + "_image_img"].width - 100) + window["frame" + i + "_image_img"].left);
            }
        }
    }

    /*------------------------------------------*/
    // FRAME 1
    /*------------------------------------------*/
    // Frame 1 animate in
    function frame1AnimateIn(d) {
        /*------------------------------------------*/
        // PART A
        /*------------------------------------------*/
        // WHITE BLEND RECTANGLE
        /*---------------------*/
        TweenLite.to(whiteBlend_rect, .35, {
            opacity: 0,
            delay: d + 0.1,
            ease: Linear.easeNone,
            overwrite: 0
        });

        /*---------------------*/
        // FRAME 1 - IMAGE - BEGIN POSITION
        /*---------------------*/
        frame1_image_img.width = frame1_image_img.imageWidth * ia_frame1_image_obj.begin_scaleX;
        frame1_image_img.height = frame1_image_img.imageHeight * ia_frame1_image_obj.begin_scaleY;

        /*------------------------------------------*/
        // PART B
        /*------------------------------------------*/
        // WHITE GRAPHIC IMAGE
        /*---------------------*/
        TweenLite.to(whiteGraphic_img, 0.7, {
            left: -30,
            delay: d + ia_frame1_obj.partA_displayTime,
            ease: Quad.easeInOut,
            overwrite: 0
        });

        /*---------------------*/
        // FRAME 2 - IMAGE - END POSITION
        /*---------------------*/
        TweenLite.to(frame1_image_img, .7, {
            left: ia_frame1_image_obj.end_x,
            top: ia_frame1_image_obj.end_y,
            width: frame1_image_img.imageWidth * ia_frame1_image_obj.end_scaleX,
            height: frame1_image_img.imageHeight * ia_frame1_image_obj.end_scaleY,
            delay: d + 1.9,
            ease: Quad.easeOut,
            overwrite: 0
        });

        /*---------------------*/
        // FRAME 1 - TEXT - ANIMATE IN
        /*---------------------*/
        for (i = 0; i < frame1_text_arr.length; i++) {
            TweenLite.to(frame1_text_arr[i], .25, {
                left: "0px",
                opacity: 1,
                ease: Quad.easeOut,
                delay: (d + 0.65) + ia_frame1_obj.partA_displayTime + (i * 0.075)
            });
        }
    }

    // Frame 1 animate out
    function frame1AnimateOut(d) {
        /*---------------------*/
        // FRAME 1 - TEXT - ANIMATE OUT
        /*---------------------*/
        for (i = 0; i < frame1_text_arr.length; i++) {
            TweenLite.to(frame1_text_arr[i], .25, {
                left: "40px",
                opacity: 0,
                ease: Quad.easeIn,
                delay: d + (i * 0.075)
            });
        }
    }

    /*------------------------------------------*/
    // FRAME 2
    /*------------------------------------------*/
    // Frame 2 animation
    function frame2aAnimateIn(d) {
        whiteGraphic_img.left = -30;

        /*---------------------*/
        // WHITE BLEND RECTANGLE
        /*---------------------*/
        TweenLite.to(whiteBlend_rect, .35, {
            opacity: 0,
            delay: d + 0.1,
            ease: Linear.easeNone,
            overwrite: 0
        });

        /*---------------------*/
        // FRAME 2 - IMAGE
        /*---------------------*/
        setTimeout(function () {
            frame2_image_img.width = frame2_image_img.imageWidth * ia_frame2_image_obj.scaleX;
            frame2_image_img.height = frame2_image_img.imageHeight * ia_frame2_image_obj.scaleY;
            frame2_image_img.opacity = 1;
        }, d * 1000)

        /*---------------------*/
        // FRAME 2 TEXT - ANIMATE IN
        /*---------------------*/
        for (i = 0; i < frame2_text_arr.length; i++) {
            TweenLite.to(frame2_text_arr[i], .25, {
                left: "0px",
                opacity: 1,
                ease: Quad.easeOut,
                delay: (d + 0.35) + (i * 0.075)
            });
        }
    }

    // Frame 2 animation
    function frame2bAnimateIn(d) {
        /*---------------------*/
        // FRAME 2 - IMAGE
        /*---------------------*/
        frame2_image_img.width = frame2_image_img.imageWidth * ia_frame2_image_obj.scaleX;
        frame2_image_img.height = frame2_image_img.imageHeight * ia_frame2_image_obj.scaleY;
        TweenLite.to(frame2_image_img, 0.5, {
            opacity: 1,
            delay: d + 0,
            ease: Linear.easeNone,
            overwrite: 0
        });

        /*---------------------*/
        // FRAME 2 TEXT - ANIMATE IN
        /*---------------------*/
        for (i = 0; i < frame2_text_arr.length; i++) {
            TweenLite.to(frame2_text_arr[i], .25, {
                left: "0px",
                opacity: 1,
                ease: Quad.easeOut,
                delay: (d + 0.35) + (i * 0.075)
            });
        }
    }

    function frame2AnimateOut(d) {
        /*---------------------*/
        // FRAME 2 - TEXT - ANIMATE OUT
        /*---------------------*/
        for (i = 0; i < frame2_text_arr.length; i++) {
            TweenLite.to(frame2_text_arr[i], .25, {
                left: "40px",
                opacity: 0,
                ease: Quad.easeIn,
                delay: d + (i * 0.075)
            });
        }
    }

    /*------------------------------------------*/
    // FRAME 3
    /*------------------------------------------*/
    // Frame 3 animation
    function frame3aAnimateIn(d) {
        whiteGraphic_img.left = -30;

        /*---------------------*/
        // WHITE BLEND RECTANGLE
        /*---------------------*/
        TweenLite.to(whiteBlend_rect, .35, {
            opacity: 0,
            delay: d + 0.1,
            ease: Linear.easeNone,
            overwrite: 0
        });

        /*---------------------*/
        // FRAME 3 - IMAGE
        /*---------------------*/
        setTimeout(function () {
            frame3_image_img.width = frame3_image_img.imageWidth * ia_frame3_image_obj.scaleX;
            frame3_image_img.height = frame3_image_img.imageHeight * ia_frame3_image_obj.scaleY;
            frame3_image_img.opacity = 1;
        }, d * 1000)

        /*---------------------*/
        // FRAME 3 TEXT - ANIMATE IN
        /*---------------------*/
        for (i = 0; i < frame3_text_arr.length; i++) {
            TweenLite.to(frame3_text_arr[i], .25, {
                left: "0px",
                opacity: 1,
                ease: Quad.easeOut,
                delay: (d + 0.35) + (i * 0.075)
            });
        }
    }

    // Frame 2 animation
    function frame3bAnimateIn(d) {
        /*---------------------*/
        // FRAME 2 - IMAGE
        /*---------------------*/
        frame3_image_img.width = frame3_image_img.imageWidth * ia_frame3_image_obj.scaleX;
        frame3_image_img.height = frame3_image_img.imageHeight * ia_frame3_image_obj.scaleY;
        TweenLite.to(frame3_image_img, 0.5, {
            opacity: 1,
            delay: d + 0,
            ease: Linear.easeNone,
            overwrite: 0
        });

        /*---------------------*/
        // FRAME 2 TEXT - ANIMATE IN
        /*---------------------*/
        for (i = 0; i < frame3_text_arr.length; i++) {
            TweenLite.to(frame3_text_arr[i], .25, {
                left: "0px",
                opacity: 1,
                ease: Quad.easeOut,
                delay: (d + 0.35) + (i * 0.075)
            });
        }
    }

    function frame3AnimateOut(d) {
        /*---------------------*/
        // FRAME 3 - TEXT - ANIMATE OUT
        /*---------------------*/
        for (i = 0; i < frame3_text_arr.length; i++) {
            TweenLite.to(frame3_text_arr[i], .25, {
                left: "40px",
                opacity: 0,
                ease: Quad.easeIn,
                delay: d + (i * 0.075)
            });
        }
    }

    /*------------------------------------------*/
    // FRAME 4
    /*------------------------------------------*/
    // Frame 4 animation in
    function frame4aAnimateIn(d) {
        /*---------------------*/
        // WHITE GRAPHIC IMAGE
        /*---------------------*/
        whiteGraphic_img.left = -284;

        /*---------------------*/
        // FRAME 4 - IMAGE
        /*---------------------*/
        setTimeout(function () {
            frame4_image_img.width = frame4_image_img.imageWidth * ia_frame4_image_obj.scaleX;
            frame4_image_img.height = frame4_image_img.imageHeight * ia_frame4_image_obj.scaleY;
            frame4_image_img.visibility = "visible";
        }, d * 1000);

        /*---------------------*/
        // WHITE BLEND RECTANGLE
        /*---------------------*/
        TweenLite.to(whiteBlend_rect, .35, {
            opacity: 0,
            delay: d + 0.1,
            ease: Linear.easeNone,
            overwrite: 0
        });

        /*---------------------*/
        // FRAME 4 TEXT - ANIMATE IN
        /*---------------------*/
        for (i = 0; i < frame4_text_arr.length; i++) {
            TweenLite.to(frame4_text_arr[i], .25, {
                left: (frame4_text_arr[i] == frame4_price_txt) ? ia_frame4_price_obj.x : "0px",
                opacity: 1,
                ease: Quad.easeOut,
                delay: (d + 0.35) + (i * 0.075)
            });
        }

        /*---------------------*/
        // CTA
        /*---------------------*/
        TweenLite.to(frame4_cta, 0.35, {
            onStart: function () {
                frame4_cta.visibility = "visible"
            },
            top: ia_frame4_cta_obj.y,
            opacity: 1,
            delay: d + 0.4,
            ease: Quad.easeOut,
            overwrite: 0
        });

        /*---------------------*/
        // LEGAL HYPERLINK TEXT
        /*---------------------*/
        TweenLite.to(legalLink_txt, 0.5, {
            onStart: function () {
                legalLink_txt.visibility = "visible";
            },
            top: ia_leaglLink_obj.y,
            opacity: 1,
            delay: d + 0.4,
            ease: Quad.easeOut,
            overwrite: 0
        });
    }

    // Frame 4 animation in
    function frame4bAnimateIn(d) {
        /*---------------------*/
        // FRAME 4 - IMAGE
        /*---------------------*/
        setTimeout(function () {
            frame4_image_img.width = frame4_image_img.imageWidth * ia_frame4_image_obj.scaleX;
            frame4_image_img.height = frame4_image_img.imageHeight * ia_frame4_image_obj.scaleY;
        }, d * 1000);

        /*---------------------*/
        // IMAGES MASK
        /*---------------------*/
        frameImageMaskingAnimation(d)

        /*---------------------*/
        // WHITE GRAPHIC IMAGE
        /*---------------------*/
        TweenLite.to(whiteGraphic_img, 0.7, {
            left: -284,
            delay: d,
            ease: Quad.easeInOut,
            overwrite: 0
        });

        /*---------------------*/
        // FRAME 4 TEXT - ANIMATE IN
        /*---------------------*/
        for (i = 0; i < frame4_text_arr.length; i++) {
            TweenLite.to(frame4_text_arr[i], .25, {
                left: (frame4_text_arr[i] == frame4_price_txt) ? ia_frame4_price_obj.x : "0px",
                opacity: 1,
                ease: Quad.easeOut,
                delay: (d + 0.35) + (i * 0.075)
            });
        }

        /*---------------------*/
        // CTA
        /*---------------------*/
        TweenLite.to(frame4_cta, 0.35, {
            onStart: function () {
                frame4_cta.visibility = "visible"
            },
            top: ia_frame4_cta_obj.y,
            opacity: 1,
            delay: d + 0.4,
            ease: Quad.easeOut,
            overwrite: 0
        });

        /*---------------------*/
        // LEGAL HYPERLINK TEXT
        /*---------------------*/
        TweenLite.to(legalLink_txt, 0.5, {
            onStart: function () {
                legalLink_txt.visibility = "visible";
            },
            top: ia_leaglLink_obj.y,
            opacity: 1,
            delay: d + 0.4,
            ease: Quad.easeOut,
            overwrite: 0
        });

        /*---------------------*/
        // RESOLVE IMAGE
        /*---------------------*/
        /*setTimeout(function() {
         frame4_image_img.visibility = "visible";
         }, (d + 0.2) * 1000);*/

    }

    function hideLegal(d) {
        TweenLite.to(legalLink_txt, 0.5, {
            onComplete: function () {
                legalLink_txt.visibility = "hidden";
            },
            top: ia_leaglLink_obj.y + (adHeight_num - ia_leaglLink_obj.y) + 10,
            opacity: 1,
            delay: d,
            ease: Quad.easeOut,
            overwrite: 0
        });

    }

    function showLegal(d) {
        TweenLite.to(legalLink_txt, 0.5, {
            onStart: function () {
                legalLink_txt.visibility = "visible";
            },
            top: ia_leaglLink_obj.y,
            opacity: 1,
            delay: d,
            ease: Quad.easeOut,
            overwrite: 0
        });
    }

    /*------------------------------------------*/
    // ANIMATION INITIALIZATION
    /*------------------------------------------*/
    // Initiates the animation of the ad
    function adAnimation() {
        /*---------------------*/
        // INITIALIZE ALL SPLIT TEXT OBJECTS
        /*---------------------*/
        initSplitText();

        /*---------------------*/
        // AD
        /*---------------------*/
        // Fades ad in
        TweenLite.to(ad, .25, {
            opacity: 1,
            delay: 0,
            overwrite: 0
        });

        /*---------------------*/
        // FRAME ANIMATION INITIALIZATION
        /*---------------------*/
        initiateFrameAnimation()
    }
</script>



</body></html>