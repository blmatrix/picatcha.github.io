/*
CoAdvertise Loader, Copyright (C) 2012-2016 CoAdvertise GmbH
Unauthorized copying of this file, via any medium is strictly prohibited
Author: F.Himmel
*/
function cdxhd_class_debug(a){var b,c,d,e,f,g,h,i;if(g=1,a="undefined"==typeof a?"sum":"detail","sum"!=a&&console.log("| CoAdvertise GmbH 2016 © | Loader version: "+cdxhd_vloader+" |"),e="### CoAdvertise GmbH 2016 © | Loader version: "+cdxhd_vloader+" ###\n",f=e,"undefined"!=typeof this.hasplugin){var j=this.hasplugin;for(h in j){"sum"!=a&&console.log("--------------- PLUGIN LOADED ----------------");for(i in j[h])"object"==typeof j[h][i]?"sum"!=a&&(console.log(""+i),console.log(j[h][i])):"sum"!=a&&console.log(""+i+":"+j[h][i]);"sum"!=a&&console.log("--------------- PLUGIN END ------------------")}}if("undefined"!=typeof cdxhd_dbugarray){var k=0;for(var b in cdxhd_dbugarray){k++;for(c in cdxhd_dbugarray[b]){"sum"!=a&&console.log("BPID "+b+" "+c);for(d in cdxhd_dbugarray[b][c])e+=cdxhd_dbugarray[b][c][d]+"\n","sum"!=a&&console.log(cdxhd_dbugarray[b][c][d]);g++,"sum"!=a&&console.log("---------------------------------------")}"sum"==a&&(f+="["+k+"] BPID "+b+" "+cdxhd_dbugarray[b].plugin+", "+cdxhd_dbugarray[b].hasad+" \n")}}else console.log("[!] no log captured");return"sum"==a?alert(f):"undefined"!=typeof a&&alert(e),"run cdxhd_debug()"}function cdxhd_debug(a){return new cdxhd_class_debug(a),"cdxhd_debug fired"}function ClassCdxhdHelper(c,d,e){if(e)var f=e;else var f=window;var g=f.document,l=function(e,h,j){if(j)var k=j,m=k.document;else var k=f,m=g;var n=null;if(""!=e&&"string"==typeof e){var o="";if(""!=h&&"undefined"!=typeof h?o=h:""!=d&&"undefined"!=typeof d?o=d:"undefined"!=typeof c&&c!==!1&&""!=c.frame&&"undefined"!=typeof c.frame&&(o=c.frame),""!=o){var p=m.getElementById(o);if(p)if(p.contentWindow||p.contentDocument){var q=p.contentWindow||p.contentDocument;q.document&&(q=q.document);var n=q.getElementById(e)}else var n=null;else var n=null}else{var n=m.getElementById(e);"undefined"!=typeof n&&null!=n||(n=null)}}else if("object"==typeof e)var n=e;var r={contentWindow:function(){return n=n.contentWindow,r},d:function(){return document},e:function(){return n},window:function(){return f},element:function(){return n},id:function(a){return a&&""!=a?null===n?r:(n.id=a,r):null===n?null:n.id||!1},css:function(a,b){if(""!=b&&"undefined"!=typeof b){if(null===n)return r;try{n.style[a]=b}catch(c){"cssFloat"==a&&(a="float"),n.setAttribute(a,b)}return r}if(null===n)return null;try{return n.style[a]}catch(b){return n.getAttribute(a)}},exist:function(){return null!==n},getSize:function(){if(null===n)return null;var a=n.innerWidth||n.clientWidth,b=n.innerHeight||n.clientHeight;return{height:b,width:a}},getCompStyle:function(a){return null===n?null:k.getComputedStyle?getComputedStyle(n,"")[a]:n.currentStyle?n.currentStyle[a]:void 0},setStyle:function(a){if(null===n)return r;var b;for(b in a)try{n.style[b]=a[b]}catch(a){}return r},setAttr:function(a){if(null===n)return r;var b;for(b in a)"undefined"!=typeof n[b]?n[b]=a[b]:n.setAttribute(b,a[b]);return r},hasAttr:function(a){return null===n?null:n.hasAttribute(a)},getAttr:function(a){return null===n?null:n.getAttribute(a)},value:function(a){return"undefined"==typeof a?null===n?null:n.value:null===n?r:(n.value=a,r)},src:function(a){return null===n?null:(n.src=a,r)},href:function(a,b){return"undefined"==typeof a||null==a?r:null===n?null:(r.setAttr({href:a,target:b}),r)},w:function(a){return"undefined"==typeof a?null===n?null:n.width:null===n?r:(n.width=a,r)},h:function(a){return"undefined"==typeof a?null===n?null:n.height:null===n?r:(n.height=a,r)},innerh:function(a){return null===n?r:(n.innerHTML=a,r)},html:function(a){return null===n?r:"undefined"!=typeof a?(n.innerHTML=a,r):n.innerHTML},buildInlineStyle:function(c){if(null===e)return r;var d="";2==c.length&&"string"==typeof c[0]&&(c=[c]);for(a in c)try{var e=c[a][0],f=c[a][1];if("object"==typeof f){d+=e,d+=" { ";for(b in f)d+=b+":"+f[b]+"; ";d+=" } "}else"string"==typeof f&&(d+=e,d+=" { ",d+=f,d+=" } ")}catch(a){}return r.html(d)},create:function(a){return n=document.createElement(a),r},fragment:function(){return n=document.createDocumentFragment(),r},mouseover:function(a){self.addMouseEnterEventListener(n,function(){})},mouseout:function(a){self.addMouseLeaveEventListener(n,function(){})},mouseclick:function(a){n.addEventListener?n.addEventListener("click",function(){},!1):n.attachEvent&&n.attachEvent("onclick",function(){})},bind:function(a,b,c){null===n&&(n=k);var d=n;if("undefined"==typeof c){if(d.addEventListener)d.addEventListener(a,b,!1);else if(d.attachEvent){var e=d.attachEvent?"on"+a:a;d.attachEvent(e,b)}}else if(d.addEventListener)d.addEventListener(a,function(a){return function(c){b(a,c)}}(c),!1);else if(d.attachEvent){var e=d.attachEvent?"on"+a:a;d.attachEvent(e,function(){b(c)})}return r},unbind:function(a,b){null===n&&(n=window);var c=n;return c.removeEventListener?c.removeEventListener(a,b,!1):c.DetachEvent&&c.DetachEvent("on"+a,b),r},fadeIn:function(a,b){b||(b=1),c.init_render(l(n),{speed:a,from:0,to:b})},fadeOut:function(a,b){c.init_render(l(n),{speed:a,from:1,to:0})},hide:function(a){return null===n?r:a>0?r:r.setStyle({display:"none"})},show:function(a){return null===n?r:a>0?r:r.setStyle({display:"block"})},remove:function(){return null===n?null:void n.parentNode.removeChild(n)},onload:function(a){self.finishLoad(1),n.addEventListener?n.addEventListener("load",function(){},!1):n.attachEvent&&n.attachEvent("onload",function(){})},ready:function(a,b,c){var d=0;if("function"!=typeof c)var c=function(){return!0};var e=function(d){if(d++,("complete"===document.readyState||"interactive"===document.readyState||d>150)&&c()===!0)try{return"undefined"!=typeof b?a(b):a(),!0}catch(a){return!1}if(d<=150){setTimeout(e,50,d)}return!1};return e(d)},wait_condition:function(a,b,c,d,e){var f=0;if("undefined"==typeof e)var e=50;if("function"!=typeof c)var c=function(){return!0};var g=function(f){if(f++,c()===!0)try{return"undefined"!=typeof b?a(b):a(),!0}catch(a){return console.log(a),!1}if(f<=d){setTimeout(g,e,f)}return!1};return g(f)},scrollTop:function(a){if(a)return r;var b=document.documentElement,c=(k.pageYOffset||b.scrollTop)-(b.clientTop||0);return c},has_iframe:function(a){if(null===n)return null;var b=n;try{var c=b.contentWindow.document?b.contentWindow.document:b,b=c.getElementsByTagName("iframe")}catch(a){return!1}if(!b||0==b.length)return!1;var d=0;for(d in b){var b=b[d];if("undefined"==typeof b)return!1;if("boolean"==typeof a)return!0;if(b.id==a)return b}return!1},size:function(){if(null===n)return 0;for(var a=n.childNodes,b=0,c=0,d=a.length;c<d;c++)1===a[c].nodeType&&++b;return b},addClass:function(a){if(null===n)return r;var c,b=n;if("string"==typeof a){var d=a.split(" ");for(c in d)try{b.className.indexOf(d[c])==-1&&(b.className+=" "+d[c])}catch(a){}b.className=b.className.trim()}return r},removeClass:function(a){if(null===n)return r;var c,b=n;if("string"==typeof a){var d="",e=b.className.trim().split(" ");for(c in e)try{e[c].indexOf(a)==-1&&(d+=e[c]+" ")}catch(a){}b.className=d.trim()}return r},insertAfter:function(a){if(null===a)return r;if(null===n)return!1;var b=n,c=b.parentNode;try{if(c.lastchild==b){c.appendChild(a)}else{c.insertBefore(a,b.nextSibling)}return!0}catch(a){return!1}},insertBefore:function(a){if(null===a)return r;if(null===n)return!1;var b=n,c=b.parentNode;try{return c.insertBefore(a,b),!0}catch(a){return!1}},append:function(a){if(null===a)return r;if(null===n)return!1;var b=n;try{return b.appendChild(a),r}catch(a){return!1}},next:function(){if(null===n)return!1;var a=n;try{return n=a.firstElementChild,r}catch(a){return!1}},onClick:function(a,b){return null!==n&&(a?b?n.onclick=function(){return a(b)}:n.onclick=a:n.onclick=function(){return!1},r)},getPosition:function(){if(null===n)return!1;for(var a=n,b=0,c=0;a;)b+=a.offsetLeft-a.scrollLeft+a.clientLeft,c+=a.offsetTop-a.scrollTop+a.clientTop,a=a.offsetParent;return{x:b,y:c}},getAbsolutePosition:function(){if(null===n)return!1;var a=n;return a=a.getBoundingClientRect(),{left:a.left+window.scrollX,top:a.top+window.scrollY}},getRelativePosition:function(){if(null===n)return!1;var a=n;return a=a.getBoundingClientRect(),{left:a.left,top:a.top}},inViewPort:function(){if(null===n)return!1;var a=n.getBoundingClientRect();return a.top>=0&&a.left>=0&&a.bottom<=(k.innerHeight||m.documentElement.clientHeight)&&a.right<=(k.innerWidth||m.documentElement.clientWidth)},prepend:function(a){if(null===n)return!1;var b=n;try{return b.insertBefore(a,b.firstChild),!0}catch(a){return!1}},hasClass:function(a){if(null===n)return r;var b=n,c=b.className;return c.indexOf(a)>=0},unsetArr:function(a,b){if("string"!=typeof b&&""!=b){for(var c=a.length;c--;)a[c]==b&&a.splice(c,1);return a}return delete a,!0},unsetObj:function(a,b,c){if("string"==typeof b&&""!=b){if(c)delete a[b];else{var d=a,a={};delete d[b];for(i in d)"undefined"!=typeof d[i]&&(a[i]=d[i])}return a}return delete a,!0},unset:function(a,b,c,d){return"string"==typeof a?(delete a,!0):Array.isArray(a)?r.unsetArr(a,b,c,d):"object"==typeof a&&r.unsetObj(a,b,c)},serialize:function(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d)){var e=b?b+"["+d+"]":d,f=a[d];c.push("object"==typeof f?r.serialize(f,e):encodeURIComponent(e)+"="+encodeURIComponent(f))}return c.join("&")},pixel:function(){var a;return a=function(a){var c=(a.type||"img",a.url||""),d=a.cached||!1,e=a.data||"",f=a.remove||!1,g="";0==d&&("string"==typeof e?g="&cb="+Math.floor(10000000001*Math.random()):e.cb=Math.floor(10000000001*Math.random())),c="string"==typeof e?c+"?"+e+g:c+"?"+r.serialize(e);var h=m.createElement("img");return h.type="text/javascript",h.style.display="none",h.style.height="0px",h.style.width="0px",f&&(h.onload=function(){this.remove()}),h.src=c,m.body.appendChild(h),!0}}(),jsonp:function(){var a;return a=function(a){var b=a.callback||"cdxhd_jsonp",c=a.url||"",d=a.async||!0,e=a.onSuccess||function(){},f=a.onTimeout||function(){},g=a.timeout||10,h=a.cached||!1,i=a.data||"";if(g!==!1)var j=window.setTimeout(function(a){window[a]=function(){},f(a)},1e3*g,b);window[b]=function(a){window.clearTimeout(j),e(a),delete window[b]};var k="";0==h&&("string"==typeof i?k="&cb="+Math.floor(10000000001*Math.random()):i.cb=Math.floor(10000000001*Math.random())),c="string"==typeof i?c.indexOf("?")==-1?c+"?"+i+k:c+"&"+i+k:c.indexOf("?")==-1?c+"?"+r.serialize(i):c+"&"+r.serialize(i),c.indexOf("&callback")==-1&&(c=c+"&callback="+b);var l=document.createElement("script");return l.type="text/javascript",l.async=d,l.src=c,l.onload=function(){this.remove()},document.getElementsByTagName("head")[0].appendChild(l),!0}}(),pmListener:function(a,b,c,d){var e=!1;"undefined"==typeof chxhd_binder2&&(chxhd_binder2={},e=!0),"undefined"!=typeof chxhd_binder2&&"undefined"==typeof chxhd_binder2[b]&&(chxhd_binder2[b]={},e=!0),chxhd_binder2[b].rule=d,chxhd_binder2[b].bind=function(d){var e={action:!1,mode:"",data:null},f=l().pmDecode(a,d.data);if(!f)return!1;var e={action:!0,callbackId:f.callbackId,mode:f.mode,data:chxhd_binder2[b].rule(f)};c.postMessage(l().pmEncode(a,e),f.origin)},e&&l().bind("message",chxhd_binder2[b].bind)},pmRequest:function(a,b){function f(a,b,d){if(!chxhd_binder[b])return void(chxhd_binder[b].onend&&chxhd_binder[b].onend());if(a>d)return"undefined"!=typeof c.error&&chxhd_binder[b].error("request timeout"),chxhd_binder[b].onend&&chxhd_binder[b].onend(),void delete chxhd_binder[b];var e=++a;0!=chxhd_binder[b].keepalive&&(chxhd_binder[b].keepalive=setTimeout(function(){f(e,b,d)},250))}var c=b;if(null===n)var d=k;else var d=n;var e=""+Math.random();return e=e.split("."),bind_id=e[1],"undefined"!=typeof c.target&&(d=c.target),"undefined"==typeof c.mode&&(c.mode="global"),"undefined"==typeof c.keepalive&&(c.keepalive=0),"undefined"==typeof callbacks&&(callbacks={}),"undefined"==typeof chxhd_binder&&(chxhd_binder={}),"undefined"!=typeof chxhd_binder&&"undefined"==typeof chxhd_binder[bind_id]&&(chxhd_binder[bind_id]={}),"undefined"==typeof c.url&&(c.url=k.location),"undefined"==typeof c.data&&(c.data={}),"undefined"!=typeof c.success&&(chxhd_binder[bind_id].success=c.success),"undefined"!=typeof c.success&&(chxhd_binder[bind_id].error=c.error),"undefined"!=typeof c.onstart&&(chxhd_binder[bind_id].onstart=c.onstart,chxhd_binder[bind_id].onstart("")),"undefined"!=typeof c.onend?chxhd_binder[bind_id].onend=c.onend:chxhd_binder[bind_id].onend=!1,chxhd_binder[bind_id].keepalive=!1,"undefined"!=typeof c.success||"undefined"!=typeof c.error?(c.keepalive>0&&(chxhd_binder[bind_id].keepalive=setTimeout(function(){f(0,bind_id,c.keepalive)},250)),chxhd_binder[bind_id].callback=!0):chxhd_binder[bind_id].callback=!1,"undefined"==typeof chxhd_binder.sender&&(chxhd_binder.sender=function(b){var c=l().pmDecode(a,b.data);if(c){if(!c||!c.callbackId)return void console.log("missing callback");var d=c.callbackId;if(!chxhd_binder[d])return;return 1==c.action?chxhd_binder[d].success&&chxhd_binder[d].success(c):chxhd_binder[d].error&&chxhd_binder[d].error(c),void(chxhd_binder[d].keepalive===!1&&(chxhd_binder[d].onend&&chxhd_binder[d].onend(),delete chxhd_binder[d]))}},l().bind("message",chxhd_binder.sender)),c.data.mode=c.mode,c.data.callbackId=bind_id,data=r.pmEncode(a,c.data),data||"undefined"!=typeof c.error&&c.error("invalid config"),d.postMessage(data,c.url),!0},pmEncode:function(a,b){if("undefined"==typeof b||null==b)return!1;if(!a)var a="global";return"cdxhd_"+a+"|"+JSON.stringify(b)},pmDecode:function(a,b){if(!a)var a="global";var b=b.split("|");return"undefined"!=typeof b[0]&&b[0]=="cdxhd_"+a&&(b=JSON.parse(b[1]),null!=b&&b)},loadfile:function(a,b,d,e){var f,g,h;h=c.defaults&&c.defaults.cdnurl?c.defaults.cdnurl+"/"+a+"/":"",f=b.substring(b.lastIndexOf("/")+1),f=f.substring(0,f.lastIndexOf(".")),g="undefined"!=typeof d&&0!=d?"min"===d?"v="+parseInt((new Date).getMinutes())*parseInt((new Date).getHours()):"hr"===d?"v="+parseInt((new Date).getHours()):"v="+c.rand:"v="+c.defaults.filecb;var i=!1;if("undefined"!=typeof e&&""!=e)var i=!0;if(c.collect_debug("Loadfile: "+b),null==l("cdxhd_"+a+"_"+f).element()){if(c.collect_debug("no file found -> implement"),"js"==a){var j=m.createElement("script");j.id="cdxhd_"+a+"_"+f,j.setAttribute("type","text/javascript"),j.setAttribute("src",h+b+"?"+g)}else if("css"==a){var j=m.createElement("link");j.id="cdxhd_"+a+"_"+f,j.setAttribute("rel","stylesheet"),j.setAttribute("type","text/css"),j.setAttribute("href",h+b+"?"+g)}return"undefined"!=typeof j?(c.collect_debug("success"),m.getElementsByTagName("head")[0].appendChild(j),!i||!(!ClassCoAd.prototype.hasOwnProperty(e)&&"object"!=typeof k[e]&&"function"!=typeof k[e])):(c.collect_debug("failed"),!1)}return!i||!(!ClassCoAd.prototype.hasOwnProperty(e)&&"object"!=typeof k[e]&&"function"!=typeof k[e])},getViewportSize:function(){var a=k.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,b=k.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return{height:b,width:a}},length:function(a){return"object"==typeof a?Object.keys(a).length:"array"==typeof a?a.length:0},binder_init:function(a){if("undefined"!=typeof k.cdxhd_binder)return r;k.cdxhd_binder=k.cdxhd_binder||{};var b=k.cdxhd_binder;return b.sync={scroll:!1,load:!1,resize:!1,mousemove:!1,block:!1},b.async={scroll:!1,load:!1,resize:!1,mousemove:!1,block:!1},r.binder_register("sync",["scroll","resize","load","instant"],"update_viewport",r.binder_update_viewport),k.addEventListener("scroll",function(){r.requestAnimationFrame(function(){r.binder_exec("scroll")})}),k.addEventListener("resize",function(){r.requestAnimationFrame(function(){r.binder_exec("resize")})}),k.addEventListener("load",function(){r.binder_exec("load")}),k.addEventListener("mousemove",function(){r.requestAnimationFrame(function(){r.binder_exec("mousemove")})}),r},binder_exec:function(a){var c,e,b=k.cdxhd_binder;if(b.block===!0)return void console.log("BLOCK");var f=b.sync[a];for(c in f){var e=f[c];e!==!1&&e.block===!1&&(e.block=!0,e.fn(e.params,a),e.block=!1)}b.block=!0;var f=b.async[a];for(c in f){var e=f[c];0!=e[c]&&e.block===!1&&(e.block=!0,setTimeout(function(b){b!==!1&&(b.fn(b.params,a),b.block=!1)},0,e))}return b.block=!1,r},binder_register:function(a,b,c,d,e,f){var g,h,i;if(f){if(k.cdxhd_binder.onetime=k.cdxhd_binder.onetime||{},h=k.cdxhd_binder.onetime,"undefined"!=typeof h[f])return void console.log("skip register",c);h[f]=!0}g="sync"==a?k.cdxhd_binder.sync:k.cdxhd_binder.async;for(i in b)"instant"===b[i]?d(e,"instant"):(g[b[i]]=g[b[i]]||{},g[b[i]][c]={},g[b[i]][c].fn=d,g[b[i]][c].params=e,g[b[i]][c].block=!1);return r},binder_unregister:function(a,b){var c,d;c=k.cdxhd_binder;for(d in a)"undefined"!=typeof c.async[a[d]]&&c.async[a[d]][b]&&delete c.async[a[d]][b],"undefined"!=typeof c.sync[a[d]]&&c.sync[a[d]][b]&&delete c.sync[a[d]][b];return r},binder_update_viewport:function(){var a=m.documentElement,c=(k.pageXOffset||m.scrollLeft)-(m.clientLeft||0),d=(k.pageYOffset||m.scrollTop)-(m.clientTop||0),e=m.body.scrollHeight,f=m.body.scrollWidth;isNaN(c)&&(c=0),isNaN(d)&&(d=0),d=parseFloat(d),c=parseFloat(c),cdxhd_binder.left=c,cdxhd_binder.top=d,cdxhd_binder.width=k.innerWidth||a.clientWidth||m.body.clientWidth,cdxhd_binder.height=k.innerHeight||a.clientHeight||m.body.clientHeight;var g=cdxhd_binder.width-a.clientWidth,h=cdxhd_binder.height-a.clientHeight;cdxhd_binder.scrollY=g>0,cdxhd_binder.scrollX=h>0,cdxhd_binder.scrollbarSize=g||h,cdxhd_binder.docHeight=Math.max(e,m.body.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight),cdxhd_binder.docWidth=Math.max(f,m.body.offsetWidth,a.clientWidth,a.scrollWidth,a.offsetWidth),cdxhd_binder.topLast>d?cdxhd_binder.direction="up":cdxhd_binder.direction="down",cdxhd_binder.topLast=d},viewability_check:function(a,b){if((a.kpid|!1)===!1)return void r.binder_unregister(["scroll","resize","load"],"upd_view_"+a.bpid+"_"+a.slot);if(b===!0)return void r.viewability_request(a.bpid,a.kpid,a.wsid,a.b2id,a.btyp,0);if("interstitial"!=a.plugin&&"imagead"!=a.plugin&&"scroll"!=a.plugin){if("pageskin"==a.plugin)return void r.viewability_request(a.bpid,a.kpid,a.wsid,a.b2id,a.btyp,1);var c=k.cdxhd_binder;if("rtb"==a.plugin)var d=m.getElementById("cdxhd_rtb_"+a.bpid+"_"+a.slot);else var d=m.getElementById("cdxhd_ifr_"+a.bpid+"_"+a.slot);if(d){var e=d.getBoundingClientRect();e.top>=0&&e.left>=0&&e.bottom<=c.height&&e.right<=c.width&&(r.binder_unregister(["scroll","resize","load"],"upd_view_"+a.bpid+"_"+a.slot),r.viewability_request(a.bpid,a.kpid,a.wsid,a.b2id,a.btyp,1))}}},viewability_request:function(a,b,c,d,e,f){var g=Math.floor(Date.now()/1e3),h=[a,e,d,b,c,g,f],i="";for(var j in h)i+=""+Math.floor(21*h[j]/4*8).toString(16);var k=i+","+a+","+e+","+d+","+b+","+c+",0,0,"+g+",img,0,"+f;l().pixel({url:"//content.acc-hd.de/view",data:{a:k},remove:!1})},requestAnimationFrame:function(a){return window.requestAnimationFrame(a)||window.webkitRequestAnimationFrame(a)||window.mozRequestAnimationFrame(a)||window.oRequestAnimationFrame(a)||window.msRequestAnimationFrame(a)||function(a){window.setTimeout(a,1e3/60)}}};return String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.ltrim=function(){return this.replace(/^\s+/,"")},String.prototype.rtrim=function(){return this.replace(/\s+$/,"")},r};return l}function ClassCoAd(render_init,debug_init,re_init,target_window){var $H,$P,s,adroutines,getPos,w,doc,collect_debug,build_debug_array,debug_init,re_init;s=this,s.render_init=render_init,target_window?(w=target_window,$H=new ClassCdxhdHelper(s,(!1),target_window)):(w=window,$H=new ClassCdxhdHelper(s)),doc=w.document,s.$H=$H,$P=function(){var plugin_vars={tag_overlay:{closetime:"ovr_closetime",buttontime:"ovr_closebutton",text:"ovr_text",targetid:"ovr_targetid",targetelem:"ovr_targetelem"},masthead:{speed:"effect_speed",buttontime:"closebutton",targetid:"targetid",insert:"position"},interstitial:{speed:"effect_speed",timer:"showtimer",buttontime:"closebutton",autoclose:"autoclose",bgclick:"bgclick",zindex:"zindex"},pageskin:{type:"type",position:"position"}},self=this,HELPER={countdown:function(a,b){b--,b>=0?setTimeout(function(a,b){return function(){$H(a).html(b),$H(a).css("display","block"),HELPER.countdown(a,b)}}(a,b),1e3):$H(a).css("display","none")}},PLUGINS={AUTOLOADER:function(a,b){var c=a.split("-"),d=c[0],e=c[1]||"default",f=s.key;return"interstitial"===d&&"mobile"===e&&(d="interstitial_mobile"),"undefined"==typeof s.render_init?(collect_debug("### Plugin: "+d+" ###"),cdxhd[f]={},cdxhd[f].cdxhd_bpid=s.bpid,cdxhd[f].cdxhd_h=s.h,cdxhd[f].cdxhd_w=s.w,cdxhd[f].cdxhd_slot=s.slot,cdxhd[f].cdxhd_debug=s.debug===!0?"true":"false",cdxhd[f].cdxhd_vtag=s.vtag,cdxhd[f].rendered=a,cdxhd[f].cdxhd_bpos="above",cdxhd[f].cdxhd_dev=s.device_mode,cdxhd[f].cdxhd_settings=s.settings,cdxhd[f].cdxhd_plugin=a,cdxhd[f].cdxhd_testparams=s.testparams,cdxhd[f].cdxhd_eval=s.evalparam,cdxhd[f].cdxhd_display=s.display_mode,cdxhd[f].cdxhd_cthash=s.cthash,cdxhd[f].cdxhd_adtype=s.adtype,cdxhd[f].cdxhd_cdnurl=s.defaults.cdnurl,cdxhd[f].cdxhd_passback=s.passbacks,cdxhd[f].cdxhd_trackingurl=s.trackingurl,cdxhd[f].cdxhd_serverurl=s.adserver_url,collect_debug("Wait for Plugin and CSS"),$H().wait_condition(function(a){"undefined"!=typeof s["plugin_"+d]&&"undefined"!=typeof s["plugin_"+d]().plugin_breakout&&0==s["plugin_"+d]().plugin_breakout&&(s.switchtotop=!1),"undefined"!=typeof s["plugin_"+d]&&"undefined"!=typeof s["plugin_"+d]().plugin_docready?$H(s.doc).ready(function(a){collect_debug("loaded: "+a),new ClassCoAd(a)},a):(collect_debug("loaded: "+a),new ClassCoAd(a))},a,function(){if($H().loadfile("js","plugin_"+d+".js","hr","plugin_"+d)){try{var a=(new ClassCoAd)["plugin_"+d]()}catch(a){return!1}if("object"!=typeof a.plugin_css)return!0;if("undefined"!=typeof a.plugin_csstarget)var b=a.plugin_csstarget;else var b=w;for(var c in a.plugin_css)if($H(s,!1,b).loadfile("css",a.plugin_css[c]))return!0;return!1}return!1},60),!1):s.render_init===a&&(!!s["plugin_"+d]().init(e)&&(cdxhd[f].rendered=a,cdxhd[f].cdxhd_plugin="display",cdxhd[f].cdxhd_display=s.display_mode,cdxhd[f].cdxhd_dev=s.device_mode,cdxhd[f].cdxhd_settings=s.settings,cdxhd[f].cdxhd_testparams=s.testparams,cdxhd[f].cdxhd_adtype=s.adtype,cdxhd[f].cdxhd_cdnurl=s.defaults.cdnurl,cdxhd[f].cdxhd_serverurl=s.adserver_url,cdxhd[f].cdxhd_cthash=s.cthash,new ClassCoAd(a),!0))},pageskin:function(){var b="pageskin",c=s.key,d=plugin_vars.pageskin,e="fullskin",f="inline";if(s.settings[d.type]&&s.settings[d.type]!==!1)var e=s.settings[d.type];if(s.settings[d.position]&&s.settings[d.position]!==!1)var f=s.settings[d.position];return"undefined"==typeof s.render_init?(collect_debug("### Plugin: "+b+" ###"),cdxhd[c]={},cdxhd[c].cdxhd_bpid=s.bpid,cdxhd[c].cdxhd_h=s.h,cdxhd[c].cdxhd_w=s.w,cdxhd[c].cdxhd_slot=s.slot,cdxhd[c].cdxhd_debug=s.debug===!0?"true":"false",cdxhd[c].cdxhd_vtag=s.vtag,cdxhd[c].rendered=b,cdxhd[c].cdxhd_bpos="above",cdxhd[c].cdxhd_settings=s.settings,cdxhd[c].cdxhd_plugin=b,cdxhd[c].cdxhd_adtype=s.adtype,cdxhd[c].cdxhd_testparams=s.testparams,cdxhd[c].cdxhd_serverurl=s.adserver_url,cdxhd[c].cdxhd_passback=s.passbacks,collect_debug("bind document ready"),$H(s.doc).ready(function(a){new ClassCoAd(a)},b,function(){return 1==ClassCoAd.prototype.hasOwnProperty("plugin_pageskin")||$H().loadfile("js","plugin_pageskin.js")}),!1):s.render_init===b&&("undefined"==typeof cdxhd_pageskin?"fullskin"!=e?cdxhd_pageskin={complete:!0,first:{key:c,bpid:s.bpid},type:e}:cdxhd_pageskin={complete:!1,first:{key:c,bpid:s.bpid},type:e}:(cdxhd_pageskin.second={key:c,bpid:s.bpid},cdxhd_pageskin.complete=!0,cdxhd_pageskin.type="fullskin"),cdxhd[c]={},cdxhd[c].cdxhd_bpid=s.bpid,cdxhd[c].cdxhd_h=s.h,cdxhd[c].cdxhd_w=s.w,cdxhd[c].cdxhd_slot=s.slot,cdxhd[c].cdxhd_debug=s.debug===!0?"true":"false",cdxhd[c].cdxhd_vtag=s.vtag,cdxhd[c].cdxhd_bpos="above",cdxhd[c].cdxhd_settings=s.settings,cdxhd[c].cdxhd_addparams="&plugin="+b+"&plugin_opt="+encodeURIComponent('{"complete":'+cdxhd_pageskin.complete+',"type":"'+e+'"}'),cdxhd[c].rendered=b,cdxhd[c].cdxhd_testparams=s.testparams,cdxhd[c].cdxhd_adtype=s.adtype,cdxhd[c].cdxhd_serverurl=s.adserver_url,cdxhd[c].cdxhd_passback=s.passbacks,cdxhd[c].cdxhd_trackingurl=s.trackingurl,cdxhd[c].REGISTER_EVENT=[],cdxhd[c].REGISTER_EVENT.onad=function(a){a.result_adtype==b&&setTimeout(function(){(new ClassCoAd).plugin_pageskin(a).init(a.result_config,0,{fixposition:f})},250)},collect_debug("### Init new "+b+" ###"),new ClassCoAd(b),!0)},masthead:function(){var a=plugin_vars.masthead,b="cdxhd_masthead",c=parseFloat(1),d=s.key,e="masthead",f=0,g="after";if("undefined"==typeof s.render_init)return collect_debug("### Plugin: "+e+" ###"),cdxhd[d]={},cdxhd[d].cdxhd_bpid=s.bpid,cdxhd[d].cdxhd_h=s.h,cdxhd[d].cdxhd_w=s.w,cdxhd[d].cdxhd_slot=s.slot,cdxhd[d].cdxhd_debug=s.debug===!0?"true":"false",cdxhd[d].cdxhd_vtag=s.vtag,cdxhd[d].rendered=e,cdxhd[d].cdxhd_bpos="above",cdxhd[d].cdxhd_settings=s.settings,cdxhd[d].cdxhd_adtype=s.adtype,cdxhd[d].cdxhd_plugin=e,cdxhd[d].cdxhd_serverurl=s.adserver_url,cdxhd[d].cdxhd_passback=s.passbacks,cdxhd[d].cdxhd_trackingurl=s.trackingurl,collect_debug("bind document ready"),$H(s.doc).ready(function(a){new ClassCoAd(a)},e,function(){return $H().loadfile("css","overlay_v2.css")}),!1;if(s.render_init!==e)return!1;if($H("cdxhd_bpid_"+cdxhd[d].cdxhd_bpid+"_"+cdxhd[d].cdxhd_slot).remove(),s.settings[a.targetid]&&s.settings[a.targetid]!==!1){$H("cdxhd_anchor_"+cdxhd[d].cdxhd_bpid+"_"+cdxhd[d].cdxhd_slot).remove();var h=s.settings[a.targetid]}else{s.settings[a.insert]="after";var h="cdxhd_anchor_"+cdxhd[d].cdxhd_bpid+"_"+cdxhd[d].cdxhd_slot}if(s.settings[a.speed]&&s.settings[a.speed]!==!1){c=parseFloat(s.settings[a.speed]);var i=!0}if(s.settings[a.buttontime]&&s.settings[a.buttontime]>=0){f=parseInt(s.settings[a.buttontime]);var j=!0}s.settings[a.insert]&&"before"==s.settings[a.insert]?g="before":s.settings[a.insert]&&"append"==s.settings[a.insert]?g="append":s.settings[a.insert]&&"prepend"==s.settings[a.insert]?g="prepend":s.settings[a.insert]&&"after"==s.settings[a.insert]&&(g="after");var k=$H(h);if(k.exist()&&0==$H(b).exist()){cdxhd[d]={},cdxhd[d].cdxhd_bpid=s.bpid,cdxhd[d].cdxhd_h=s.h,cdxhd[d].cdxhd_w=s.w,cdxhd[d].cdxhd_slot=s.slot,cdxhd[d].cdxhd_debug=s.debug===!0?"true":"false",cdxhd[d].cdxhd_vtag=s.vtag,cdxhd[d].cdxhd_bpos="above",cdxhd[d].rendered=e,cdxhd[d].cdxhd_serverurl=s.adserver_url,cdxhd[d].cdxhd_adtype=s.adtype,cdxhd[d].cdxhd_passback=s.passbacks,cdxhd[d].cdxhd_trackingurl=s.trackingurl;var m,n;s.h+50;m=$H().create("div"),m.setAttr({class:b,"data-cdxhd_masthead":s.bpid+"_"+s.slot}),m.setStyle({display:"block",overflow:"hidden",height:"0px",width:s.w+"px",marginLeft:"auto",marginRight:"auto",marginTop:"0px",position:"relative",transition:"height "+c+"s ease",webkitTransition:"height "+c+"s ease",oTransition:"height "+c+"s ease"}),n='<div class="'+b+'_body" style="width:'+s.w+"px; height:"+s.h+'px; position:relative;">',n+='<div class="'+b+'_clbtn" id="'+b+'_clbtn" style="display:none;"></div>',n+='<div class="'+b+'_content"  style="width:'+s.w+"px;height:"+s.h+'px;">',n+='<div class="cdxhd_'+s.bpid+' cdxhd_slot" id="cdxhd_bpid_'+s.bpid+"_"+s.slot+'"></div>',n+="</div>",n+="</div>",m.html(n),m.id(b);var p=!1;"after"==g&&(p=k.insertAfter(m.element())),"before"==g&&(p=k.insertBefore(m.element())),"append"==g&&(p=k.append(m.element())),p&&($H(b+"_clbtn").onClick(function(){var a=document.getElementById(""+b);try{a.style.height="0px"}catch(a){}try{setTimeout(function(){a.parentNode.removeChild(a)},1e3*c+500)}catch(a){}}),cdxhd[d].REGISTER_EVENT=[],cdxhd[d].REGISTER_EVENT.onad=function(d){d.result_config&&d.result_config.js&&("undefined"===d.result_config.js[a.buttontime]||j||(f=d.result_config.js[a.buttontime],collect_debug("Override "+a.buttontime+" -> "+f)),"undefined"===d.result_config.js[a.speed]||i||(c=d.result_config.js[a.speed],$H(b).setStyle({transition:"height "+c+"s ease"}),$H(""+b+"_clbtn").element().onclick=function(){var a=document.getElementById(""+b);try{a.style.height="0px"}catch(a){}try{setTimeout(function(){a.parentNode.removeChild(a)},1e3*c+500)}catch(a){}},collect_debug("Override "+a.speed+" -> "+c))),setTimeout(function(a){return function(){a.fadeIn("",.8)}}($H(b+"_clbtn")),1e3*f),$H(b).setStyle({height:""+d.h+"px"})},collect_debug("### Init new "+e+" ###"),new ClassCoAd(e))}else collect_debug("[!] Target anchor container not exist")},interstitial:function(){var plugin_name="interstitial",map=plugin_vars.interstitial,prefix="cdxhd_"+plugin_name,speed=parseFloat(.4),close=!0,key=s.key,timer=!1,buttontime=0,autoclose=!1,bgclick=!1,zIndex={bg:1e8,ad:100000100,brand:100000200,button:100000300},speed_force=!1;s.settings[map.speed]&&s.settings[map.speed]!==!1&&(speed=parseFloat(s.settings[map.speed]),speed_force=!0);var close_force=!1;s.settings[map.close]&&"true"===s.settings[map.close]?(close=!0,close_force=!0):s.settings[map.close]&&"false"===s.settings[map.close]&&(close=!1,close_force=!0);var timer_force=!1;s.settings[map.timer]&&"true"==s.settings[map.timer]?(timer=!0,timer_force=!0):s.settings[map.timer]&&"false"==s.settings[map.timer]&&(timer=!1,timer_force=!0);var buttontime_force=!1;s.settings[map.buttontime]&&s.settings[map.buttontime]>=0&&(buttontime=parseInt(s.settings[map.buttontime]),buttontime_force=!0);var bgclick_force=!1;s.settings[map.bgclick]&&s.settings[map.bgclick]>=0&&(bgclick=parseInt(s.settings[map.bgclick]),bgclick_force=!1);var autoclose_force=!1;if(s.settings[map.autoclose]&&"true"==s.settings[map.autoclose]&&(autoclose=!0,autoclose_force=!0),s.settings[map.zindex]&&s.settings[map.zindex]!==!1&&(zIndex.bg=parseInt(s.settings[map.zindex]),zIndex.ad=zIndex.bg+100,zIndex.brand=zIndex.bg+200,zIndex.button=zIndex.bg+300),$H(prefix).element())collect_debug("DUPLICATE INTERSTITIAL ELEMENT FOUND -> ignore");else{cdxhd[key]={},cdxhd[key].cdxhd_bpid=s.bpid,cdxhd[key].cdxhd_h=s.h,cdxhd[key].cdxhd_w=s.w,cdxhd[key].cdxhd_slot=s.slot,cdxhd[key].cdxhd_debug=s.debug===!0?"true":"false",cdxhd[key].cdxhd_vtag=s.vtag,cdxhd[key].cdxhd_testparams=s.testparams,cdxhd[key].cdxhd_bpos="above",cdxhd[key].cdxhd_cdnurl=s.defaults.cdnurl,cdxhd[key].cdxhd_serverurl=s.adserver_url,cdxhd[key].cdxhd_adtype=s.adtype,cdxhd[key].rendered=plugin_name,$H("cdxhd_bpid_"+cdxhd[key].cdxhd_bpid+"_"+cdxhd[key].cdxhd_slot).remove(),$H().loadfile("css","overlay_v2.css");var d,tmp,preparejs;d=$H().create("div"),d.setAttr({class:"desktop "+prefix,"data-cdxhdinterstitial":s.bpid+"_"+s.slot}),d.setStyle({zIndex:zIndex.bg,display:"none",height:"100%",opacity:0,width:"100%",position:"fixed",top:"0px",left:"0px",transition:"opacity "+speed+"s ease-in"}),preparejs="(function(){ cdxhd["+s.key+"].rendered = 'kill'; var x = document.getElementById('"+prefix+"');  var x2 = document.getElementById('"+prefix+"_content_out'); x2.style.transform='translateY(-600px)'; x.style.opacity='0'; setTimeout(function(){x.parentNode.removeChild(x);},"+1e3*(speed+.6)+")})();",collect_debug("size  "+(s.h+12)+" "),tmp='<div class="'+prefix+'_body"  id="'+prefix+'_body" style="display:table-cell; vertical-align: middle;">',tmp+='<div class="'+prefix+'_content_out" id="'+prefix+'_content_out" style="width:'+(s.w+12)+"px; height:"+(s.h+12)+"px; padding:0px; margin:0 auto; position:relative; overflow:visible; transition: transform "+(speed+.5)+'s ease-out; transform:translateY(600px);">',tmp+='<div class="'+prefix+'_content" id="'+prefix+'_content" style="position:relative; background-color:white; padding:5px; overflow:visible;">',tmp+='<div class="'+prefix+'_info" id="'+prefix+'_info" style="overflow:visible;"></div>',tmp+='<div class="'+prefix+'_clbtn" id="'+prefix+'_clbtn" style="overflow:visible; display:none; z-index:'+zIndex.button+';" onclick="'+preparejs+'"></div>',tmp+='<div class="'+prefix+'_timer" id="'+prefix+'_timer" style="overflow:visible; display:none; z-index:'+(zIndex.button+10)+';"></div>',tmp+='<div class="cdxhd_'+s.bpid+' cdxhd_slot" id="cdxhd_bpid_'+s.bpid+"_"+s.slot+'"></div>',tmp+="</div>",tmp+="</div>",tmp+="</div>",d.html(tmp),d.id(prefix),s.doc.body.appendChild(d.element()),cdxhd[key].REGISTER_EVENT=[],cdxhd[key].REGISTER_EVENT.onad=function(s){if($H("cdxhd_interstitial").setStyle({display:"table"
}),s.result_branding>0&&""!=s.result_style.name){var tmp='<span title="'+s.result_style.text+'" onclick="window.open(\''+s.result_style.url+"', '_blank'); return false;\" class=\""+prefix+"_brand "+s.result_style.name+'" id="'+prefix+"_"+s.bpid+"_"+s.slot+'_brand">&nbsp;</span>';$H(prefix+"_info").html(tmp)}return s.result_config&&s.result_config.js&&("undefined"!==s.result_config.js[map.bgclick]&&(bgclick="true"==s.result_config.js[map.bgclick],collect_debug("Override "+map.bgclick+" -> "+bgclick)),"undefined"!==s.result_config.js[map.timer]&&(timer="true"==s.result_config.js[map.timer],collect_debug("Override "+map.timer+" -> "+timer)),"undefined"!==s.result_config.js[map.buttontime]&&(buttontime=s.result_config.js[map.buttontime],collect_debug("Override "+map.buttontime+" -> "+buttontime)),"undefined"!==s.result_config.js[map.autoclose]&&(autoclose=s.result_config.js[map.autoclose],collect_debug("Override "+map.autoclose+" -> "+autoclose)),"undefined"!==s.result_config.js[map.speed]&&(speed=parseFloat(s.result_config.js[map.speed]),collect_debug("Override "+map.speed+" -> "+speed),$H(prefix).setStyle({transition:"opacity "+(speed-.3)+"s linear"}),$H(prefix+"_content_out").setStyle({transition:"transform "+(speed+.3)+"s ease-out"}),preparejs="(function(){ cdxhd["+s.key+"].rendered = 'kill'; var x = document.getElementById('"+prefix+"');  var x2 = document.getElementById('"+prefix+"_content_out'); x2.style.transform='translateY(-600px)'; x.style.opacity='0'; setTimeout(function(){x.parentNode.removeChild(x);},"+(1e3*speed+300)+")})();",$H(prefix+"_clbtn").setAttr({onClick:preparejs}))),buttontime>1?(1==timer&&$H(prefix+"_timer").html(buttontime).show(),setTimeout(function(e,timer,autoclose){return function(){autoclose===!0?eval(preparejs):$H(prefix+"_clbtn").css("display","block")}}(prefix+"_clbtn",timer,autoclose),1e3*buttontime),timer===!0&&HELPER.countdown(""+prefix+"_timer",buttontime)):$H(prefix+"_clbtn").css("display","block"),1==bgclick&&$H(prefix+"_body").setAttr({onClick:" var e = event; var target = e.target || e.srcElement; if(target.id == this.id) { "+preparejs+" }; return false;"}),$H(prefix+"_content_out").setStyle({height:parseInt(s.h)+12+"px",width:parseInt(s.w)+12+"px",transform:"translateY(0px)"}),setTimeout(function(){$H("cdxhd_interstitial").setStyle({opacity:"1"})},250),setTimeout(function(){$H(document.body).setStyle({overflow:"auto"})},1e3*(speed+.5)),!1},w.cdxhd_handler_close=w.cdxhd_handler_close||{},w.cdxhd_handler_close[s.bpid+"_"+s.slot]=function(){var a=document.getElementById(prefix),b=document.getElementById(prefix+"_content_out");b.style.transform="translateY(-600px)",a.style.opacity="0",setTimeout(function(){a.parentNode.removeChild(a)},1e3*speed+300)},collect_debug("### Init new "+plugin_name+" ###"),new ClassCoAd(plugin_name)}},tag_overlay:function(){var a=plugin_vars.tag_overlay,c=0,d=8e3,e=5e3,f="",g=!1,h="embed",i=s.key,j=0;if(s.settings[a.closetime]&&s.settings[a.closetime]!==!1&&"false"!==s.settings[a.closetime]?d=1e3*s.settings[a.closetime]:s.settings[a.closetime]!==!1&&"false"!==s.settings[a.closetime]||(d=!1),s.settings[a.buttontime]&&s.settings[a.buttontime]!==!1&&"false"!==s.settings[a.closetime]?e=1e3*s.settings[a.buttontime]:s.settings[a.buttontime]!==!1&&"false"!==s.settings[a.closetime]||(e=!1),s.settings[a.text]&&""!=s.settings[a.text]?f=s.settings[a.text]:s.settings[a.text]===!1&&(f=!1),s.settings[a.targetid]&&""!=s.settings[a.targetid]?g=s.settings[a.targetid]:s.settings[a.targetelem]&&""!=s.settings[a.targetelem]&&(h=s.settings[a.targetelem]),collect_debug("AdTag Parameter"),collect_debug("+ close time: "+d),collect_debug("+ button time: "+e),collect_debug("+ css: overlay_v2.css"),0!=g){var k=document.getElementById(g);l=[],l[0]=k,collect_debug("+ target id: #"+g)}else{var l=document.getElementsByTagName(h);collect_debug("+ target id: tag <embed>")}if(l&&(j=l.length),collect_debug("found elements: "+j),j>0)for($H("cdxhd_bpid_"+cdxhd[i].cdxhd_bpid+"_"+cdxhd[i].cdxhd_slot).remove(),cdxhd[i]={},cdxhd[i].cdxhd_debug=s.debug===!0?"true":"false",cdxhd[i].cdxhd_vtag=s.vtag,cdxhd[i].cdxhd_bpid=s.bpid,cdxhd[i].cdxhd_h=s.h,cdxhd[i].cdxhd_w=s.w,cdxhd[i].cdxhd_slot=s.slot,cdxhd[i].cdxhd_testparams=s.testparams,cdxhd[i].cdxhd_serverurl=s.adserver_url,cdxhd[i].cdxhd_adtype=s.adtype,cdxhd[i].cdxhd_passback=s.passbacks,cdxhd[i].cdxhd_trackingurl=s.trackingurl,cdxhd[i].cdxhd_frame="cdxhd_overlay_frame_"+s.bpid+"_"+s.slot,c;c<j;c++){var n,m=l[c],o=0;if(n=m.getAttribute("height"),n=parseInt(n,10),isNaN(n)&&(n=0,n=m.style.height,n=parseInt(n,10)),isNaN(n)===!1&&(o=m.getAttribute("width"),o=parseInt(o,10),isNaN(o)&&(o=0,o=m.style.width,o=parseInt(o,10))),n>0&&o>0)if(s.h<n-20&&s.w<o-20)if(m.hasAttribute("data-cdxhdoverlay")===!1){if(i!==!1){var p=i;i=!1}else{var q=cdxhd.length;cdxhd.push({cdxhd_bpid:s.bpid,cdxhd_h:s.h,cdxhd_w:s.w,cdxhd_slot:q,cdxhd_vtag:s.vtag,cdxhd_testparams:s.testparams,cdxhd_adtype:s.adtype,cdxhd_serverurl:s.adserver_url,cdxhd_debug:s.debug===!0?"true":"false",cdxhd_frame:"cdxhd_overlay_frame_"+s.bpid+"_"+q});var p=cdxhd.length-1}var r=cdxhd[p].cdxhd_bpid,q=cdxhd[p].cdxhd_slot,t=document.createElement("div");if(t.setAttribute("cdxhd_overlay",""+r+"_"+q),t.setAttribute("class","cdxhd_overlay"),t.style.display="none",t.style.position="relative",t.id="cdxhd_overlay_"+r+"_"+q,m.setAttribute("data-cdxhdoverlay",""+r+"_"+q),m.id)var u=m.id;else var u=m.id="cdxhd_overlay_tg_"+r+"_"+q;m.style.visibility="hidden",m.parentNode.insertBefore(t,m);var v=$H("cdxhd_overlay_"+r+"_"+q).element(),w="(function(){var x = window.parent.document.getElementById('cdxhd_overlay_"+r+"_"+q+"');var v = window.parent.document.getElementById('"+u+"');x.parentNode.removeChild(x);v.style.visibility='visible';})();",x="";x+="<!DOCTYPE html>",x+="<html><head><title>DynLoader</title>",x+='<link rel="stylesheet" type="text/css" href="'+s.defaults.cdnurl+"/css/overlay_v2.css?v="+s.defaults.filecb+'" >',x+='</head><body class="cdxhd_overlay_body" style="margin:0px; padding:0px; overflow:hidden; background-color: #ffffff;">',x+='<div style="width:'+s.w+"px; height:"+(s.h+50)+'px; margin:5% auto; position:relative;">',x+='<div class="cdxhd_overlay_clbtn" id="cdxhd_overlay_clbtn" style="background:#727272 url(\''+s.defaults.cdnurl+'/js_img/close_icon.png\') no-repeat center;" onclick="'+w+'"></div>',x+='<div class="cdxhd_overlay_content" style="width:'+s.w+"px; height:"+s.h+'px;">',x+='<div class="cdxhd_'+r+' cdxhd_slot" id="cdxhd_bpid_'+r+"_"+q+'" style="position:relative;"></div>',x+="</div>",x+='<div class="cdxhd_overlay_bar"><span style="-webkit-animation: cdxhd_overlay_expand '+d/1e3+"s ease-in-out;\tanimation: cdxhd_overlay_expand "+d/1e3+'s ease-in-out;"></span></div>',f&&(x+='<div class="cdxhd_overlay_text">'+f+"</div>"),x+="</div>",x+="</body></html>";var y=document.createElement("iframe"),z="cdxhd_overlay_frame_"+r+"_"+q;y.height=n,y.width=o,y.style.position="absolute",y.style.zIndex="100",y.style.top=m.style.marginTop,y.style.left=m.style.marginLeft,y.style.backgroundColor="white",y.style.overflow="hidden",y.style.border="none",y.setAttribute("frameBorder","0"),y.id=z,y.setAttribute("class","cdxhd_overlay_frame"),y.src="javascript:false",v.appendChild(y),y.contentWindow.document.open("text/html","replace"),y.contentWindow.document.write(x),y.contentWindow.document.close(),x="",v.style.display="block",s.iframe=z,e!==!1&&setTimeout(function(a){return function(){a.fadeIn("",.8)}}($H("cdxhd_overlay_clbtn",z)),e),d!==!1&&setTimeout(function(a,b){return function(){b.style.visibility="visible",a.remove()}}($H("cdxhd_overlay_"+r+"_"+q),m),d),s.iframe="",collect_debug("### Init new overlay Ad ###"),new ClassCoAd}else collect_debug("DOUBLE ASSIGNMENT -> skip");else collect_debug("min size not big enough");else collect_debug("can not read height and width of Video container!")}else collect_debug("NO OVERLAY TAGS FOUND -> skip")}};return PLUGINS},adroutines=function(){var a={vpaid:function(){return collect_debug("Bind vpaid actions"),"undefined"!=typeof s.result_slot&&""!=s.result_slot?document.getElementById("cdxhd_ifr_"+s.bpid+"_"+s.slot).contentWindow.cdxhd_player(s.bpid+"_"+s.result_slot)?(document.getElementById("cdxhd_ifr_"+s.bpid+"_"+s.slot).contentWindow.cdxhd_player(s.bpid+"_"+s.result_slot)!==!1&&document.getElementById("cdxhd_ifr_"+s.bpid+"_"+s.slot).contentWindow.cdxhd_player(s.bpid+"_"+s.result_slot).onAd({url:s.result_config.aipixel}),"ok"):"retry":document.getElementById("cdxhd_ifr_"+s.bpid+"_"+s.slot).contentWindow.cdxhd_player(s.bpid+"_"+s.slot)?(document.getElementById("cdxhd_ifr_"+s.bpid+"_"+s.slot).contentWindow.cdxhd_player(s.bpid+"_"+s.slot)!==!1&&document.getElementById("cdxhd_ifr_"+s.bpid+"_"+s.slot).contentWindow.cdxhd_player(s.bpid+"_"+s.slot).onAd({url:s.result_config.aipixel}),"ok"):"retry"},criteo:function(){collect_debug("Check Criteo blank delivery 1");var a=s.result_content_DOM,b=a.childNodes,c=b.length,d=2;if(s.result_branding>0&&"inline"==s.result_brand_mode&&(d+=3),collect_debug("search nodes - should:"+d+", found:"+c),c>d){for(var e in b)if(1==b[e].nodeType&&"IFRAME"==b[e].tagName)return"ok";return collect_debug("content found"),s.result_pburl="none",s.result_checkfn="passback","retryclear"}return collect_debug("retry..."),"retry"},pubmatic:function(){collect_debug("Check Pubmatic blank delivery");var a=s.result_content_DOM.childNodes,b=a.length;if(b>0)for(var c in a)if("SPAN"==a[c].tagName&&"PubAdAI"==a[c].className){var d=a[c].childNodes[0];return"SCRIPT"==d.tagName?(collect_debug("Pubmatic Passback insertion found"),s.result_pburl="none",s.result_checkfn="passback","retryclear"):(collect_debug("Pubmatic has AD"),"ok")}return collect_debug("retry..."),"retry"},appnexus_loaded:function(){var a=$H("cdxhd_ifr_"+s.bpid+"_"+s.slot);return a.element().contentWindow.ANX_async_load_flag?(collect_debug("APPNEXUS loaded - place AI pixel"),s.result_config&&s.result_config.aipixel&&a.append($H().create("img").src(s.result_config.aipixel).e()),"ok"):(collect_debug("retry..."),"retry")},find_pbbpid:function(a){collect_debug("Try to find passback: ads_result_"+s.bpid+"_"+s.result_slot+" in iframe"+a);var b=$H("cdxhd_inline_passback","cdxhd_ifr_"+s.bpid+"_"+s.slot);if(b.exist()===!0){var b=$H("ads_result_"+s.bpid+"_"+s.result_slot,"",b.contentWindow().e());s.result_content_DOM=$H("ads_content_"+s.bpid+"_"+s.result_slot,"",b.contentWindow().e()).e()}else{var b=$H("ads_result_"+s.bpid+"_"+s.result_slot,"cdxhd_ifr_"+s.bpid+"_"+s.slot);s.result_content_DOM=$H("ads_content_"+s.bpid+"_"+s.result_slot,"cdxhd_ifr_"+s.bpid+"_"+s.slot).e()}if(b.exist()===!0){var c=b.html(),c=c.split("|");if(s.result_ads=c[0],1==s.result_ads){if(s.result_size=c[1],s.result_debug=c[2],s.result_checkfn=c[4],s.result_pbtyp=c[5],s.result_slot=c[6],s.result_pburl=c[7],s.result_brand_mode="inline",s.result_style.name="",s.result_style.url="",s.result_style.text="",c[8]){var d=c[8].split("~");d.length>1&&(s.result_brand_mode="extern",s.result_style.name=d[0],s.result_style.url=d[1],s.result_style.text=d[2])}if("undefined"!=typeof c[9]&&(s.result_adtype=c[9]),s.result_kpid=parseInt(c[10]),s.result_wsid=parseInt(c[11]),s.result_b2id=parseInt(c[12]),collect_debug("Passback has AD"),""!=s.result_pbtyp&&""!=s.result_checkfn&&""!=s.result_pburl)return collect_debug("retry..."),"retry"}else collect_debug("Passback has NO AD");return"ok"}return collect_debug("retry..."),"retry"},google:function(a){return"ok"}};return a},getPos=function(a){for(var b=0,c=0;;){if(b+=a.offsetLeft,c+=a.offsetTop,null===a.offsetParent)break;a=a.offsetParent}return[b,c]},s.init=function(){s.checkpoints(1)},s.init_render=function(a,b){s.render_queue?(clearTimeout(s.render_queue[a.id()]),delete s.render_queue[a.id()]):s.render_queue=[],a.css("opacity",String(b.from));var c;c="fast"==b.speed?20:"slow"==b.speed?50:30,s.render(parseFloat(b.from),parseFloat(b.to),a,c)},s.render=function(a,b,c,d){a=10*a,b=10*b,a>b?a--:a++,a!=b?(s.render_queue[c.id()]=setTimeout(function(){s.render(a/10,b/10,c,d)},d),s.changeopacity(a/10,c)):s.changeopacity(b/10,c)},s.changeopacity=function(a,b){a=String(a),"1"==a?(b.css("display","block"),b.css("opacity","1")):"0"==a?(b.css("opacity","0"),b.css("display","none")):(b.css("display","block"),b.css("opacity",a))},collect_debug=function(a,b){if(1==s.debug){var c,d;return d="undefined"!=typeof b?b:s.rand,"undefined"!=typeof a?(c=" - ",c+=a,"undefined"!=typeof s.bpid&&("undefined"==typeof cdxhd_dbugarray[s.bpid+"_"+s.slot][d]&&(cdxhd_dbugarray[s.bpid+"_"+s.slot][d]=[]),cdxhd_dbugarray[s.bpid+"_"+s.slot][d].push(c))):(c="Step:",c+=s.currentstep,"undefined"!=typeof s.bpid&&("undefined"==typeof cdxhd_dbugarray[s.bpid+"_"+s.slot][d]&&(cdxhd_dbugarray[s.bpid+"_"+s.slot][d]=[]),cdxhd_dbugarray[s.bpid+"_"+s.slot][d].push(c))),1==s.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log(c),!0}},s.collect_debug=collect_debug,build_debug_array=function(){return"object"!=typeof cdxhd_dbugarray?(cdxhd_dbugarray={},cdxhd_dbugarray[s.bpid+"_"+s.slot]={},cdxhd_dbugarray[s.bpid+"_"+s.slot][s.rand]=[]):"object"!=typeof cdxhd_dbugarray[s.bpid+"_"+s.slot]&&(cdxhd_dbugarray[s.bpid+"_"+s.slot]={},cdxhd_dbugarray[s.bpid+"_"+s.slot][s.rand]=[]),!0},s.check_viewport=function(){var a=s.target.getBoundingClientRect();return a.top>=0&&a.left>=0&&a.bottom<=(w.innerHeight||s.doc.documentElement.clientHeight)&&a.right<=(w.innerWidth||s.doc.documentElement.clientWidth)},s.checkBrowserName=function(a){var b=navigator.userAgent.toLowerCase();return b.indexOf(a.toLowerCase())>-1},s.checkBrowserVersion=function(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(a=navigator.appVersion.indexOf("Trident")===-1?12:11);return a},s.check_topdoc=function(){if(top==self)return s.d_url=window.location.href,!0;try{var a=top.window;return"undefined"!=typeof a&&(s.d_url=a.location.href,!0)}catch(a){return!1}},s.checkpoints=function(a){if("undefined"==typeof a?"undefined"==typeof s.currentstep?s.currentstep=1:++s.currentstep:s.currentstep=a,"kill"==cdxhd[s.key].rendered)return collect_debug("KILL REQUEST"),!1;switch(s.currentstep){case 1:collect_debug(),collect_debug("check_bpid()"),s.check_bpid(s.imax);break;case 2:collect_debug(),collect_debug("check_div()"),s.check_div(s.imax);break;case 3:collect_debug(),collect_debug("check_position()"),s.check_position();break;case 4:collect_debug(),collect_debug("check_dublicate_bpid()"),s.check_dublicate_bpid();break;case 5:collect_debug(),collect_debug("build_html()"),s.build_html();break;case 6:collect_debug(),collect_debug("update_iframe()"),s.update_iframe(s.imax);break;case 7:collect_debug(),collect_debug("check_ads()"),s.check_ads(10);break;case 8:collect_debug(),collect_debug("read_ads()"),s.read_ads(10);break;case 9:collect_debug(),collect_debug("check_fn()"),s.check_fn();break;case 10:collect_debug(),collect_debug("display_ads()"),s.display_ads();break;case 11:collect_debug(),collect_debug("reload_ads()"),s.reload_ads();break;case 12:collect_debug(),collect_debug("check_debug()"),s.check_debug();break;case 13:collect_debug(),collect_debug("check_options()"),s.check_options();break;case 14:collect_debug(),"1"==s.result_ads?(cdxhd[s.key].rendered="ok",cdxhd[s.key].result_config=s.result_config):cdxhd[s.key].rendered="noad","1"==s.result_debug&&(cdxhd[s.key].debug="true"),"1"==s.result_debug&&0==s.debug,collect_debug("fin you should see ads -");break;default:collect_debug("[!] unknown step "+s.currentstep)}return!0},s.check_ads=function(a){if(s.safeframe)return s.checkpoints(),!0;if("undefined"==typeof a&&(a=s.imax),!(a>0))return collect_debug("no ads, loop end with no result - exit"),!1;a--;var b=$H("cdxhd_ifr_"+s.bpid+"_"+s.slot).element();if(b)var c=b.contentDocument?b.contentDocument:b.contentWindow.document,d=c.getElementById("ads_loaded_"+s.bpid+"_"+s.result_slot);return"undefined"!=typeof d&&null!=d?(s.checkpoints(),a=0,!0):(collect_debug("wait for ads ("+s.result_slot+"), retry:"+a),void setTimeout(function(){s.check_ads(a)},500))},s.read_ads=function(a){if(s.safeframe)return s.checkpoints(),!0;if("undefined"==typeof a&&(a=s.imax),!(a>0))return collect_debug("no ads, loop end with no result - exit"),!1;a--;var b=$H("cdxhd_ifr_"+s.bpid+"_"+s.slot).element(),c=b.contentDocument?b.contentDocument:b.contentWindow.document,d=c.getElementById("ads_result_"+s.bpid+"_"+s.result_slot);if("undefined"!=typeof d&&null!=d){s.result_content_DOM=c.getElementById("ads_content_"+s.bpid+"_"+s.result_slot),s.result_content_DOC=c;var e=d.innerHTML.split("|");if(s.result_ads=e[0],s.result_size=e[1],s.result_debug=e[2],s.result_branding=parseInt(e[3]),s.result_checkfn=e[4],s.result_pbtyp=e[5],s.result_slot=e[6],s.result_pburl=e[7],s.result_brand_mode="inline",s.result_style.name="",s.result_style.url="",s.result_style.text="",e[8]){var f=e[8].split("~");f.length>1&&(s.result_brand_mode="extern",s.result_style.name=f[0],s.result_style.url=f[1],s.result_style.text=f[2])}if(collect_debug("Branding mode: "+s.result_brand_mode),s.result_adtype="default","undefined"!=typeof e[9]&&(s.result_adtype=e[9]),collect_debug("AdType: "+s.result_adtype),s.result_kpid=parseInt(e[10]),collect_debug("Campaign: "+s.result_kpid),s.result_wsid=parseInt(e[11]),collect_debug("Site: "+s.result_wsid),s.result_b2id=parseInt(e[12]),collect_debug("Creative: "+s.result_b2id),s.result_btyp=parseInt(e[13]),collect_debug("Btyp: "+s.result_btyp),s.result_config=!1,"undefined"!=typeof b.contentWindow.cdxhd_parent_config)try{s.result_config=b.contentWindow.cdxhd_parent_config,s.result_config.pbtyp=s.result_pbtyp}catch(a){collect_debug("[!] Error while parsing JSON config")}if(s.result_debug_data=!1,"undefined"!=typeof b.contentWindow.cdxhd_parent_debug)try{s.result_debug_data=b.contentWindow.cdxhd_parent_debug}catch(a){collect_debug("[!] Error while parsing JSON config")}return s.checkpoints(),a=0,!0}collect_debug("wait for result, retry:"+a),setTimeout(function(){s.read_ads(a)},500)},s.display_ads=function(){var a=$H("cdxhd_bpid_"+s.bpid+"_"+s.slot).element();collect_debug("Has Ad: "+s.result_ads,"hasad");var b=!1;if("0"==s.result_ads&&"1"!=s.result_debug)collect_debug("Empty AD"),"none"!==s.display_mode&&"inline"!==s.display_mode||(a.style.display="none"),"block"===s.display_mode&&(a.style.display="block"),s.REGISTER_EVENT.emptyad&&(s.REGISTER_EVENT.emptyad(s),collect_debug("fire REGISTER_EVENT.emptyad()"));else{if("1"==s.w){collect_debug("Dynamic Ad Size set to: "+s.result_size);var c=s.result_size.split("x");s.w=c[0],s.h=c[1]}"1"==s.result_debug&&collect_debug("## DEBUG ## emptyad() not fired "),s.REGISTER_EVENT.onad&&(b=s.REGISTER_EVENT.onad(s),collect_debug("fire REGISTER_EVENT.onad()")),"none"===s.display_mode&&(a.style.display="none",collect_debug("set display_mode none")),"block"!==s.display_mode&&"inline"!==s.display_mode||(a.style.display="block",collect_debug("set display_mode bLock")),"1"==s.w&&"1"==s.result_debug&&(collect_debug("DEBUG set size to 300"),s.w=300,s.h=250,a.style.display="block")}if(b&&0!=b||(s.iframe.style.width=s.w+"px",s.iframe.style.height=s.h+"px",s.iframe.style.position="relative","1"==s.result_debug?s.iframe.style.zIndex="9999":s.iframe.style.zIndex="1000"),"imagead"!=s.adtype&&"pageskin"!=s.adtype&&"scroll"!=s.adtype&&"interstitial"!=s.adtype&&"newsbreaker"!=s.adtype&&"scopead"!=s.adtype&&"scopead-header"!=s.adtype&&"scopead-footer"!=s.adtype&&"sticky"!=s.adtype&&"overlay"!=s.adtype){var e,d=!1;"imagead"==s.adtype||"pageskin"==s.adtype||"scroll"==s.adtype||"interstitial"==s.adtype,e=["scroll","resize","load","instant"],$H().binder_register("async",e,"upd_view_"+s.bpid+"_"+s.slot,$H().viewability_check,{plugin:s.adtype,kpid:s.result_kpid,bpid:""+s.bpid,slot:s.slot,wsid:s.result_wsid,b2id:s.result_b2id,btyp:s.result_btyp,ad:s.result_ads,w:s.w,h:s.h},d)}s.checkpoints()},s.check_debug=function(){return"1"==s.result_debug&&1==s.accestop&&init_console(!0),s.checkpoints(),!0},s.reload_ads=function(){if(s.result_config&&"undefined"!=typeof s.result_config.reload){var a=1e3*parseInt(s.result_config.reload),b=!1;"undefined"==typeof cdxhd_focus&&(cdxhd_focus=!0),collect_debug("placement reload: "+a+"ms"),"undefined"!=typeof s.result_config.reload_force&&"true"==s.result_config.reload_force&&(b=!0,collect_debug("placement reload force")),a>0&&"kill"!=cdxhd[s.key].rendered&&setTimeout(function(a){return function(){var d;return a.result_slot=a.slot,a.result_config!==!1?a.lastCampaign=a.result_config.kpid:a.lastCampaign=0,"undefined"!=typeof document.hidden?d="visibilityState":"undefined"!=typeof document.mozHidden?d="mozVisibilityState":"undefined"!=typeof document.msHidden?d="msVisibilityState":"undefined"!=typeof document.webkitHidden&&(d="webkitVisibilityState"),"hidden"==document[d]?cdxhd_focus=!1:cdxhd_focus=!0,cdxhd_focus===!0||b===!0?a.checkpoints(5):a.checkpoints(11),!0}}(s),a)}return s.checkpoints(),!0},s.check_bpid=function(a){return void 0==a&&(a=s.imax),a>0?(a--,s.bpid>0?(collect_debug("Check Banner id: OK"),s.checkpoints(),a=0,void 0):(collect_debug("BPID not found, retry:"+a),w.setTimeout(function(a){s.check_bpid(a)},250),!0)):(collect_debug("BPID fail, loop end with no result - exit"),!1)},s.update_iframe=function(a){if(""!=s.testparams&&(s.testparams="&"+s.testparams),""==s.resolution){if(1==s.accestop)if(s.runinframe===!0){s.encode=!0;var b=$H(!1,top.window).getViewportSize()}else var b=$H().getViewportSize();else{var b=$H().getViewportSize();s.encode=!0}s.resolution="&res="+b.width+"x"+b.height}var c="";if(void 0==a&&(a=s.imax),!(a>0))return collect_debug("write iframe fail, loop end with no result - exit"),!1;var d="";if(s.passbacks!==!1){var e,f=0;for(e in s.passbacks){if(f++,(""+s.passbacks[e]).length>=255){console.info("MAX PASSBACK LENGTH REACHED");break}if(d=d+"&PB"+e+"="+encodeURIComponent((""+s.passbacks[e]).replace(/\s+/g,"").replace(/(\r\n|\n|\r)/gm,"")),f>4)break}}""!=s.trackingurl?s.trackingurl="&trackingurl="+encodeURIComponent(s.trackingurl):s.trackingurl="";var g="?bpid="+s.bpid+"&slot="+s.slot+"&vtag="+s.vtag+"&beacon="+cdxhd_beacon+"&vloader="+s.vloader+"&cb="+(new Date).getTime()+s.resolution+s.lang+s.use_secure+s.display+s.bpos+s.testparams+s.click+s.ctclick+s.addcthash+s.pageurl+s.addparams+s.device+d+s.trackingurl;if("undefined"!=typeof s.lastCampaign&&(g=g+"&lastcp="+s.lastCampaign),"undefined"!=typeof cdxhd_parent_iframe&&(s.encode=!0),s.safeframe){a=0;var c="&safeframe";1==s.runinframe&&(c+="&iframe");var h="ifr";return s.iframe.src=s.adserver_url+"/"+h+g+c,s.display_mode="block",s.result_ads=1,s.debug&&collect_debug("write native iframe -> "+s.iframe.src),collect_debug("Get content"),s.checkpoints(),!0}var h="js.js";a--;var i="<!DOCTYPE html>";if(i+="<head><title>cdxhd_ifr_"+s.bpid+"_"+s.result_slot+'</title><style type="text/css">html{height:100%;width:100%;}</style></head>',i+='<body onload="inDapIF=true; inFIF=true;" style="overflow:hidden;margin:0px;padding:0px;border:none;width:100%;height:100%;">',1==s.runinframe)var c="&iframe";if(""!=s.result_pburl&&"none"!=s.result_pburl)s.pb_nr++,i+='<script type="text/javascript" src="'+s.result_pburl+'"></script>',s.result_pburl="";else{if(g+=c,s.encode===!0)try{g=g.substring(1),g="?encoded=b64"+w.btoa(g)}catch(a){}i+='<script type="text/javascript" src="'+s.adserver_url+"/"+h+g+'"></script>'}if(i+='<script type="text/javascript">',i+='var cdxhd_parent_iframe \t= "cdxhd_ifr_'+s.bpid+"_"+s.slot+'";',i+="var cdxhd_parent_key \t\t= "+s.key+";",i+="var cdxhd_parent_bpid \t\t= "+s.bpid+";",i+="var cdxhd_parent_slot \t\t= "+s.slot+";",i+="",i+="</script>",i+="</body></html>",!s.iframe.contentWindow)return!1;var j=s.iframe.contentWindow.document;j.open("text/html").write(i),s.checkBrowserName("firefox")&&(collect_debug("use close for firefox"),j.close()),s.checkBrowserName("chrome")&&(collect_debug("use close for chrome"),j.close());try{var k=$H("cdxhd_ifr_"+s.bpid+"_"+s.slot).element(),l=k.contentDocument?k.contentDocument:k.contentWindow.document;if(""==l.body.innerHTML)return collect_debug("write iframe fail, retry:"+a),setTimeout(function(){s.update_iframe(a)},250),!0;s.debug&&collect_debug("write doc -> "+l.body.innerHTML),collect_debug("Get content"),s.checkpoints(),a=0}catch(b){return collect_debug("write iframe fail - exit - "+b),setTimeout(function(){s.update_iframe(a)},250),!0}},s.check_dublicate_bpid=function(){var a=$H("cdxhd_ifr_"+s.bpid+"_"+s.slot).element();return"undefined"!=typeof a&&null!=a?(collect_debug("[!] duplicate BPID "+s.bpid+"_"+s.slot+" exit now "),!1):(collect_debug("Check banner duplicates: none found"),void s.checkpoints())},s.check_position=function(){""!=s.bpos?(s.bpos="&bpos="+s.bpos,collect_debug("force position: "+s.bpos)):s.check_viewport()?(s.bpos="&bpos=above",collect_debug("Determ position: above")):(collect_debug("Determ position: below"),s.bpos="&bpos=below"),s.checkpoints()},s.check_div=function(a){if(void 0==s.bpid)return!1;if(void 0==a&&(a=s.imax),!(a>0))return collect_debug("DIV not found, loop end with no result - exit"),console.error("Missing div container"),!1;a--;var b=$H("cdxhd_bpid_"+s.bpid+"_"+s.slot).element();return"undefined"==typeof b||null==b?(collect_debug("DIV not found, retry:"+a),setTimeout(function(){s.check_div(a)},250),!1):(s.target=b,"inline"==s.display_mode||"none"==s.display_mode?b.style.display="none":b.style.display="block",collect_debug("Check div: OK"),s.checkpoints(),a=0,void 0)},s.build_html=function(){s.div=$H("cdxhd_bpid_"+s.bpid+"_"+s.slot).element(),$H("cdxhd_bpid_"+s.bpid+"_"+s.slot).setStyle({"text-align":"left"}),$H("cdxhd_ifr_"+s.bpid+"_"+s.slot).exist()&&$H("cdxhd_ifr_"+s.bpid+"_"+s.slot).remove();try{collect_debug("use setAttribute"),s.iframe=s.doc.createElement("iframe"),s.iframe.setAttribute("frameborder","0"),s.iframe.setAttribute("marginheight","0"),s.iframe.setAttribute("marginwidth","0"),s.iframe.setAttribute("scrolling","no"),s.iframe.setAttribute("id","cdxhd_ifr_"+s.bpid+"_"+s.slot),s.iframe.style.border="none",s.iframe.style.maxWidth="none",s.iframe.style.maxHeight="none",s.iframe.style.margin="0px",s.iframe.style.padding="0px",s.iframe.style.transform="translateZ(0px);"}catch(a){s.iframe=s.doc.createElement('<iframe id="cdxhd_ifr_'+s.bpid+"_"+s.slot+'" frameborder="0" marginheight="0" marginwidth="0" scrolling="0">'),collect_debug("use createElement")}s.div.appendChild(s.iframe),"inline"==s.display_mode?collect_debug("use inline"):(s.iframe.style.width=s.w+"px",s.iframe.style.height=s.h+"px"),collect_debug("Create iframe: OK"),s.checkpoints()},s.check_parrent_typ=function(){if(target_window)return!0;var a=w.location!=w.parent.location;return a},s.eval_function=function(eval_str){var tmp=eval_str.replace("[[ad_available]]",2);try{collect_debug("eval js"),eval(tmp)}catch(a){collect_debug("Can't eval \n"+a)}},s.check_fn=function(a,b){if(""==s.result_pbtyp||""==s.result_checkfn||""==s.result_pburl)return s.checkpoints(),!1;var c="ok";if("undefined"==typeof b)var b=6;if("undefined"==typeof a)var a=30;return a>0?(a--,"criteo"==s.result_checkfn&&(c=adroutines().criteo()),"criteo2"==s.result_checkfn?c=adroutines().criteo2():"vpaid"==s.result_checkfn?c=adroutines().vpaid(b):"ggl"==s.result_checkfn?c=adroutines().google(b):"pubmatic"==s.result_checkfn?c=adroutines().pubmatic():"passback"==s.result_checkfn?c=adroutines().find_pbbpid(b):"appnexus"==s.result_checkfn&&(c=adroutines().appnexus_loaded(b),"ok"===c&&(c="retry",s.result_checkfn="passback")),"undefined"!=typeof s.tmp_timeout&&clearTimeout(s.checkfnTimeout),"ok"===c?(s.checkpoints(),a=0,!1):"retry"===c?(collect_debug("wait for 3party AdTag, retry:"+a),s.checkfnTimeout=setTimeout(function(){s.check_fn(a,b)},100),!1):"retryclear"===c?(collect_debug("wait for 3party AdTag, retry-clear:"+b+" "+a),s.checkfnTimeout=setTimeout(function(){s.check_fn(5,--b)},100),!1):"no"===c&&(s.draw_passback(),!1)):"none"==s.result_pburl?(s.checkpoints(),a=0,!1):(s.checkpoints(),a=0,!1)},s.draw_passback=function(){return s.pb_nr>2?(collect_debug("PASSBACK LOOP"),!1):(collect_debug("no functional 3party Ad detected\n########## WRITE PASSBACK TAG ##########\nRestart at Step 6"),void s.checkpoints(6))},s.build_ad=function(a,b,c,d,e,f,g){var h=$H().create("div");h.setAttr({class:""}),h.setStyle({zIndex:"10000",display:"table",width:"100%",height:"100%",overflow:"hidden"});var i=$H().create("a");i.setAttr({href:c,target:"_blank"}),i.setStyle({zIndex:"10000",display:"table-cell",verticalAlign:"middle",textAlign:"center",width:"100%",height:"100%"});var j=$H().create("img");j.setAttr({src:b}),j.setStyle({zIndex:"10010",display:"inline-block",width:e+"px",height:f+"px"}),i.append(j.element()),h.append(i.element());var k={html:h.element(),element:h.element()};return k},s.check_options=function(){""!=s.evalparam&&s.eval_function(s.evalparam),s.checkpoints()};var init_console=function(a){if(s.runinframe)var b=window.top;else var b=window;if("undefined"==typeof b.cdxhd_adconsole||0==b.cdxhd_adconsole&&1==a)if("#debug"===window.location.hash&&(s.debug=!0),b.cdxhd_adconsole=!1,(window.location.href.indexOf("cdxhd_console")>=0||1==a)&&window.location.href.indexOf("cdxhd_console=0")==-1||("1"==b.sessionStorage.cdxhd_console||1==a)&&window.location.href.indexOf("cdxhd_console=0")==-1?(b.cdxhd_adconsole=!0,b.sessionStorage.cdxhd_console="1"):window.location.href.indexOf("cdxhd_console=0")>=0&&(b.cdxhd_adconsole=!1,b.sessionStorage.cdxhd_console="0"),1==b.cdxhd_adconsole){var c="console";$H().wait_condition(function(a){var b=new ClassCoAd;b.defaults=s.defaults,b["plugin_"+a](s.runinframe).init()},c,function(){return!!$H().loadfile("js","plugin_"+c+".js","hr","plugin_"+c)},60)}else b.cdxhd_adconsole=!1;return b.cdxhd_adconsole===!0};!function(){var a,b=!1;if(s.rand=Math.floor(1e3*Math.random()+1),s.vloader=cdxhd_vloader,s.dbugarray=[],s.imax=10,s.doc=document,s.protocol="https:"===s.doc.location.protocol?"https":"http",s.plugin_name="",s.pb_nr=0,s.result_style=[],s.defaults={filecb:cdxhd_vloader,cdnurl:s.protocol+"://ca.cubecdn.net",adserver:s.protocol+"://content.acc-hd.de"},"undefined"!=typeof re_init&&re_init!==!1&&re_init>=0&&delete cdxhd[re_init].rendered,"undefined"==typeof cdxhd_beacon||""==cdxhd_beacon?sessionStorage.cdxhd_beacon?cdxhd_beacon=sessionStorage.cdxhd_beacon:(sessionStorage.cdxhd_beacon=Math.floor(1e4*Math.random())*Math.floor(1e4*Math.random()),cdxhd_beacon=sessionStorage.cdxhd_beacon):sessionStorage.cdxhd_beacon=cdxhd_beacon,"undefined"!=typeof cdxhd)for(a in cdxhd){if("undefined"==typeof cdxhd[a].rendered||cdxhd[a].rendered==""+s.render_init){s.key=a,cdxhd[s.key].rendered="init",b=!0;break}s.key=a}if(0==b)return!1;var c=cdxhd[s.key]||{};if(0!=(c.vtag||!1)?(c.cdxhd_bpid=s.bpid=parseInt(c.id)||!1,c.cdxhd_w=s.w=parseInt(c.width)||1,c.cdxhd_h=s.h=parseInt(c.height)||1,c.cdxhd_slot=s.slot=c.slot||0,c.cdxhd_plugin=s.plugin=c.plugin||"display",c.cdxhd_debug=s.debug=c.debug||"",c.cdxhd_testparams=s.testparams=c.params||"",c.cdxhd_vtag=s.vtag=c.vtag||"",c.cdxhd_display=s.display_mode=c.display||"",c.cdxhd_lang=s.lang=c.lang||"",c.cdxhd_dev=s.device_mode=c.mode||"",c.cdxhd_serverurl=s.adserver_url=c.serverurl||"",c.cdxhd_ctrdr=s.click=c.ctrdr||"",c.cdxhd_ctasync=s.ctclick=c.ctasync||"",c.cdxhd_cthash=s.cthash=c.cthash||"",c.cdxhd_pageurl=s.pageurl=c.pageurl||"",c.cdxhd_eval=s.evalparam=c.eval||"",c.cdxhd_settings=s.settings=c.settings||[],c.cdxhd_frame=s.frame=c.frame||"",c.cdxhd_safeframe=s.safeframe=c.safeframe||"",c.cdxhd_adtype=s.adtype=c.adtype||s.plugin,c.cdxhd_bpos=s.bpos=c.bpos||"",c.cdxhd_addparams=s.addparams=c.addparams||"",c.cdxhd_passback=s.passbacks=c.passback||!1,c.cdxhd_trackingurl=s.trackingurl=c.trackingurl||!1,c.cdxhd_encode=s.encode=c.encode||!1,s.defaults.cdnurl=c.cdxhd_cdnurl=c.cdnurl||s.defaults.cdnurl):(s.bpid=parseInt(c.cdxhd_bpid)||!1,s.w=parseInt(c.cdxhd_w)||1,s.h=parseInt(c.cdxhd_h)||1,s.slot=c.cdxhd_slot||0,s.plugin=c.cdxhd_plugin||"display",s.debug=c.cdxhd_debug||"",s.testparams=c.cdxhd_testparams||"",s.vtag=c.cdxhd_vtag||"",
s.display_mode=c.cdxhd_display||"",s.lang=c.cdxhd_lang||"",s.device_mode=c.cdxhd_dev||"",s.adserver_url=c.cdxhd_serverurl||"",s.click=c.cdxhd_ctrdr||"",s.ctclick=c.cdxhd_ctasync||"",s.cthash=c.cdxhd_cthash||"",s.pageurl=c.cdxhd_pageurl||"",s.evalparam=c.cdxhd_eval||"",s.settings=c.cdxhd_settings||[],s.frame=c.cdxhd_frame||"",s.safeframe=c.cdxhd_safeframe||"",s.adtype=c.cdxhd_adtype||s.plugin,s.bpos=c.cdxhd_bpos||"",s.addparams=c.cdxhd_addparams||"",s.passbacks=c.cdxhd_passback||!1,s.encode=c.cdxhd_encode||!1,s.trackingurl=c.cdxhd_trackingurl||"","undefined"!=typeof c.cdxhd_cdnurl&&(s.defaults.cdnurl=c.cdxhd_cdnurl)),s.REGISTER_EVENT=c.REGISTER_EVENT||[],s.result_ads="",s.result_debug="",s.result_size="",s.result_branding=0,s.result_checkfn="",s.result_pbtyp="",s.result_pburl="",s.result_adtype="",s.result_config=!1,s.result_slot=s.slot,"yes"===s.safeframe||s.safeframe===!0||"true"===s.safeframe?s.safeframe=!0:s.safeframe=!1,"true"==s.debug||1==debug_init?s.debug=!0:s.debug=!1,build_debug_array(),collect_debug("undefined"!=typeof s.render_init?"### RENDER ADTAG -> "+s.render_init+" ###":"### RENDER ADTAG ### "),0==b)return collect_debug("cdxhd no valid attributes"),!1;if(""===s.bpid||s.bpid<=1)return s.bpid="none",collect_debug("params in AdTag not defined"),!1;if((s.h<0||s.w<0||""===s.slot)&&"none"!=s.display_mode)return collect_debug("Banner size is not set"),!1;if(s.runinframe=s.check_parrent_typ(),s.accestop=s.check_topdoc(),s.switchtotop=!1,s.runinframe===!0&&s.accestop===!0&&("undefined"==typeof top.cdxhd_frames&&(top.cdxhd_frames=[]),"undefined"==typeof window.cdxhd_frameid&&(window.cdxhd_frameid=Math.floor(1e6*Math.random()+1e6),top.cdxhd_frames.push(window)),s.switchtotop=!0),s.runinframe===!0&&s.accestop===!1&&"display"!=s.plugin&&"nativead"!=s.plugin)return collect_debug("Plugin can not run in a iFrame, needs access to top"),collect_debug("EXIT"),!1;if(1==s.accestop?(collect_debug("Access to Top :)"),init_console(!1)):collect_debug("No Access to Top :("),$H().binder_init(s.accestop),s.d_url="",s.resolution="",""!=s.lang&&(s.lang="&lang="+s.lang),""==s.display_mode||"inline"!=s.display_mode&&"none"!=s.display_mode?(s.display_mode="block",s.display="&display=block"):s.display="&display="+s.display_mode,""==s.vtag&&(s.vtag="removed"),""!=s.device_mode?s.device="&dev="+s.device_mode:s.device="",""!=s.click&&(s.click="&click="+encodeURIComponent(s.click)),""==s.adserver_url&&(s.adserver_url=s.defaults.adserver),""!=s.addparams,""==s.evalparam&&(s.evalparam=""),"https"===s.protocol?s.use_secure="&secure":s.use_secure="",""!=s.pageurl&&(s.pageurl="&url="+encodeURIComponent(s.pageurl)),""!=s.ctclick&&(s.ctclick="&kpcl="+s.ctclick),s.addcthash="",""!=s.cthash&&(s.addcthash="&cthash="+encodeURIComponent(s.cthash)),collect_debug(s.plugin,"plugin"),1==s.safeframe&&(collect_debug("## SAFEFRAME ##"),""!=s.plugin&&"display"!=s.plugin))return collect_debug("########## EXIT - plugin and safeframe not compatible ############"),!1;if("overlay"===s.plugin){var d=s.checkBrowserVersion();(d>8||d==-1)&&$P().tag_overlay()}else if("imagead"===s.plugin){var d=s.checkBrowserVersion();(d>8||d==-1)&&$P().AUTOLOADER("imagead")}else if("scroll"===s.plugin){var d=s.checkBrowserVersion();(d>7||d==-1)&&$P().AUTOLOADER("scroll")}else if("masthead"===s.plugin||"pushdown"===s.plugin){"pushdown"===s.plugin&&(s.plugin="masthead");var d=s.checkBrowserVersion();(d>7||d==-1)&&$P().masthead()}else if("interstitial"===s.plugin||"interstitial-mobile"===s.plugin){var d=s.checkBrowserVersion();(d>7||d==-1)&&("mobile"===s.device_mode?(s.plugin="interstitial-mobile",$P().AUTOLOADER(s.plugin)):$P().interstitial())}else if("scopead"===s.plugin||"scopead-header"===s.plugin||"scopead-bottom"===s.plugin){var d=s.checkBrowserVersion();(d>9||d==-1)&&$P().AUTOLOADER(s.plugin)}else if("sneakad"===s.plugin){var d=s.checkBrowserVersion();(d>9||d==-1)&&$P().AUTOLOADER(s.plugin)}else if("sticky"===s.plugin){var d=s.checkBrowserVersion();(d>7||d==-1)&&$P().AUTOLOADER("sticky")}else if("newsbreaker"===s.plugin){var d=s.checkBrowserVersion();(d>7||d==-1)&&$P().AUTOLOADER("newsbreaker")}else if("nativead"===s.plugin){var d=s.checkBrowserVersion();(d>7||d==-1)&&$P().AUTOLOADER("nativead")}else if("expandable"===s.plugin){var d=s.checkBrowserVersion();(d>7||d==-1)&&$P().AUTOLOADER("expandable")}else if("pageskin"===s.plugin){var d=s.checkBrowserVersion();d>8||d==-1?$P().pageskin():s.init()}else s.init()}()}var cdxhd_vloader="2.9.3.0";if("undefined"==typeof CLASSCDXHD){var cdxhd_beacon;window.cdxhd_class_loaded=!0}if("undefined"==typeof window.cdxhd_load_helper)var CLASSCDXHD=new ClassCoAd;