/*! HTMLCreative 2015-01-12 */
window.AdmBase=new function(){var queryStringParsed={cookieCount:0,instanceCount:0,hideOnOrientationChange:0,clickTAG:"",panelGroup:"bg:pg",parsed:!1},ValueType={Number:1,Object:2,Function:4,Array:8,String:16,Boolean:32,Null:64,Undefined:128,Arguments:256,Unknown:512};this.ValueType=ValueType,this.Lang=new function(){var a=this,b=this.getType=function(b){var c,d,e=["Number","Object","Function","String","Boolean","Undefined"];try{d=typeof b.valueOf()}catch(f){d=typeof b}-1!=Object.prototype.toString.call(b).indexOf("Array")&&(c=ValueType.Array);for(var g=0;!c&&g<e.length;g++)c=d==e[g].toLowerCase()?ValueType[e[g]]:null;switch(c){case ValueType.Number:c=isFinite(b)?c:ValueType.Unknown;break;case ValueType.Object:c=b?a.isNumber(b.length)?ValueType.Arguments|c:c:ValueType.Null}return c};this.testValueType=function(a,c){return!!(b(a)&c)};for(var c in ValueType)ValueType.hasOwnProperty(c)&&!new function(){var b=c;a["is"+b]=function(c){return a.testValueType(c,ValueType[b])}}};var removeArrayItem=function(a,b,c){for(var d=0;d<a.length;d++)if(c?c(a[d],b):a[d]==b)return a.splice(d,1);return null},argumentsToArray=function(a,b,c){var d=[],e=a||0;c=c||arguments.callee.caller.arguments;for(var f=b||c.length;f>e;e++)d.push(c[e]);return d},map=function(a,b,c,d){for(var e in b)if(b.hasOwnProperty(e)){var f=b[e],g=!0;d&&void 0===f&&(g=AdmBase.Lang.isFunction(d)&&d(e,f)),!g||c&&e in a||(a[e]=f)}return a};this.map=map,this.foreach=function(a,b){if(AdmBase.Lang.isFunction(b))for(var c in a)if(a.hasOwnProperty(c)&&!(c in AdmBase.foreach.ExcludeList)&&b(c,a[c])===AdmBase.foreach.Break)break},this.foreach.Break={},this.foreach.ExcludeList={},this.toJSON=function(a){return JSON.stringify(a)},this.fromJSON=function(a){return"undefined"!=typeof a&&"null"!=typeof a&&a.length?JSON.parse(a):a},this.DOMEvent=new function(){this.add=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!0):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c},this.remove=function(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener?a.removeEventListener(b,c,!0):a["on"+b]==c&&(a["on"+b]=null)}},this.getAttributeValue=function(a,b,c){return a.attributes.getNamedItem(b)?a.attributes.getNamedItem(b).value:c},this.setAttributeValue=function(a,b,c){return a.setAttribute(b,c)},this.EventManager=function(a){var b={},c=this,d=function(a,c,d){b[a]||(b[a]=[]);var e=b[a];return c&&((b[a]=[]).consumed=!0,b[a].args=d),e},e=function(a,b){for(var c=!0,d=0;d<a.length;d++)if(AdmBase.Lang.isFunction(a[d])){var e=a[d].apply(this,[b]||[])||{};if(e.cancel&&(c=!1),e.stopPropagation)break}return c};this.add=function(a,b){var c=d(a);c.consumed?e([b],c.args):c.push(b)},this.remove=function(a,b){return!!removeArrayItem(d(a),b)},this.fire=function(a,b,f){var g={type:a,info:f},h=d(a,b,g);h.consumed=h.consumed||!!b,h.args=g;var i=e(h,g);return null!==a&&arguments.callee.apply(c,[null,!1].concat(argumentsToArray())),i},this.wasFired=function(a){return d(a).consumed},a&&map(a,{addEvent:c.add,removeEvent:c.remove,fireEvent:c.fire,wasFired:c.wasFired})},this.setNoCacheTokenToUri=function(a,b,c){c=c||"[token]|$token|token",b=b||"random,timestamp";for(var d,e=b.split(","),f=e.length,g=String(Math.round(98e3*Math.random())+1e3),h=0;f>h;h++)d=c.replace(/token/g,e[i]),a=a.replace(new RegExp(d,"ig"),g);return a},this.File={getExtension:function(a){a=a||"";var b="";return b=a.substring(a.lastIndexOf(".")+1,a.length)},getFileName:function(a){a=a||"";var b="";return b=a.substring(a.lastIndexOf("/")+1,a.lastIndexOf("."))},getFile:function(a){a=a||"";var b="";return b=a.substring(a.lastIndexOf("/")+1,a.length)}},this.getQueryString=function(){if(!queryStringParsed.parsed){for(var propName,value,queryString=location.search.substring(1),params=queryString.split("&"),n=0;n<params.length;n++){var r=params[n].indexOf("=");-1!=r&&(propName=params[n].substring(0,r),value=params[n].substring(r+1),queryStringParsed[propName]=decodeURIComponent(value))}queryStringParsed.assets=AdmBase.fromJSON(queryStringParsed.assets?eval("("+decodeURIComponent(queryStringParsed.assets)+")"):""),queryStringParsed.dAssets=Boolean(queryStringParsed.dAssets)?decodeURIComponent(queryStringParsed.dAssets):"",queryStringParsed.fileDomain=Boolean(queryStringParsed.fileDomain)?decodeURIComponent(queryStringParsed.fileDomain):"",queryStringParsed.fileDomainHtm=Boolean(queryStringParsed.fileDomainHtm)?decodeURIComponent(queryStringParsed.fileDomainHtm):"",queryStringParsed.parsed=!0}return queryStringParsed},this.getInteractionEvent=function(a){if(a){var b={};b.start={DESKTOP:"mousedown",IE10:"pointerdown",IE11:"MSPointerDown",MOBILE:"touchstart"},b.end={DESKTOP:"mouseup",IE10:"pointerup",IE11:"MSPointerUp",MOBILE:"touchend"},b.move={DESKTOP:"mousemove",IE10:"pointermove",IE11:"MSPointerMove",MOBILE:"touchmove"};var c=b[a].DESKTOP;return Browser.isMobile()&&(c=window.navigator.pointerEnabled?b[a].IE10:window.navigator.msPointerEnabled?b[a].IE11:b[a].MOBILE),c}}};var SleepUntilIsReady=function(a){var b,c,d=0,e=100;a.isReady&&a.onComplete&&(a.timeout=a.timeout||3e5,b=setInterval(function(){c=d>=a.timeout,(a.isReady()||c)&&(clearInterval(b),c?a.onTimeout&&a.onTimeout():a.onComplete()),a.onProgress&&a.onProgress(d/a.timeout),d+=e},e))},QueueList=function(a,b){var c=a||[],d=this,e=!1,f=[],g=[],h=[];if(!AdmBase.Lang.testValueType(c,AdmBase.ValueType.Array))throw new Error("QueueList: Collection most be an Array collection.");this.isEmpty=function(){return 0==c.length},this.enqueue=function(a){c.push(a),AdmBase.foreach(f,function(b,c){c(a,d,i)})},this.dequeue=function(){if(this.isEmpty())return void i();var a=c.shift();return AdmBase.foreach(g,function(b,c){c(a,d,i)}),a},this.peek=function(){return c[0]},this.clear=function(){c=[]},this.getLength=function(){return c.length},this.onDone=function(a){AdmBase.Lang.testValueType(a,AdmBase.ValueType.Function)&&h.push(a)},this.onDequeue=function(a){return AdmBase.Lang.testValueType(a,AdmBase.ValueType.Function)&&g.push(a),this},this.onEnqueue=function(a){return AdmBase.Lang.testValueType(a,AdmBase.ValueType.Function)&&f.push(a),this};var i=function(){d.isEmpty()&&!e&&(e=!0,AdmBase.foreach(h,function(a,b){b()}))};this.onDone(b),AdmBase.Lang.testValueType(a,AdmBase.ValueType.Array)&&AdmBase.Lang.testValueType(b,AdmBase.ValueType.Function)&&!a.length&&i()},ADMMod=function(){var a="",b=this,c={},d="{delimiter-css-admotion}";this.setDomain=function(b){var c;"undefined"!=typeof window.ADMFileDomain&&(c=window.ADMFileDomain),b=b||c||"",a=b+("/"==b.charAt(b.length-1)?"":"/")},this.getDomain=function(){return a},this.require=function(a,c){var d={};return b.hasModule(a.id)?e(a.id,d,c):this.loadModules([a],function(){e(a.id,d,c)}),d},this.loadModules=function(a,b){var c;if(!AdmBase.Lang.testValueType(a,AdmBase.ValueType.Array))throw new Error("Request most be an Array collection.");c=new QueueList(a,b),c.onDequeue(function(a,b,c){f(a,b,c)}),c.dequeue()},this.loadScript=function(a,b){if(a&&a.src){var c=document.createElement("script");c.src=a.src,c.type="text/javascript",document.body.appendChild(c),b&&Sleep(a)}},this.loadCss=function(a,b){if(a&&a.src){var c=document.getElementsByTagName("head")[0],e=null,f=c.getElementsByTagName("link"),g=document.createElement("link");g.rel="stylesheet",g.type="text/css",g.href=a.src,g.media="screen",AdmBase.foreach(f,function(a,b){return b.hasOwnProperty("nodeType")&&8==b.nodeType&&b.nodeValue==d?(e=b,AdmBase.foreach.Break):void 0}),e?c.insertBefore(g,e):c.appendChild(g),b&&Sleep(a)}},this.resolvePath=function(a,b){var c;if(b=b||"",b.length>0){var d="file:"==document.location.protocol?"http:":"";c=0==b.indexOf("//")?d+b:b,AdmBase.foreach(h(),function(a,b){c=c.replace(a,b)})}else{var e=String(a).split("-"),f=h()["{mods_Path}"]+"/"+e[0]+"/",g=(e.length>1?e[1]:e[0])+".js";c=f+g}return c},this.registerModule=function(a,c){var d,e=b.getModule(a),h=new g;e&&!e.isRegistered&&"css"!=e.fileType&&(e.construct=c,e.config=h,c(h),d=new QueueList(e.config.dependencies,function(){e.config.initialize(),e.isRegistered=!0}),d.onDequeue(function(a,b,c){f(a,b,c)}),d.dequeue())},this.setupModule=function(a){if(b.hasModule(a.id))try{b.getModule(a.id).config.setData(a.pendingData)}catch(c){}},this.getModule=function(a){return c[a]},this.hasModule=function(a){return c.hasOwnProperty(a)};var e=function(a,c,d){var e=b.getModule(a).config.exports;AdmBase.map(c,e);try{d(e)}catch(f){}},f=function(a,d){if(!a.hasOwnProperty("id"))throw new Error("Id property does not found on request object.");var e;b.hasModule(a.id)||(c[a.id]=a,a.isRegistered=!1,a.timeout=12e4,a.fileType=AdmBase.File.getExtension(a.src)||"js",a.src=b.resolvePath(a.id,a.src),a.isReady=a.isReady||function(){return a.isRegistered},"css"==a.fileType?b.loadCss(a):b.loadScript(a)),e=b.getModule(a.id),e.pendingData=a.data,e.onComplete=e.onTimeout=function(){b.setupModule(e),e.isRegistered=!0,d.dequeue()},SleepUntilIsReady(e)},g=function(){this.dependencies=[],this.exports=ADMMod.modExported.add,this.initialize=function(){},this.setData=function(){}},h=function(){var b={};return b["{commons_Path}"]=a+"mods/commons",b["{mods_Path}"]=a+"mods",b["{root_Path}"]=a,b};this.setDomain()};ADMMod.modExported={mods:{}},ADMMod.modExported.add=function(a,b){(a.hasOwnProperty("id")&&!ADMMod.modExported.mods.hasOwnProperty(a.id)||b)&&(ADMMod.modExported.mods[a.id]=a,window[a.id]=a)},ADMMod.internalMods={},ADMMod.internalMods["adm-asset"]="ModDco-1.0.0",ADMMod.instanceObj=function(a,b){{var c=this;new AdmBase.EventManager(this)}this.node=a,this.id="adm"+a.id,this.type=b,this.destroy=function(){},this.calls=function(a,b){a.length&&AdmBase.foreach(a,function(a,d){d.apply(c,b)})}},ADMMod.Tag=function(a,b){var c;this.getContainer=function(){return c},this.setAttributes=function(a){for(var b in a)a.hasOwnProperty(b)&&"length"!=b&&a[b].value.length&&AdmBase.setAttributeValue(c,a[b].name,a[b].value)};var d=function(a){var d=b.parentNode;c=document.createElement(a||"div"),d.insertBefore(c,b),d.removeChild(b)};d(a)},AdmBase.DOMEvent.add("unload",function(){AdmBase.foreach(ADMMod.modExported,function(a,b){try{b.destroy()}catch(c){}HTMLCreative.reportClose})}),window.AdmMod=new ADMMod;var ADMSynchronizer=function(a,b){var c={},d="",e=function(b){if(""!=b){if("undefined"==typeof b)throw new Error("setSyncNameId Error: The parameter 'name' was not found.");d=b,window.ADMSynchronizer={sessionId:a,name:b,message:function(a,b,d){if(c.hasOwnProperty(a))for(var e=c[a],f=e.length,g=0;f>g;g++)e[g](b,d)}}}},f=function(a,b){if("undefined"==typeof d)throw new Error("ADMSynchronizer class Error: The property '_name' was not found.");if("undefined"==typeof a)throw new Error("addReceiverMessage Error: The parameter 'idMessage' was not found.");if("undefined"==typeof b)throw new Error("addReceiverMessage Error: The parameter 'callBack' was not found.");c[a]=c[a]||[],c[a].push(function(a,c){b({targetName:a,args:c})})},g=function(a,b,c){if("undefined"==typeof a)throw new Error("sendMessageTo Error: The parameter 'idCommand' was not found.");c=c||"all",h(top,a,c,b)},h=function(b,c,e,f){for(var g,i=!1,j=new RegExp("^("+e+")$"),k=0;k<b.length;k++){g=b[k];try{i=g.hasOwnProperty("ADMSynchronizer")}catch(l){i=!1}i?(sync=g.ADMSynchronizer,sync.name==d||sync.sessionId!=a||"all"!=e&&!j.test(sync.name)||sync.message(c,d,f)):g.length&&h(g,c,e,f)}};e(b),HTMLCreative.setCreativityId=e,HTMLCreative.addCommandCallback=f,HTMLCreative.sendCommandTo=g};window.AdmAssetManager=function(a,b){var c=this,d={},e=a.assets||{},f="",g="",h="";this.loadAssetVersion=function(a,c,d){f=a||"",g=c||"",h=d||"",Boolean(f)?(f=f.replace(c,d),j()):Boolean(b)&&b()},this.getAssetsVar=function(){return e},this.getDAsset=function(){return f},this.getDomain=function(){return g},this.getFileDomainHtm=function(){return h},this.getAssetById=function(a){var b;return e&&e.hasOwnProperty(a)&&(b=e[a]),b},this.getAssetSrc=function(a,b){var d=c.getAssetById(a)||c.getAssetData(a).src||b||"";return i(d)},this.getAssetValue=function(a,b){return c.getAssetById(a)||c.getAssetData(a).value||b||""},this.getAssetData=function(a){return d[a]||{}},this.setData=function(a){var b,d,e,f,g;AdmBase.foreach(a,function(a,h){if(b=h.data.nodes[0],g=b.attributes.getNamedItem("adm-asset").value,d=c.getAssetData(g),f=d&&"text"==d.assetType,e=f?c.getAssetValue(g):c.getAssetSrc(g),1==b.nodeType&&e){if("dataFile"==d.assetType&&"a"!=b.nodeName.toLowerCase())return;switch(b.nodeName.toLowerCase()){case"a":f?b.innerHTML=e:b.setAttribute("href",e);break;case"img":AdmBase.foreach(d,function(a,c){/^(id|assetType|type|src)$/.test(a)||(a=k.hasOwnProperty(a)?k[a]:a,/top|left/.test(a)?$(b).css(a,c):b.setAttribute(a,c))}),b.setAttribute("src",e);break;case"audio":case"video":AdmBase.foreach(d,function(a,c){/^(id|assetType|type|src)$/.test(a)||(a=k.hasOwnProperty(a)?k[a]:a,/top|left/.test(a)?$(b).css(a,c):b.setAttribute(a,c))});var i=document.createElement("source");i.src=e,i.type=d.type||"",b.appendChild(i);break;default:f?b.innerHTML=e:b.setAttribute("src",e)}}})};var i=function(a){return Boolean(a)?(a=a.replace("%fileDomain%",g||""),a=a.replace("%fileDomainHtm%",h||"")):""},j=function(){var a;$.ajax({type:"GET",url:f,dataType:"xml",contentType:"text/xml",success:function(c){$(c).find("asset").each(function(){a=d[$(this).attr("id")]={id:$(this).attr("id"),assetType:$(this).attr("type")},$(this).find("prop").each(function(){a[$(this).attr("name")]||(a[$(this).attr("name")]=$(this).text()),!a.type&&$(this).attr("type")&&(a.type=$(this).attr("type"))})}),void 0!=b&&b()},error:function(a,c,d){console.log(c+" "+d),void 0!=b&&b()}})},k={startWithAudio:"muted",autoPlay:"autoplay",AutoReport:"adm-auto-report",videoCustomPrefix:"adm-event-prefix",x:"left",y:"top"}};var Browser={app:{name:"other",prefix:"",fsEventChange:""},system:{type:"pc",name:"other"}};Browser.setCurrentBrowser=function(){var a=navigator.userAgent.toLocaleLowerCase(),b={};b.Android={userAgent:/android/i,type:"mobile"},b.IOS={userAgent:/ip(?:ad|od|hone)/i,type:"mobile"},b.BlackBerry={userAgent:/blackberry/i,type:"mobile"},b.WindowPhone={userAgent:/windows phoned/i,type:"mobile"},b.Windows={userAgent:/win/i,type:"pc"},b.MacOS={userAgent:/mac(intosh| os)/i,type:"pc"},b.UNIX={userAgent:/linux|x11/i,type:"pc"};var c={};c.chrome={name:"chrome",prefix:"webkit",fsEventChange:"webkitfullscreenchange,webkitbeginfullscreen,webkitendfullscreen"},c.ie={name:"ie",prefix:"ms",fsEventChange:"MSFullscreenChange,MSFullscreenchange"},c.firefox={name:"firefox",prefix:"moz",fsEventChange:"mozfullscreenchange"},c.safari={name:"safari",prefix:"webkit",fsEventChange:"webkitfullscreenchange,webkitbeginfullscreen,webkitendfullscreen"},c.other={name:"other",prefix:"",fsEventChange:""};var d,e,f=a.match(/(opera|ie|firefox|chrome|trident|crios|version)[\s\/:]([\w\d\.]+)?.*?(safari|(?:rv[\s\/:]|version[\s\/:])([\w\d\.]+)|$)/)||[null,"other"],g="version"==f[1]?f[3]:f[1];g="trident"==g?"ie":g,g="crios"==g?"chrome":g,Browser.app=c[g];for(var h in b)d=b[h],d.name=h,e=a.match(d.userAgent),function(a,b){Browser[a]=function(){return b}}("is"+h,e),e&&"other"==Browser.system.name&&(Browser.system=d)},Browser.isMobile=function(){return"mobile"==Browser.system.type},Browser.clientX=function(a){return a=a||window.event,a.changedTouches?a.changedTouches[0].clientX:a.clientX},Browser.clientY=function(a){return a=a||window.event,a.changedTouches?a.changedTouches[0].clientY:a.clientY},Browser.PageX=function(a){a=a||window.event;var b=a.pageX;return void 0===b&&(b=Browser.clientX(a)+document.body.scrollLeft+document.documentElement.scrollLeft),b},Browser.PageY=function(a){a=a||window.event;var b=a.pageY;return void 0===b&&(b=Browser.clientY(a)+document.body.scrollTop+document.documentElement.scrollTop),b},Browser.fullscreen={},Browser.fullscreen.isEnabled=function(){var a=document.fullscreenEnabled;try{a=a||Browser.app.prefix+"FullscreenEnabled",a=a||Browser.app.prefix+"FullScreenEnabled"}catch(b){}return Boolean(a)},Browser.fullscreen.element=function(){var a=document.fullscreenElement;try{a=a||document[Browser.app.prefix+"FullscreenElement"],a=a||document[Browser.app.prefix+"FullScreenElement"],a=a||document[Browser.app.prefix+"CurrentFullScreenElement"]}catch(b){}return a},Browser.fullscreen.isActive=function(){var a=Boolean(Browser.fullscreen.element());return a},Browser.fullscreen.addEvent=function(a){var b;try{b=Browser.app.fsEventChange.split(",")}catch(c){}for(var d=0;d<b.length;d++)AdmBase.DOMEvent.add(document,b[d],a)},Browser.fullscreen.removeEvent=function(a){var b;try{b=Browser.app.fsEventChange.split(",")}catch(c){}for(var d=0;d<b.length;d++)AdmBase.DOMEvent.remove(document,b[d],a)},Browser.fullscreen.enter=function(a){var b=a||document.documentElement;b.requestFullScreen?b.requestFullScreen():b[Browser.app.prefix+"RequestFullScreen"]?b[Browser.app.prefix+"RequestFullScreen"]():b[Browser.app.prefix+"RequestFullscreen"]&&b[Browser.app.prefix+"RequestFullscreen"]()},Browser.fullscreen.exit=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.documentElement[Browser.app.prefix+"CancelFullScreen"])document.documentElement[Browser.app.prefix+"CancelFullScreen"]();else try{document.documentElement[Browser.app.prefix+"ExitFullscreen"]()}catch(a){}};var Finder=function(a){a=a.replace(" ","");var b=a.split(","),c=[];this.getModules=function(a){var b=[];if(a){var d=new RegExp(a);AdmBase.foreach(c,function(a,c){d.test(c.type)&&b.push(c)})}else b=c.concat();return b},this.getFilters=function(){return a},this.getLength=function(){return c.length},this.search=function(a){var b,c=a.childNodes,e=c.length;d(a);for(var f=0;e>f;f++)b=c[f],1==b.nodeType&&(b.childNodes.length?this.search(b):d(b))},this.searchAttMods=function(a){var d,e,f,g,h={};for(var i in b){g=b[i],d=a.querySelectorAll("["+g+"]"),h={type:g,id:"",data:{nodes:[]}};for(var j in d)d.hasOwnProperty(j)&&"length"!=j&&(e=d[j],f=AdmBase.getAttributeValue(e,g,g),h.hasOwnProperty(f)?h[f].data.nodes.push(e):(h[f]={type:g,id:f,data:{nodes:[e]}},c.push(h[f])))}},this.searchTagMods=function(a){var b,d,e,f={},g=a.innerHTML.match(/(<adm:\w*\d?\-?\d?)/g);for(var h in g)b=g[h].substring(1),f.hasOwnProperty(b)||(f[b]=!0,d=document.getElementsByTagName(b),e=AdmBase.getAttributeValue(d[0],"version","1.0.0"),c.push({type:"adm-tag",id:b.split(":")[1]+"-"+e,data:{nodes:d}}))};var d=function(a){var d,e;for(var f in b)d=b[f],a.attributes.getNamedItem(d)&&(e=a.attributes.getNamedItem(d).value,c.push({type:d,id:e,data:{nodes:[a]}}))}},MediaEvents={abort:"abort",canplay:"canplay",emptied:"emptied",ended:"ended",error:"error",loadeddata:"loadeddata",loadedmetadata:"loadedmetadata",loadstart:"loadstart",pause:"pause",play:"play",playing:"playing",progress:"progress",ratechange:"ratechange",seeked:"seeked",seeking:"seeking",stalled:"stalled",suspend:"suspend",timeupdate:"timeupdate",volumechange:"volumechange",waiting:"waiting"},Observable=function(a,b){var c=a,d=b||"stop",e=new AdmBase.EventManager(this),f=this;this.getId=function(){return c},this.setValue=function(a){a!=b&&(d=a,e.fire("change",f))},this.getValue=function(){return d}},CuePointManager=function(){var a=new AdmBase.EventManager(this),b={length:0,points:{}};this.addPoint=function(a,c,d){a=parseInt(a),isNaN(a)||b.points[a]?b.points[a].data.hasOwnProperty(c)||(b.points[a].data[c]={data:d,name:c}):(b.points[a]={sent:!1,data:{},percent:a},b.points[a].data[c]={data:d,name:c},b.length+=1)},this.removePoint=function(a){b.points[a]&&(b.points[a]=null,b.length-=1,delete b.points[a])},this.update=function(c){{var d,e=b.points;e.length}for(var f in e)if(d=e[f],d>=c&&!d.sent){if(!cuePoint.sent)for(var g in e.data)a.fire("CUE_POINT",!1,e.data[g]);d.sent=!0}},this.resetPoints=function(){for(var a in b)b.points[a].sent=!1}},ADMVideoReporter=function(a){var b,c,d,e,f,g,h,i="ADM_Video",j=(new AdmBase.EventManager(this),new CuePointManager);this.setAutoReport=function(a){d=a},this.setPrefix=function(a){h=a},this.resetPrefix=function(){h=i},this.reset=function(){f=!a.attributes.hasOwnProperty("autoPlay"),h=a.attributes.hasOwnProperty("adm-event-prefix")?a.attributes["adm-event-prefix"]:i,d=a.attributes.hasOwnProperty("adm-auto-report")?a.attributes["adm-auto-report"]:!0,g=!1,e=0};var k=function(){b=new Observable("Playback"),b.add("change",function(){p(b)}),c=new Observable("UnmutedPlayback"),c.add("change",function(){p(c),m("Interaction","stop"==c.getValue()?"VideoMute":"UnMute")})},l=function(b){var c=b.type;switch(c){case MediaEvents.ended:e=c,j.update(1),j.resetPoints(),o(!0);break;case MediaEvents.pause:e=c,o(!0);break;case MediaEvents.play:f&&!g?(g=!0,f=!1,m("Interaction","UserInitiated")):"ended"==e&&m("Interaction","ReplayButton"),e=c,o(!1);break;case MediaEvents.volumechange:{a.muted||0==a.volume}n(a.pause)}},m=function(a,b,c){d&&reportEvent(new ExternalEvent(a,h+b,c||""))},n=function(b){c.setValue(b||a.muted?"stop":"start")},o=function(a){b.setValue(a?"stop":"start"),n(a)},p=function(a){m(EventType.Timer,a.getId(),a.getValue())},q=function(){var b=a.currentTime/a.duration;j.update(b)};j.addPointer(.001,"Started"),j.addPointer(.25,"25Played"),j.addPointer(.5,"50Played"),j.addPointer(.75,"75Played"),j.addPointer(1,"FullyPlayed"),j.add("CUE_POINT",function(a){m(EventType.Automatic,a.name)}),this.reset(),k(),AdmBase.DOMEvent.add(a,"timeupdate",q),AdmBase.DOMEvent.add(a,"ended",l),AdmBase.DOMEvent.add(a,"play",l),AdmBase.DOMEvent.add(a,"pause",l),AdmBase.DOMEvent.add(a,"volumechange",l)},ADMVideoManager={};ADMVideoManager.addElements=function(){var a={},b=document.getElementsByTagName("video");for(var c in b)a.push(new ADMVideoReporter(b[c]))};var Command={ReportEvent:"reportEvent",Remove:"remove",Expand:"expand",Collapse:"collapse",Crop:"crop",Resize:"resize",TrySet:"trySet",OpenWindow:"openWindow",HidePiece:"hidePiece",ShowPiece:"showPiece",SetPanelTracker:"setPanelTracker"},PieceEvent={SDKReady:"SDKReady",Load:"load",Ready:"ready",Initialize:"initialize",MouseMoveOverPiece:"mouseMoveOverPiece"},EventType={Automatic:"Automatic",Interaction:"Interaction",Click:"Click",Timer:"Timer"},EventAction={Start:"start",Stop:"stop"},MediaEvents={abort:"abort",canplay:"canplay",emptied:"emptied",ended:"ended",error:"error",loadeddata:"loadeddata",loadedmetadata:"loadedmetadata",loadstart:"loadstart",pause:"pause",play:"play",playing:"playing",progress:"progress",ratechange:"ratechange",seeked:"seeked",seeking:"seeking",stalled:"stalled",suspend:"suspend",timeupdate:"timeupdate",volumechange:"volumechange",waiting:"waiting"},ExternalEvent=function(a,b,c){this.Type=a,this.Identifier=b,this.Action=c||""},PostingDataType={Event:"Event",Command:"Command"};window.HTMLCreative=new function(){var PostingData=function(a,b,c){this.type=a,this.message=b,this.args=c},_assetManager,_self=this,_finder=new Finder("adm-mod,adm-asset"),_eventManager=new AdmBase.EventManager(this),_adVars=AdmBase.getQueryString(),_countDownReady=new QueueList([1,1],function(){_eventManager.fire(PieceEvent.Initialize,!0)});_countDownReady.onDequeue(function(a,b,c){b.isEmpty()&&c()}),this.preload=_countDownReady;var postMessage=function(a){parent.postMessage(AdmBase.toJSON(a),"*")},handleCommands=function(a){switch(a.message){case"setVars":handleVars(a.args)}},handleEvents=function(a){var b={};switch(a.message){case"orientationchange":_adVars.hideOnOrientationChange&&(b.eventType=0!==a.args&&a.args?"hide":"show"),_eventManager.fire("orientationchange",!1,b)}},postMessageHandler=function(a){var b=AdmBase.fromJSON(a.data);switch(b.type){case PostingDataType.Command:handleCommands(b);break;case PostingDataType.Event:handleEvents(b)}};this.isFirstTime=function(){return 0==_adVars.cookieCount&&0==_adVars.instanceCount},this.getCookieCount=function(){return _adVars.cookieCount},this.getInstanceCount=function(){return _adVars.instanceCount},this.getPanelGroup=function(){return _adVars.panelGroup},this.getPanelGroupList=function(){return _adVars.panelGroupList},this.getSavedData=function(){return _adVars.savedData},this.getEventValues=function(){return _adVars.eventValues},this.getCreativeSize=function(){return{width:_adVars.width,height:_adVars.height}},this.getAdVars=this.getPieceVars=function(){return _adVars},this.setOnLoad=function(a){AdmBase.DOMEvent.add(window,"load",a)},this.reportEvent=function(a){postMessage(new PostingData(PostingDataType.Command,Command.ReportEvent,a)),_self.fireEvent("reportEvent",null,a)},this.timerStart=function(a){_self.reportEvent(new ExternalEvent(EventType.Timer,a,EventAction.Start))},this.timerStop=function(a){_self.reportEvent(new ExternalEvent(EventType.Timer,a,EventAction.Stop))},this.automatic=function(a){_self.reportEvent(new ExternalEvent(EventType.Automatic,a))},this.interaction=function(a){_self.reportEvent(new ExternalEvent(EventType.Interaction,a))},this.reportClick=function(a){_self.reportEvent(new ExternalEvent(EventType.Click,a))},this.reportAutomaticExpand=function(){_self.reportEvent(new ExternalEvent(EventType.Automatic,"ADM_Expand",null))},this.reportExpandOnUserInitiated=function(){_self.reportEvent(new ExternalEvent(EventType.Interaction,"ADM_ExpandUserInitiated",null)),_self.reportAutomaticExpand()},this.reportCollapseOnUserInitiated=function(){_self.reportEvent(new ExternalEvent(EventType.Interaction,"ADM_ManualCollapse",null))},this.reportAutomaticClose=function(){_self.reportEvent(new ExternalEvent(EventType.Automatic,"ADM_Close",null))},this.reportCloseOnUserInitiated=function(){_self.reportEvent(new ExternalEvent(EventType.Interaction,"ADM_ManualClose",null)),_self.reportAutomaticClose()},this.sendCommand=function(a,b,c,d){var e=c&&d?"["+c+":"+d+"]":"",f=b instanceof Object?AdmBase.toJSON(b):String(b);postMessage(new PostingData(PostingDataType.Command,a+e,f||null));var g={name:a,data:b,target:e};_self.fireEvent("reportCommand",null,g)},this.expand=function(a,b,c){_self.sendCommand(Command.Expand,a,b,c)},this.collapse=function(a,b,c){_self.sendCommand(Command.Collapse,a,b,c)},this.remove=function(a,b){_self.sendCommand(Command.Remove,null,a,b),setTimeout(function(){AdmBase.DOMEvent.remove(window,"message",postMessageHandler)},0)},this.trySet=function(a,b){_self.sendCommand(Command.TrySet,null,a,b)},this.setPanelTracker=function(a){_self.sendCommand(Command.SetPanelTracker,{Identifier:a})},this.resize=function(a,b,c,d){var e={width:a,height:b,top:c,left:d};_self.sendCommand(Command.Crop,e)};var noCacheToken="[random],$random,random,[timestamp],$timestamp,timestamp";this.clickThrough=function(a){var b=Boolean(a)?decodeURIComponent(_adVars.eventValues[a]):_adVars.clickTAG;_self.reportEvent(new ExternalEvent(EventType.Click,a||null)),window.open(b)};var handleVars=function(vars){for(var i in vars)vars.hasOwnProperty(i)&&(_adVars[i]="string"==typeof vars[i]?decodeURIComponent(vars[i]):vars[i]);_adVars.eventValues=AdmBase.fromJSON(_adVars.eventValues?eval("("+decodeURIComponent(_adVars.eventValues)+")"):""),_adVars.assets=AdmBase.fromJSON(_adVars.assets?eval("("+decodeURIComponent(_adVars.assets)+")"):"")};this.setToReady=function(){Browser.setCurrentBrowser(),Browser.fullscreen.addEvent(function(){var a=Browser.fullscreen.isActive();HTMLCreative.reportEvent(new ExternalEvent(EventType.Timer,"ADM_FS_Exp",a?"start":"stop")),HTMLCreative.reportEvent(new ExternalEvent(EventType.Interaction,a?"ADM_FS_Start":"ADM_FS_End"))}),"complete"==document.readyState&&onLoadComplete(),postMessage(new PostingData(PostingDataType.Event,PieceEvent.SDKReady,null))},this.addEventListener=function(a,b){_eventManager.add(a,b)},this.removeEventListener=function(a,b){_eventManager.remove(a,b)},this.setOnLoad(function(){onLoadComplete(),postMessage(new PostingData(PostingDataType.Event,"load",!0))});var onLoadComplete=function(){_finder.search(document.body),_finder.searchTagMods(document.body);{var a=document.getElementsByTagName("video"),b=_finder.getModules("adm-(mod|tag)");new ADMSynchronizer(_adVars.sessionId,_adVars.panelGroup)}_assetManager=new AdmAssetManager(_adVars,function(){_assetManager.setData(_finder.getModules("adm-asset")),a.length&&(b=b.concat({id:"ModAdmVideo-1.0.0",data:{nodes:a}})),AdmMod.loadModules(b,function(){_countDownReady.dequeue()}),_countDownReady.dequeue()}),_assetManager.loadAssetVersion(_adVars.dAssets,_adVars.fileDomain,_adVars.fileDomainHtm)},mTimeout=null;AdmBase.DOMEvent.add(window,"message",postMessageHandler),AdmBase.DOMEvent.add(window.document,"mousemove",function(a){null===mTimeout&&(mTimeout=setTimeout(function(){postMessage(new PostingData(PostingDataType.Event,PieceEvent.MouseMoveOverPiece,{layerX:a.layerX,layerY:a.layerY,offsetX:a.offsetX,offsetY:a.offsetY})),mTimeout=null},100))}),!function(){var a="file:"==window.location.protocol||"localhost"==window.location.hostname,b="undefined"!=typeof window.admReady;if(a&&b){for(var c,d,e,f={checkLoader:0},g=location.search.substring(1),h=g.split("&"),i=0;i<h.length;i++)c=h[i].split("="),d=c[0],e=c[1]||void 0,f[d]=decodeURI(e);var j=f.checkLoader;isNaN(j)||setTimeout(function(){_countDownReady.dequeue()},1e3*j)}}()},window.mraid=window.ormma=new function(){var a,b=new AdmBase.EventManager,c={Loading:"loading",Default:"default",Resized:"resized",Expanded:"expanded",Hidden:"hidden"},d={Ready:"ready",StateChange:"stateChange",SizeChange:"sizeChange"},e=function(){HTMLCreative.expand(),h=c.Expanded,b.fire(d.StateChange),b.fire(d.SizeChange)},f=function(){HTMLCreative.collapse(),h=c.Default,b.fire(d.StateChange)},g=function(){HTMLCreative.remove(),h=c.Hidden,b.fire(d.StateChange)},h=c.Loading;this.getOrientation=function(){return a},this.getState=function(){return h},this.expand=function(){(h==c.Default||h==c.Resized)&&e()},this.resize=function(a,e){(h==c.Default||h==c.Expanded)&&(HTMLCreative.resize(a,e,0,0),h=c.Resized,b.fire(d.SizeChange),b.fire(d.StateChange))},this.close=function(){h==c.Resized||h==c.Expanded?f():h==c.Default&&g()},this.open=function(a){window.open(a),HTMLCreative.reportEvent(new ExternalEvent(EventType.Click,null))},this.getMaxSize=function(){return HTMLCreative.getCreativeSize()},this.addEventListener=function(a,c){b.add(a,c)},this.removeEventListener=function(a,c){b.remove(a,c)},this.useCustomClose=function(a){HTMLCreative.sendCommand("callAPIMethod",{method:"useCustomClose",args:[a]})},this.setExpandProperties=function(a){HTMLCreative.sendCommand("callAPIMethod",{method:"setExpandProperties",args:[a]})},this.AdState=c,this.AdEvent=d,HTMLCreative.addEventListener("orientationchange",function(c){a=c.info,b.fire("orientationChange",!1,a)}),HTMLCreative.addEventListener(PieceEvent.Initialize,function(){h=c.Default,"undefined"!=typeof window.ORMMAReady?window.ORMMAReady():"undefined"!=typeof window.admReady&&window.admReady(),b.fire(PieceEvent.ready)})},HTMLCreative.setToReady();